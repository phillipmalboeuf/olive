var ei=Object.defineProperty;var Zt=i=>{throw TypeError(i)};var ti=(i,h,d)=>h in i?ei(i,h,{enumerable:!0,configurable:!0,writable:!0,value:d}):i[h]=d;var Xt=(i,h,d)=>ti(i,typeof h!="symbol"?h+"":h,d),pt=(i,h,d)=>h.has(i)||Zt("Cannot "+d);var oe=(i,h,d)=>(pt(i,h,"read from private field"),d?d.call(i):h.get(i)),Fe=(i,h,d)=>h.has(i)?Zt("Cannot add the same private member more than once"):h instanceof WeakSet?h.add(i):h.set(i,d),mt=(i,h,d,P)=>(pt(i,h,"write to private field"),P?P.call(i,d):h.set(i,d),d),$t=(i,h,d)=>(pt(i,h,"access private method"),d);(function(){const h=document.createElement("link").relList;if(h&&h.supports&&h.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))P(u);new MutationObserver(u=>{for(const e of u)if(e.type==="childList")for(const l of e.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&P(l)}).observe(document,{childList:!0,subtree:!0});function d(u){const e={};return u.integrity&&(e.integrity=u.integrity),u.referrerPolicy&&(e.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?e.credentials="include":u.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function P(u){if(u.ep)return;u.ep=!0;const e=d(u);fetch(u.href,e)}})();var Bt=Array.isArray,ni=Array.from,dn=Object.isFrozen,pn=Object.defineProperty,St=Object.getOwnPropertyDescriptor,ii=Object.getOwnPropertyDescriptors,ri=Object.prototype,ai=Array.prototype,wt=Object.getPrototypeOf;const me=2,mn=4,Te=8,xn=16,ae=32,Rt=64,ye=128,Je=256,ne=512,he=1024,Ie=2048,xe=4096,Be=8192,si=16384,Dt=32768,oi=65536,li=1<<18,J=Symbol("$state"),yn=Symbol("$state.frozen"),fi=Symbol("");function Sn(i){return i===this.v}function wn(i,h){return i!=i?h==h:i!==h||i!==null&&typeof i=="object"||typeof i=="function"}function Lt(i){return!wn(i,this.v)}function ui(i){throw new Error("effect_in_teardown")}function ci(){throw new Error("effect_in_unowned_derived")}function vi(i){throw new Error("effect_orphan")}function gi(){throw new Error("effect_update_depth_exceeded")}function hi(i){throw new Error("props_invalid_value")}function di(){throw new Error("state_unsafe_mutation")}function X(i){return{f:0,v:i,reactions:null,equals:Sn,version:0}}function qe(i){var d;const h=X(i);return h.equals=Lt,z!==null&&z.l!==null&&((d=z.l).s??(d.s=[])).push(h),h}function G(i,h){return b!==null&&Mt()&&b.f&me&&di(),i.equals(h)||(i.v=h,i.version=On(),Pn(i,he),Mt()&&N!==null&&N.f&ne&&!(N.f&ae)&&(K!==null&&K.includes(i)?(j(N,he),ut(N)):ge===null?Ui([i]):ge.push(i))),h}function Pn(i,h){var d=i.reactions;if(d!==null)for(var P=Mt(),u=d.length,e=0;e<u;e++){var l=d[e],s=l.f;s&he||!P&&l===N||(j(l,h),s&(ne|ye)&&(s&me?Pn(l,Ie):ut(l)))}}function pi(i){N===null&&b===null&&vi(),b!==null&&b.f&ye&&ci(),Vt&&ui()}function Jt(i,h){var d=h.last;d===null?h.last=h.first=i:(d.next=i,i.prev=d,h.last=i)}function Re(i,h,d,P=!0){var u=(i&Rt)!==0,e={ctx:z,deps:null,nodes:null,f:i|he,first:null,fn:h,last:null,next:null,parent:u?null:N,prev:null,teardown:null,transitions:null,version:0};if(d){var l=Pe;try{jt(!0),ft(e),e.f|=si}finally{jt(l)}}else h!==null&&ut(e);var s=d&&e.deps===null&&e.first===null&&e.nodes===null&&e.teardown===null;return!s&&!u&&P&&(N!==null&&Jt(e,N),b!==null&&b.f&me&&Jt(e,b)),e}function mi(i){const h=Re(Te,null,!1);return j(h,ne),h.teardown=i,h}function xi(i){pi();var h=N!==null&&(N.f&Te)!==0&&z!==null&&!z.m;if(h){var d=z;(d.e??(d.e=[])).push(i)}else{var P=ot(i);return P}}function yi(i){const h=Re(Rt,i,!0);return()=>{ze(h)}}function ot(i){return Re(mn,i,!1)}function Cn(i){return Re(Te,i,!0)}function Ve(i){return Cn(i)}function Ft(i,h=0){return Re(Te|xn|h,i,!0)}function Ae(i,h=!0){return Re(Te|ae,i,!0,h)}function Mn(i){var h=i.teardown;if(h!==null){const d=Vt,P=b;en(!0),tn(null);try{h.call(null)}finally{en(d),tn(P)}}}function ze(i,h=!0){var d=!1;if((h||i.f&li)&&i.nodes!==null){for(var P=i.nodes.start,u=i.nodes.end;P!==null;){var e=P===u?null:P.nextSibling;P.remove(),P=e}d=!0}if(Ht(i,h&&!d),lt(i,0),j(i,Be),i.transitions)for(const s of i.transitions)s.stop();Mn(i);var l=i.parent;l!==null&&i.f&ae&&l.first!==null&&En(i),i.next=i.prev=i.teardown=i.ctx=i.deps=i.parent=i.fn=i.nodes=null}function En(i){var h=i.parent,d=i.prev,P=i.next;d!==null&&(d.next=P),P!==null&&(P.prev=d),h!==null&&(h.first===i&&(h.first=P),h.last===i&&(h.last=d))}function je(i,h){var d=[];Ot(i,d,!0),An(d,()=>{ze(i),h&&h()})}function An(i,h){var d=i.length;if(d>0){var P=()=>--d||h();for(var u of i)u.out(P)}else h()}function Ot(i,h,d){if(!(i.f&xe)){if(i.f^=xe,i.transitions!==null)for(const l of i.transitions)(l.is_global||d)&&h.push(l);for(var P=i.first;P!==null;){var u=P.next,e=(P.f&Dt)!==0||(P.f&ae)!==0;Ot(P,h,e?d:!1),P=u}}}function Ne(i){Tn(i,!0)}function Tn(i,h){if(i.f&xe){i.f^=xe,Ke(i)&&ft(i);for(var d=i.first;d!==null;){var P=d.next,u=(d.f&Dt)!==0||(d.f&ae)!==0;Tn(d,u?h:!1),d=P}if(i.transitions!==null)for(const e of i.transitions)(e.is_global||h)&&e.in()}}const Ue=1,kt=2,Si=4,wi=8,Pi=16,Pt=64,Ci=1,Mi=2,Ei=4,Ai=8,Ti=1,Ii=2,Oe=Symbol(),Bi=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"],Ri=["touchstart","touchmove","touchend"],Di={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"},In="http://www.w3.org/2000/svg";function Li(i,h="exclude-on"){return i.endsWith("capture")?h=="exclude-on"?i!=="gotpointercapture"&&i!=="lostpointercapture":i!=="ongotpointercapture"&&i!=="onlostpointercapture":!1}function le(i,h=!0,d=null,P){if(typeof i=="object"&&i!=null&&!dn(i)&&!(yn in i)){if(J in i){const e=i[J];if(e.t===i||e.p===i)return e.p}const u=wt(i);if(u===ri||u===ai){const e=new Proxy(i,Fi);return pn(i,J,{value:{s:new Map,v:X(0),a:Bt(i),i:h,p:e,t:i},writable:!0,enumerable:!1}),e}}return i}function qt(i,h=1){G(i,i.v+h)}const Fi={defineProperty(i,h,d){if(d.value){const P=i[J],u=P.s.get(h);u!==void 0&&G(u,le(d.value,P.i,P))}return Reflect.defineProperty(i,h,d)},deleteProperty(i,h){const d=i[J],P=d.s.get(h),u=d.a,e=delete i[h];if(u&&e){const l=d.s.get("length"),s=i.length-1;l!==void 0&&l.v!==s&&G(l,s)}return P!==void 0&&G(P,Oe),e&&qt(d.v),e},get(i,h,d){var e;if(h===J)return Reflect.get(i,J);const P=i[J];let u=P.s.get(h);if(u===void 0&&(!(h in i)||(e=St(i,h))!=null&&e.writable)&&(u=(P.i?X:qe)(le(i[h],P.i,P)),P.s.set(h,u)),u!==void 0){const l=k(u);return l===Oe?void 0:l}return Reflect.get(i,h,d)},getOwnPropertyDescriptor(i,h){const d=Reflect.getOwnPropertyDescriptor(i,h);if(d&&"value"in d){const u=i[J].s.get(h);u&&(d.value=k(u))}return d},has(i,h){var e;if(h===J)return!0;const d=i[J],P=Reflect.has(i,h);let u=d.s.get(h);return(u!==void 0||N!==null&&(!P||(e=St(i,h))!=null&&e.writable))&&(u===void 0&&(u=(d.i?X:qe)(P?le(i[h],d.i,d):Oe),d.s.set(h,u)),k(u)===Oe)?!1:P},set(i,h,d,P){const u=i[J];let e=u.s.get(h);e===void 0&&(Qe(()=>P[h]),e=u.s.get(h)),e!==void 0&&G(e,le(d,u.i,u));const l=u.a,s=!(h in i);if(l&&h==="length")for(let r=d;r<i.length;r+=1){const v=u.s.get(r+"");v!==void 0&&G(v,Oe)}if(i[h]=d,s){if(l){const r=u.s.get("length"),v=i.length;r!==void 0&&r.v!==v&&G(r,v)}qt(u.v)}return!0},ownKeys(i){const h=i[J];return k(h.v),Reflect.ownKeys(i)}},He=()=>{};function Oi(i){for(var h=0;h<i.length;h++)i[h]()}let et=!1,Ct=[];function Bn(){et=!1;const i=Ct.slice();Ct=[],Oi(i)}function Ge(i){et||(et=!0,queueMicrotask(Bn)),Ct.push(i)}function ki(){et&&Bn()}function tt(i){let h=me|he;N===null&&(h|=ye);const d={deps:null,deriveds:null,equals:Sn,f:h,first:null,fn:i,last:null,reactions:null,v:null,version:0};if(b!==null&&b.f&me){var P=b;P.deriveds===null?P.deriveds=[d]:P.deriveds.push(d)}return d}function Vi(i){const h=tt(i);return h.equals=Lt,h}function Rn(i){Ht(i);var h=i.deriveds;if(h!==null){i.deriveds=null;for(var d=0;d<h.length;d+=1)Hi(h[d])}}function Dn(i){Rn(i);var h=kn(i),d=(we||i.f&ye)&&i.deps!==null?Ie:ne;j(i,d),i.equals(h)||(i.v=h,i.version=On())}function Hi(i){Rn(i),lt(i,0),j(i,Be),i.first=i.last=i.deps=i.reactions=i.fn=null}function _i(i){throw new Error("lifecycle_outside_component")}const Ln=0,Ni=1;let $e=Ln,We=!1,Pe=!1,Vt=!1;function jt(i){Pe=i}function en(i){Vt=i}let pe=[],Ce=0,b=null;function tn(i){b=i}let N=null,K=null,Y=0,ge=null;function Ui(i){ge=i}let Fn=0,we=!1,z=null;function On(){return Fn++}function Mt(){return z!==null&&z.l===null}function Ke(i){var l;var h=i.f;if(h&he)return!0;if(h&Ie){var d=i.deps;if(d!==null)for(var P=(h&ye)!==0,u=0;u<d.length;u++){var e=d[u];if(Ke(e)&&Dn(e),e.version>i.version)return!0;P&&!we&&!((l=e==null?void 0:e.reactions)!=null&&l.includes(i))&&(e.reactions??(e.reactions=[])).push(i)}j(i,ne)}return!1}function Wi(i,h,d){throw i}function kn(i){var h=K,d=Y,P=ge,u=b,e=we;K=null,Y=0,ge=null,b=i.f&(ae|Rt)?null:i,we=!Pe&&(i.f&ye)!==0;try{var l=(0,i.fn)(),s=i.deps;if(K!==null){var r,v;if(s!==null){var n=Y===0?K:s.slice(0,Y).concat(K),c=n.length>16?new Set(n):null;for(v=Y;v<s.length;v++)r=s[v],(c!==null?!c.has(r):!n.includes(r))&&Vn(i,r)}if(s!==null&&Y>0)for(s.length=Y+K.length,v=0;v<K.length;v++)s[Y+v]=K[v];else i.deps=s=K;if(!we)for(v=Y;v<s.length;v++){r=s[v];var f=r.reactions;f===null?r.reactions=[i]:f[f.length-1]!==i&&!f.includes(i)&&f.push(i)}}else s!==null&&Y<s.length&&(lt(i,Y),s.length=Y);return l}finally{K=h,Y=d,ge=P,b=u,we=e}}function Vn(i,h){const d=h.reactions;let P=0;if(d!==null){P=d.length-1;const u=d.indexOf(i);u!==-1&&(P===0?h.reactions=null:(d[u]=d[P],d.pop()))}P===0&&h.f&me&&(j(h,Ie),h.f&(ye|Je)||(h.f^=Je),lt(h,0))}function lt(i,h){var d=i.deps;if(d!==null)for(var P=h===0?null:d.slice(0,h),u=new Set,e=h;e<d.length;e++){var l=d[e];u.has(l)||(u.add(l),(P===null||!P.includes(l))&&Vn(i,l))}}function Ht(i,h=!1){var d=i.first;for(i.first=i.last=null;d!==null;){var P=d.next;ze(d,h),d=P}}function ft(i){var h=i.f;if(!(h&Be)){j(i,ne);var d=i.ctx,P=N,u=z;N=i,z=d;try{h&xn||Ht(i),Mn(i);var e=kn(i);i.teardown=typeof e=="function"?e:null,i.version=Fn}catch(l){Wi(l)}finally{N=P,z=u}}}function Hn(){Ce>1e3&&(Ce=0,gi()),Ce++}function _n(i){var h=i.length;if(h!==0){Hn();var d=Pe;Pe=!0;try{for(var P=0;P<h;P++){var u=i[P];if(u.first===null&&!(u.f&ae))nn([u]);else{var e=[];Nn(u,e),nn(e)}}}finally{Pe=d}}}function nn(i){var h=i.length;if(h!==0)for(var d=0;d<h;d++){var P=i[d];!(P.f&(Be|xe))&&Ke(P)&&(ft(P),P.deps===null&&P.first===null&&P.nodes===null&&(P.teardown===null?En(P):P.fn=null))}}function bi(){if(We=!1,Ce>1001)return;const i=pe;pe=[],_n(i),We||(Ce=0)}function ut(i){$e===Ln&&(We||(We=!0,queueMicrotask(bi)));for(var h=i;h.parent!==null;){h=h.parent;var d=h.f;if(d&ae){if(!(d&ne))return;j(h,Ie)}}pe.push(h)}function Nn(i,h){var d=i.first,P=[];e:for(;d!==null;){var u=d.f,e=(u&(Be|xe))===0,l=u&ae,s=(u&ne)!==0,r=d.first;if(e&&(!l||!s)){if(l&&j(d,ne),u&Te){if(!l&&Ke(d)&&(ft(d),r=d.first),r!==null){d=r;continue}}else if(u&mn)if(l||s){if(r!==null){d=r;continue}}else P.push(d)}var v=d.next;if(v===null){let f=d.parent;for(;f!==null;){if(i===f)break e;var n=f.next;if(n!==null){d=n;continue e}f=f.parent}}d=v}for(var c=0;c<P.length;c++)r=P[c],h.push(r),Nn(r,h)}function Un(i,h=!0){var d=$e,P=pe;try{Hn();const e=[];$e=Ni,pe=e,We=!1,h&&_n(P);var u=i==null?void 0:i();return ki(),(pe.length>0||e.length>0)&&Un(),Ce=0,u}finally{$e=d,pe=P}}function k(i){var h=i.f;if(h&Be)return i.v;if(b!==null){var d=b.deps;K===null&&d!==null&&d[Y]===i?Y++:(d===null||Y===0||d[Y-1]!==i)&&(K===null?K=[i]:K[K.length-1]!==i&&K.push(i)),ge!==null&&N!==null&&N.f&ne&&!(N.f&ae)&&ge.includes(i)&&(j(N,he),ut(N))}if(h&me){var P=i;if(Ke(P)&&Dn(P),h&Je){if(d=P.deps,d!==null)for(var u=0;u<d.length;u++){var e=d[u],l=e.reactions;l===null?e.reactions=[P]:l.includes(P)||l.push(P)}P.f^=Je}}return i.v}function Qe(i){const h=b;try{return b=null,i()}finally{b=h}}const zi=~(he|Ie|ne);function j(i,h){i.f=i.f&zi|h}function Gi(i){return typeof i=="object"&&i!==null&&typeof i.f=="number"}function ct(i,h=!1,d){z={p:z,c:null,e:null,m:!1,s:i,x:null,l:null},h||(z.l={s:null,u:null,r1:[],r2:X(!1)})}function vt(i){const h=z;if(h!==null){const P=h.e;if(P!==null){h.e=null;for(var d=0;d<P.length;d++)ot(P[d])}z=h.p,h.m=!0}return{}}function xt(i){return Gi(i)?k(i):i}let Wn=!1;var rn,bn;function Ki(){if(rn===void 0){rn=window,bn=document;var i=Element.prototype;i.__click=void 0,i.__className="",i.__attributes=null,i.__e=void 0,Text.prototype.__t=void 0}}function _t(){return document.createTextNode("")}function nt(i){return i.firstChild}function Et(i,h){{var d=i.firstChild;return d instanceof Comment&&d.data===""?d.nextSibling:d}}function an(i,h=!1){var d=i.nextSibling;return d}function Qi(i){i.textContent=""}function it(i,h,d,P){function u(e){if(P.capture||ke.call(h,e),!e.cancelBubble)return d.call(this,e)}return i.startsWith("pointer")||i==="wheel"?Ge(()=>{h.addEventListener(i,u,P)}):h.addEventListener(i,u,P),u}function sn(i,h,d,P={}){var u=it(h,i,d,P);return()=>{i.removeEventListener(h,u,P)}}function Yi(i,h,d,P,u){var e={capture:P,passive:u},l=it(i,h,d,e);(h===document.body||h===window||h===document)&&mi(()=>{h.removeEventListener(i,l,e)})}function zn(i){for(var h=0;h<i.length;h++)Gn.add(i[h]);for(var d of At)d(i)}function ke(i){var g;var h=this,d=h.ownerDocument,P=i.type,u=((g=i.composedPath)==null?void 0:g.call(i))||[],e=u[0]||i.target,l=0,s=i.__root;if(s){var r=u.indexOf(s);if(r!==-1&&(h===document||h===window)){i.__root=h;return}var v=u.indexOf(h);if(v===-1)return;r<=v&&(l=r)}if(e=u[l]||i.target,e!==h){pn(i,"currentTarget",{configurable:!0,get(){return e||d}});try{for(var n,c=[];e!==null;){var f=e.parentNode||e.host||null;try{var t=e["__"+P];if(t!==void 0&&!e.disabled)if(Bt(t)){var[a,...o]=t;a.apply(e,[i,...o])}else t.call(e,i)}catch(m){n?c.push(m):n=m}if(i.cancelBubble||f===h||f===null)break;e=f}if(n){for(let m of c)queueMicrotask(()=>{throw m});throw n}}finally{i.__root=h,e=h}}}const Gn=new Set,At=new Set;function Zi(i,h){(i.__t??(i.__t=i.nodeValue))!==h&&(i.nodeValue=i.__t=h)}function Nt(i,h){const d=h.anchor??h.target.appendChild(_t());return Un(()=>Xi(i,{...h,anchor:d}),!1)}function Xi(i,{target:h,anchor:d,props:P={},events:u,context:e,intro:l=!1}){Ki();const s=new Set,r=c=>{for(let f=0;f<c.length;f++){const t=c[f],a=Ri.includes(t);s.has(t)||(s.add(t),h.addEventListener(t,ke,{passive:a}),document.addEventListener(t,ke,{passive:a}))}};r(ni(Gn)),At.add(r);let v;const n=yi(()=>(Ae(()=>{if(e){ct({});var c=z;c.c=e}u&&(P.$$events=u),v=i(d,P)||{},e&&vt()}),()=>{for(const c of s)h.removeEventListener(c,ke),document.removeEventListener(c,ke);At.delete(r),on.delete(v)}));return on.set(v,n),v}let on=new WeakMap;function $i(i){var h=document.createElement("template");return h.innerHTML=i,h.content}function Kn(i,h,d,P=null,u=!1){var e=null,l=null,s=null,r=u?Dt:0;Ft(()=>{s!==(s=!!h())&&(s?(e?Ne(e):e=Ae(()=>d(i)),l&&je(l,()=>{l=null})):(l?Ne(l):P&&(l=Ae(()=>P(i))),e&&je(e,()=>{e=null})))},r)}let Me=null;function ln(i){Me=i}function fn(i,h){return h}function Ji(i,h,d,P){for(var u=[],e=h.length,l=0;l<e;l++)Ot(h[l].e,u,!0);var s=e>0&&u.length===0&&d!==null;if(s){var r=d.parentNode;Qi(r),r.append(d),P.clear(),ue(i,h[0].prev,h[e-1].next)}An(u,()=>{for(var v=0;v<e;v++){var n=h[v];s||(P.delete(n.k),ue(i,n.prev,n.next)),ze(n.e,!s)}})}function un(i,h,d,P,u,e=null){var l={flags:h,items:new Map,first:null},s=null;Ft(()=>{var r=d(),v=Bt(r)?r:r==null?[]:Array.from(r),n=v.length,c=l.flags;c&Pt&&!dn(v)&&!(yn in v)&&!(J in v)&&(c^=Pt,c&Si&&!(c&Ue)&&(c^=Ue)),qi(v,l,i,u,c,P),e!==null&&(n===0?s?Ne(s):s=Ae(()=>e(i)):s!==null&&je(s,()=>{s=null}))})}function qi(i,h,d,P,u,e){var B,R,D,F;var l=(u&Pi)!==0,s=(u&(Ue|kt))!==0,r=i.length,v=h.items,n=h.first,c=n,f=new Set,t=null,a=new Set,o=[],g=[],m,M,S,E;if(l)for(E=0;E<r;E+=1)m=i[E],M=e(m,E),S=v.get(M),S!==void 0&&((B=S.a)==null||B.measure(),a.add(S));for(E=0;E<r;E+=1){if(m=i[E],M=e(m,E),S=v.get(M),S===void 0){var p=c?c.e.nodes.start:d;t=er(p,h,t,t===null?h.first:t.next,m,M,E,P,u),v.set(M,t),o=[],g=[],c=t.next;continue}if(s&&ji(S,m,E,u),S.e.f&xe&&(Ne(S.e),l&&((R=S.a)==null||R.unfix(),a.delete(S))),S!==c){if(f.has(S)){if(o.length<g.length){var y=g[0],w;t=y.prev;var x=o[0],A=o[o.length-1];for(w=0;w<o.length;w+=1)cn(o[w],y,d);for(w=0;w<g.length;w+=1)f.delete(g[w]);ue(h,x.prev,A.next),ue(h,t,x),ue(h,A,y),c=y,t=A,E-=1,o=[],g=[]}else f.delete(S),cn(S,c,d),ue(h,S.prev,S.next),ue(h,S,t===null?h.first:t.next),ue(h,t,S),t=S;continue}for(o=[],g=[];c!==null&&c.k!==M;)f.add(c),g.push(c),c=c.next;if(c===null)continue;S=c}o.push(S),t=S,c=S.next}const C=Array.from(f);for(;c!==null;)C.push(c),c=c.next;var T=C.length;if(T>0){var I=u&wi&&r===0?d:null;if(l){for(E=0;E<T;E+=1)(D=C[E].a)==null||D.measure();for(E=0;E<T;E+=1)(F=C[E].a)==null||F.fix()}Ji(h,C,I,v)}l&&Ge(()=>{var L;for(S of a)(L=S.a)==null||L.apply()}),N.first=h.first&&h.first.e,N.last=t&&t.e}function ji(i,h,d,P){P&Ue&&G(i.v,h),P&kt?G(i.i,d):i.i=d}function er(i,h,d,P,u,e,l,s,r){var v=Me;try{var n=(r&Ue)!==0,c=(r&Pt)===0,f=n?c?qe(u):X(u):u,t=r&kt?X(l):l,a={i:t,v:f,k:e,a:null,e:null,prev:d,next:P};return Me=a,a.e=Ae(()=>s(i,f,t),Wn),a.e.prev=d&&d.e,a.e.next=P&&P.e,d===null?h.first=a:(d.next=a,d.e.next=a.e),P!==null&&(P.prev=a,P.e.prev=a.e),a}finally{Me=v}}function cn(i,h,d){for(var P=i.next?i.next.e.nodes.start:d,u=h?h.e.nodes.start:d,e=i.e.nodes.start;e!==P;){var l=e.nextSibling;u.before(e),e=l}}function ue(i,h,d){h===null?i.first=d:(h.next=d,h.e.next=d&&d.e),d!==null&&(d.prev=h,d.e.prev=h&&h.e)}function rt(i,h){N.nodes??(N.nodes={start:i,end:h})}function De(i,h){var d=(h&Ti)!==0,P=(h&Ii)!==0,u,e=!i.startsWith("<!>");return()=>{u||(u=$i(e?i:"<!>"+i),d||(u=u.firstChild));var l=P?document.importNode(u,!0):u.cloneNode(!0);if(d){var s=l.firstChild,r=l.lastChild;rt(s,r)}else rt(l,l);return l}}function Qn(){var i=document.createDocumentFragment(),h=document.createComment(""),d=_t();return i.append(h,d),rt(h,d),i}function ce(i,h){i.before(h)}function tr(i,h,d,P,u,e){let l,s,r=null,v=i,n,c=Me;Ft(()=>{const f=h()||null,t=f==="svg"?In:null;if(f!==l){var a=Me;return ln(c),n&&(f===null?je(n,()=>{n=null,s=null,r==null||r.remove()}):f===s?Ne(n):ze(n)),f&&f!==s&&(n=Ae(()=>{const o=r;if(r=t?document.createElementNS(t,f):document.createElement(f),rt(r,r),o&&!Wn&&o.remove(),P){var g=r.appendChild(_t());P(r,g)}return v.before(r),He})),l=f,l&&(s=l),ln(a),He}})}function nr(i,h){if(h){const d=document.body;i.autofocus=!0,Ge(()=>{document.activeElement===d&&i.focus()})}}function gt(i,h,d){d=d==null?null:d+"";var P=i.__attributes??(i.__attributes={});P[h]!==(P[h]=d)&&(h==="loading"&&(i[fi]=d),d===null?i.removeAttribute(h):i.setAttribute(h,d))}function ir(i,h,d){if(h in i){var P=i[h],u=typeof P=="boolean"&&d===""?!0:d;(typeof P!="object"||P!==u)&&(i[h]=u)}else gt(i,h,d)}function rr(i,h,d,P,u){var e=u.length!==0,l=h||{};for(var s in h)s in d||(d[s]=null);e&&!d.class&&(d.class="");var r=vn.get(i.nodeName);r||vn.set(i.nodeName,r=or(i));var v=i.__attributes??(i.__attributes={}),n=[];for(const g in d){let m=d[g];var c=l[g];if(m!==c){l[g]=m;var f=g[0]+g[1];if(f!=="$$")if(f==="on"){const M={},S="$$"+g;let E=g.slice(2);var t=Bi.includes(E);if(Li(E)&&(E=E.slice(0,-7),M.capture=!0),!t&&c){if(m!=null)continue;i.removeEventListener(E,l[S],M),l[S]=null}if(m!=null)if(t)i[`__${E}`]=m,zn([E]);else{let p=function(y){l[g].call(this,y)};var o=p;h?l[S]=it(E,i,p,M):n.push([g,m,()=>l[S]=it(E,i,p,M)])}}else if(m==null)v[g]=null,i.removeAttribute(g);else if(g==="style")i.style.cssText=m+"";else if(g==="autofocus")nr(i,!!m);else if(g==="__value"||g==="value")i.value=i[g]=i.__value=m;else{var a=g;P&&(a=a.toLowerCase(),a=Di[a]||a),r.includes(a)?i[a]=m:typeof m!="function"&&(e&&a==="class"&&(m&&(m+=" "),m+=u),gt(i,a,m))}}}return h||Ge(()=>{if(i.isConnected)for(const[g,m,M]of n)l[g]===m&&M()}),l}function ar(i,h,d,P){if(i.tagName.includes("-")){for(var u in h)u in d||(d[u]=null);for(u in d)ir(i,u,d[u]);return d}return rr(i,h,d,i.namespaceURI!==In,P)}var sr=["width","height"],vn=new Map;function or(i){for(var h=[],d,P=wt(i);P.constructor.name!=="Element";){d=ii(P);for(var u in d)d[u].set&&!sr.includes(u)&&h.push(u);P=wt(P)}return h}function lr(i,h,d){d?i.classList.add(h):i.classList.remove(h)}function _e(i,h,d,P){const u=i.style,e=u.getPropertyValue(h);d==null?e!==""&&u.removeProperty(h):e!==d&&u.setProperty(h,d,"")}var ve,Ee,be,at,Yn;const st=class st{constructor(h){Fe(this,at);Fe(this,ve,new WeakMap);Fe(this,Ee);Fe(this,be);mt(this,be,h)}observe(h,d){var P=oe(this,ve).get(h)||new Set;return P.add(d),oe(this,ve).set(h,P),$t(this,at,Yn).call(this).observe(h,oe(this,be)),()=>{var u=oe(this,ve).get(h);u.delete(d),u.size===0&&(oe(this,ve).delete(h),oe(this,Ee).unobserve(h))}}};ve=new WeakMap,Ee=new WeakMap,be=new WeakMap,at=new WeakSet,Yn=function(){return oe(this,Ee)??mt(this,Ee,new ResizeObserver(h=>{for(var d of h){st.entries.set(d.target,d);for(var P of oe(this,ve).get(d.target)||[])P(d)}}))},Xt(st,"entries",new WeakMap);let Tt=st;var fr=new Tt({box:"border-box"});function gn(i,h,d){var P=fr.observe(i,()=>d(i[h]));ot(()=>(Qe(()=>d(i[h])),P))}function hn(i,h){var P;var d=i&&((P=i[J])==null?void 0:P.t);return i===h||d===h}function ur(i={},h,d,P){ot(()=>{var u,e;return Cn(()=>{u=e,e=[],Qe(()=>{i!==d(...e)&&(h(i,...e),u&&hn(d(...u),i)&&h(null,...u))})}),()=>{Ge(()=>{e&&hn(d(...e),i)&&h(null,...e)})}})}function de(i,h,d,P){var M;var u=(d&Ci)!==0,e=(d&Mi)!==0,l=(d&Ai)!==0,s=i[h],r=(M=St(i,h))==null?void 0:M.set,v=P,n=!0,c=()=>(l&&n&&(n=!1,v=Qe(P)),v);s===void 0&&P!==void 0&&(r&&e&&hi(),s=c(),r&&r(s));var f;if(e)f=()=>{var S=i[h];return S===void 0?c():(n=!0,S)};else{var t=(u?tt:Vi)(()=>i[h]);t.f|=oi,f=()=>{var S=k(t);return S!==void 0&&(v=void 0),S===void 0?v:S}}if(!(d&Ei))return f;if(r){var a=i.$$legacy;return function(S,E){return arguments.length>0?((!e||!E||a)&&r(E?f():S),S):f()}}var o=!1,g=qe(s),m=tt(()=>{var S=f(),E=k(g);return o?(o=!1,E):g.v=S});return u||(m.equals=Lt),function(S,E){var p=k(m);if(arguments.length>0){const y=E?k(m):S;return m.equals(y)||(o=!0,G(g,y),k(m)),S}return p}}function Ut(i){z===null&&_i(),z.l!==null?cr(z).m.push(i):xi(()=>{const h=Qe(i);if(typeof h=="function")return h})}function cr(i){var h=i.l;return h.u??(h.u={a:[],b:[],m:[]})}const vr="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(vr);const Se=[];function gr(i,h=He){let d=null;const P=new Set;function u(s){if(wn(i,s)&&(i=s,d)){const r=!Se.length;for(const v of P)v[1](),Se.push(v,i);if(r){for(let v=0;v<Se.length;v+=2)Se[v][0](Se[v+1]);Se.length=0}}}function e(s){u(s(i))}function l(s,r=He){const v=[s,r];return P.add(v),P.size===1&&(d=h(u,e)||He),s(i),()=>{P.delete(v),P.size===0&&d&&(d(),d=null)}}return{set:u,update:e,subscribe:l}}const It=gr();var hr=De('<figure class="svelte-frvz8g"><img alt="Cursor"></figure>');function dr(i,h){ct(h,!0);let d=de(h,"element",7),P=X(!1),u=X(void 0),e=X(void 0),l=X(void 0),s=X(void 0);function r(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}Ut(()=>{d().style.cursor="none";const c=sn(d(),"mouseenter",t=>{G(P,!0)}),f=sn(d(),"mouseleave",t=>{G(P,!1)});return()=>{d().style.cursor=void 0,c(),f()}});var v=Qn();Yi("mousemove",bn,c=>{r()||k(P)&&(G(u,le(c.clientX)),G(e,le(c.clientY)),It.set({x:k(u),y:k(e),w:k(l),h:k(s)}))},!1);var n=Et(v);Kn(n,()=>k(P),c=>{var f=hr(),t=nt(f);Ve(()=>{_e(f,"left",`${k(u)}px`),_e(f,"top",`${k(e)}px`),gt(t,"src",h.src)}),gn(f,"clientWidth",a=>G(l,a)),gn(f,"clientHeight",a=>G(s,a)),ce(c,f)}),ce(i,v),vt()}var yt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zn={exports:{}};/*!
 * matter-js 0.20.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(i,h){(function(P,u){i.exports=u()})(yt,function(){return function(d){var P={};function u(e){if(P[e])return P[e].exports;var l=P[e]={i:e,l:!1,exports:{}};return d[e].call(l.exports,l,l.exports,u),l.l=!0,l.exports}return u.m=d,u.c=P,u.d=function(e,l,s){u.o(e,l)||Object.defineProperty(e,l,{enumerable:!0,get:s})},u.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,l){if(l&1&&(e=u(e)),l&8||l&4&&typeof e=="object"&&e&&e.__esModule)return e;var s=Object.create(null);if(u.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),l&2&&typeof e!="string")for(var r in e)u.d(s,r,(function(v){return e[v]}).bind(null,r));return s},u.n=function(e){var l=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(l,"a",l),l},u.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)},u.p="",u(u.s=20)}([function(d,P){var u={};d.exports=u,function(){u._baseDelta=1e3/60,u._nextId=0,u._seed=0,u._nowStartTime=+new Date,u._warnedOnce={},u._decomp=null,u.extend=function(l,s){var r,v;typeof s=="boolean"?(r=2,v=s):(r=1,v=!0);for(var n=r;n<arguments.length;n++){var c=arguments[n];if(c)for(var f in c)v&&c[f]&&c[f].constructor===Object&&(!l[f]||l[f].constructor===Object)?(l[f]=l[f]||{},u.extend(l[f],v,c[f])):l[f]=c[f]}return l},u.clone=function(l,s){return u.extend({},s,l)},u.keys=function(l){if(Object.keys)return Object.keys(l);var s=[];for(var r in l)s.push(r);return s},u.values=function(l){var s=[];if(Object.keys){for(var r=Object.keys(l),v=0;v<r.length;v++)s.push(l[r[v]]);return s}for(var n in l)s.push(l[n]);return s},u.get=function(l,s,r,v){s=s.split(".").slice(r,v);for(var n=0;n<s.length;n+=1)l=l[s[n]];return l},u.set=function(l,s,r,v,n){var c=s.split(".").slice(v,n);return u.get(l,s,0,-1)[c[c.length-1]]=r,r},u.shuffle=function(l){for(var s=l.length-1;s>0;s--){var r=Math.floor(u.random()*(s+1)),v=l[s];l[s]=l[r],l[r]=v}return l},u.choose=function(l){return l[Math.floor(u.random()*l.length)]},u.isElement=function(l){return typeof HTMLElement<"u"?l instanceof HTMLElement:!!(l&&l.nodeType&&l.nodeName)},u.isArray=function(l){return Object.prototype.toString.call(l)==="[object Array]"},u.isFunction=function(l){return typeof l=="function"},u.isPlainObject=function(l){return typeof l=="object"&&l.constructor===Object},u.isString=function(l){return toString.call(l)==="[object String]"},u.clamp=function(l,s,r){return l<s?s:l>r?r:l},u.sign=function(l){return l<0?-1:1},u.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-u._nowStartTime},u.random=function(l,s){return l=typeof l<"u"?l:0,s=typeof s<"u"?s:1,l+e()*(s-l)};var e=function(){return u._seed=(u._seed*9301+49297)%233280,u._seed/233280};u.colorToNumber=function(l){return l=l.replace("#",""),l.length==3&&(l=l.charAt(0)+l.charAt(0)+l.charAt(1)+l.charAt(1)+l.charAt(2)+l.charAt(2)),parseInt(l,16)},u.logLevel=1,u.log=function(){console&&u.logLevel>0&&u.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.info=function(){console&&u.logLevel>0&&u.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.warn=function(){console&&u.logLevel>0&&u.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.warnOnce=function(){var l=Array.prototype.slice.call(arguments).join(" ");u._warnedOnce[l]||(u.warn(l),u._warnedOnce[l]=!0)},u.deprecated=function(l,s,r){l[s]=u.chain(function(){u.warnOnce("🔅 deprecated 🔅",r)},l[s])},u.nextId=function(){return u._nextId++},u.indexOf=function(l,s){if(l.indexOf)return l.indexOf(s);for(var r=0;r<l.length;r++)if(l[r]===s)return r;return-1},u.map=function(l,s){if(l.map)return l.map(s);for(var r=[],v=0;v<l.length;v+=1)r.push(s(l[v]));return r},u.topologicalSort=function(l){var s=[],r=[],v=[];for(var n in l)!r[n]&&!v[n]&&u._topologicalSort(n,r,v,l,s);return s},u._topologicalSort=function(l,s,r,v,n){var c=v[l]||[];r[l]=!0;for(var f=0;f<c.length;f+=1){var t=c[f];r[t]||s[t]||u._topologicalSort(t,s,r,v,n)}r[l]=!1,s[l]=!0,n.push(l)},u.chain=function(){for(var l=[],s=0;s<arguments.length;s+=1){var r=arguments[s];r._chained?l.push.apply(l,r._chained):l.push(r)}var v=function(){for(var n,c=new Array(arguments.length),f=0,t=arguments.length;f<t;f++)c[f]=arguments[f];for(f=0;f<l.length;f+=1){var a=l[f].apply(n,c);typeof a<"u"&&(n=a)}return n};return v._chained=l,v},u.chainPathBefore=function(l,s,r){return u.set(l,s,u.chain(r,u.get(l,s)))},u.chainPathAfter=function(l,s,r){return u.set(l,s,u.chain(u.get(l,s),r))},u.setDecomp=function(l){u._decomp=l},u.getDecomp=function(){var l=u._decomp;try{!l&&typeof window<"u"&&(l=window.decomp),!l&&typeof yt<"u"&&(l=yt.decomp)}catch{l=null}return l}}()},function(d,P){var u={};d.exports=u,function(){u.create=function(e){var l={min:{x:0,y:0},max:{x:0,y:0}};return e&&u.update(l,e),l},u.update=function(e,l,s){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var r=0;r<l.length;r++){var v=l[r];v.x>e.max.x&&(e.max.x=v.x),v.x<e.min.x&&(e.min.x=v.x),v.y>e.max.y&&(e.max.y=v.y),v.y<e.min.y&&(e.min.y=v.y)}s&&(s.x>0?e.max.x+=s.x:e.min.x+=s.x,s.y>0?e.max.y+=s.y:e.min.y+=s.y)},u.contains=function(e,l){return l.x>=e.min.x&&l.x<=e.max.x&&l.y>=e.min.y&&l.y<=e.max.y},u.overlaps=function(e,l){return e.min.x<=l.max.x&&e.max.x>=l.min.x&&e.max.y>=l.min.y&&e.min.y<=l.max.y},u.translate=function(e,l){e.min.x+=l.x,e.max.x+=l.x,e.min.y+=l.y,e.max.y+=l.y},u.shift=function(e,l){var s=e.max.x-e.min.x,r=e.max.y-e.min.y;e.min.x=l.x,e.max.x=l.x+s,e.min.y=l.y,e.max.y=l.y+r}}()},function(d,P){var u={};d.exports=u,function(){u.create=function(e,l){return{x:e||0,y:l||0}},u.clone=function(e){return{x:e.x,y:e.y}},u.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},u.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},u.rotate=function(e,l,s){var r=Math.cos(l),v=Math.sin(l);s||(s={});var n=e.x*r-e.y*v;return s.y=e.x*v+e.y*r,s.x=n,s},u.rotateAbout=function(e,l,s,r){var v=Math.cos(l),n=Math.sin(l);r||(r={});var c=s.x+((e.x-s.x)*v-(e.y-s.y)*n);return r.y=s.y+((e.x-s.x)*n+(e.y-s.y)*v),r.x=c,r},u.normalise=function(e){var l=u.magnitude(e);return l===0?{x:0,y:0}:{x:e.x/l,y:e.y/l}},u.dot=function(e,l){return e.x*l.x+e.y*l.y},u.cross=function(e,l){return e.x*l.y-e.y*l.x},u.cross3=function(e,l,s){return(l.x-e.x)*(s.y-e.y)-(l.y-e.y)*(s.x-e.x)},u.add=function(e,l,s){return s||(s={}),s.x=e.x+l.x,s.y=e.y+l.y,s},u.sub=function(e,l,s){return s||(s={}),s.x=e.x-l.x,s.y=e.y-l.y,s},u.mult=function(e,l){return{x:e.x*l,y:e.y*l}},u.div=function(e,l){return{x:e.x/l,y:e.y/l}},u.perp=function(e,l){return l=l===!0?-1:1,{x:l*-e.y,y:l*e.x}},u.neg=function(e){return{x:-e.x,y:-e.y}},u.angle=function(e,l){return Math.atan2(l.y-e.y,l.x-e.x)},u._temp=[u.create(),u.create(),u.create(),u.create(),u.create(),u.create()]}()},function(d,P,u){var e={};d.exports=e;var l=u(2),s=u(0);(function(){e.create=function(r,v){for(var n=[],c=0;c<r.length;c++){var f=r[c],t={x:f.x,y:f.y,index:c,body:v,isInternal:!1};n.push(t)}return n},e.fromPath=function(r,v){var n=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,c=[];return r.replace(n,function(f,t,a){c.push({x:parseFloat(t),y:parseFloat(a)})}),e.create(c,v)},e.centre=function(r){for(var v=e.area(r,!0),n={x:0,y:0},c,f,t,a=0;a<r.length;a++)t=(a+1)%r.length,c=l.cross(r[a],r[t]),f=l.mult(l.add(r[a],r[t]),c),n=l.add(n,f);return l.div(n,6*v)},e.mean=function(r){for(var v={x:0,y:0},n=0;n<r.length;n++)v.x+=r[n].x,v.y+=r[n].y;return l.div(v,r.length)},e.area=function(r,v){for(var n=0,c=r.length-1,f=0;f<r.length;f++)n+=(r[c].x-r[f].x)*(r[c].y+r[f].y),c=f;return v?n/2:Math.abs(n)/2},e.inertia=function(r,v){for(var n=0,c=0,f=r,t,a,o=0;o<f.length;o++)a=(o+1)%f.length,t=Math.abs(l.cross(f[a],f[o])),n+=t*(l.dot(f[a],f[a])+l.dot(f[a],f[o])+l.dot(f[o],f[o])),c+=t;return v/6*(n/c)},e.translate=function(r,v,n){n=typeof n<"u"?n:1;var c=r.length,f=v.x*n,t=v.y*n,a;for(a=0;a<c;a++)r[a].x+=f,r[a].y+=t;return r},e.rotate=function(r,v,n){if(v!==0){var c=Math.cos(v),f=Math.sin(v),t=n.x,a=n.y,o=r.length,g,m,M,S;for(S=0;S<o;S++)g=r[S],m=g.x-t,M=g.y-a,g.x=t+(m*c-M*f),g.y=a+(m*f+M*c);return r}},e.contains=function(r,v){for(var n=v.x,c=v.y,f=r.length,t=r[f-1],a,o=0;o<f;o++){if(a=r[o],(n-t.x)*(a.y-t.y)+(c-t.y)*(t.x-a.x)>0)return!1;t=a}return!0},e.scale=function(r,v,n,c){if(v===1&&n===1)return r;c=c||e.centre(r);for(var f,t,a=0;a<r.length;a++)f=r[a],t=l.sub(f,c),r[a].x=c.x+t.x*v,r[a].y=c.y+t.y*n;return r},e.chamfer=function(r,v,n,c,f){typeof v=="number"?v=[v]:v=v||[8],n=typeof n<"u"?n:-1,c=c||2,f=f||14;for(var t=[],a=0;a<r.length;a++){var o=r[a-1>=0?a-1:r.length-1],g=r[a],m=r[(a+1)%r.length],M=v[a<v.length?a:v.length-1];if(M===0){t.push(g);continue}var S=l.normalise({x:g.y-o.y,y:o.x-g.x}),E=l.normalise({x:m.y-g.y,y:g.x-m.x}),p=Math.sqrt(2*Math.pow(M,2)),y=l.mult(s.clone(S),M),w=l.normalise(l.mult(l.add(S,E),.5)),x=l.sub(g,l.mult(w,p)),A=n;n===-1&&(A=Math.pow(M,.32)*1.75),A=s.clamp(A,c,f),A%2===1&&(A+=1);for(var C=Math.acos(l.dot(S,E)),T=C/A,I=0;I<A;I++)t.push(l.add(l.rotate(y,T*I),x))}return t},e.clockwiseSort=function(r){var v=e.mean(r);return r.sort(function(n,c){return l.angle(v,n)-l.angle(v,c)}),r},e.isConvex=function(r){var v=0,n=r.length,c,f,t,a;if(n<3)return null;for(c=0;c<n;c++)if(f=(c+1)%n,t=(c+2)%n,a=(r[f].x-r[c].x)*(r[t].y-r[f].y),a-=(r[f].y-r[c].y)*(r[t].x-r[f].x),a<0?v|=1:a>0&&(v|=2),v===3)return!1;return v!==0?!0:null},e.hull=function(r){var v=[],n=[],c,f;for(r=r.slice(0),r.sort(function(t,a){var o=t.x-a.x;return o!==0?o:t.y-a.y}),f=0;f<r.length;f+=1){for(c=r[f];n.length>=2&&l.cross3(n[n.length-2],n[n.length-1],c)<=0;)n.pop();n.push(c)}for(f=r.length-1;f>=0;f-=1){for(c=r[f];v.length>=2&&l.cross3(v[v.length-2],v[v.length-1],c)<=0;)v.pop();v.push(c)}return v.pop(),n.pop(),v.concat(n)}})()},function(d,P,u){var e={};d.exports=e;var l=u(3),s=u(2),r=u(7),v=u(0),n=u(1),c=u(11);(function(){e._timeCorrection=!0,e._inertiaScale=4,e._nextCollidingGroupId=1,e._nextNonCollidingGroupId=-1,e._nextCategory=1,e._baseDelta=1e3/60,e.create=function(t){var a={id:v.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:l.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},o=v.extend(a,t);return f(o,t),o},e.nextGroup=function(t){return t?e._nextNonCollidingGroupId--:e._nextCollidingGroupId++},e.nextCategory=function(){return e._nextCategory=e._nextCategory<<1,e._nextCategory};var f=function(t,a){a=a||{},e.set(t,{bounds:t.bounds||n.create(t.vertices),positionPrev:t.positionPrev||s.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),l.rotate(t.vertices,t.angle,t.position),c.rotate(t.axes,t.angle),n.update(t.bounds,t.vertices,t.velocity),e.set(t,{axes:a.axes||t.axes,area:a.area||t.area,mass:a.mass||t.mass,inertia:a.inertia||t.inertia});var o=t.isStatic?"#14151f":v.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),g=t.isStatic?"#555":"#ccc",m=t.isStatic&&t.render.fillStyle===null?1:0;t.render.fillStyle=t.render.fillStyle||o,t.render.strokeStyle=t.render.strokeStyle||g,t.render.lineWidth=t.render.lineWidth||m,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};e.set=function(t,a,o){var g;typeof a=="string"&&(g=a,a={},a[g]=o);for(g in a)if(Object.prototype.hasOwnProperty.call(a,g))switch(o=a[g],g){case"isStatic":e.setStatic(t,o);break;case"isSleeping":r.set(t,o);break;case"mass":e.setMass(t,o);break;case"density":e.setDensity(t,o);break;case"inertia":e.setInertia(t,o);break;case"vertices":e.setVertices(t,o);break;case"position":e.setPosition(t,o);break;case"angle":e.setAngle(t,o);break;case"velocity":e.setVelocity(t,o);break;case"angularVelocity":e.setAngularVelocity(t,o);break;case"speed":e.setSpeed(t,o);break;case"angularSpeed":e.setAngularSpeed(t,o);break;case"parts":e.setParts(t,o);break;case"centre":e.setCentre(t,o);break;default:t[g]=o}},e.setStatic=function(t,a){for(var o=0;o<t.parts.length;o++){var g=t.parts[o];a?(g.isStatic||(g._original={restitution:g.restitution,friction:g.friction,mass:g.mass,inertia:g.inertia,density:g.density,inverseMass:g.inverseMass,inverseInertia:g.inverseInertia}),g.restitution=0,g.friction=1,g.mass=g.inertia=g.density=1/0,g.inverseMass=g.inverseInertia=0,g.positionPrev.x=g.position.x,g.positionPrev.y=g.position.y,g.anglePrev=g.angle,g.angularVelocity=0,g.speed=0,g.angularSpeed=0,g.motion=0):g._original&&(g.restitution=g._original.restitution,g.friction=g._original.friction,g.mass=g._original.mass,g.inertia=g._original.inertia,g.density=g._original.density,g.inverseMass=g._original.inverseMass,g.inverseInertia=g._original.inverseInertia,g._original=null),g.isStatic=a}},e.setMass=function(t,a){var o=t.inertia/(t.mass/6);t.inertia=o*(a/6),t.inverseInertia=1/t.inertia,t.mass=a,t.inverseMass=1/t.mass,t.density=t.mass/t.area},e.setDensity=function(t,a){e.setMass(t,a*t.area),t.density=a},e.setInertia=function(t,a){t.inertia=a,t.inverseInertia=1/t.inertia},e.setVertices=function(t,a){a[0].body===t?t.vertices=a:t.vertices=l.create(a,t),t.axes=c.fromVertices(t.vertices),t.area=l.area(t.vertices),e.setMass(t,t.density*t.area);var o=l.centre(t.vertices);l.translate(t.vertices,o,-1),e.setInertia(t,e._inertiaScale*l.inertia(t.vertices,t.mass)),l.translate(t.vertices,t.position),n.update(t.bounds,t.vertices,t.velocity)},e.setParts=function(t,a,o){var g;for(a=a.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,g=0;g<a.length;g++){var m=a[g];m!==t&&(m.parent=t,t.parts.push(m))}if(t.parts.length!==1){if(o=typeof o<"u"?o:!0,o){var M=[];for(g=0;g<a.length;g++)M=M.concat(a[g].vertices);l.clockwiseSort(M);var S=l.hull(M),E=l.centre(S);e.setVertices(t,S),l.translate(t.vertices,E)}var p=e._totalProperties(t);t.area=p.area,t.parent=t,t.position.x=p.centre.x,t.position.y=p.centre.y,t.positionPrev.x=p.centre.x,t.positionPrev.y=p.centre.y,e.setMass(t,p.mass),e.setInertia(t,p.inertia),e.setPosition(t,p.centre)}},e.setCentre=function(t,a,o){o?(t.positionPrev.x+=a.x,t.positionPrev.y+=a.y,t.position.x+=a.x,t.position.y+=a.y):(t.positionPrev.x=a.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=a.y-(t.position.y-t.positionPrev.y),t.position.x=a.x,t.position.y=a.y)},e.setPosition=function(t,a,o){var g=s.sub(a,t.position);o?(t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.velocity.x=g.x,t.velocity.y=g.y,t.speed=s.magnitude(g)):(t.positionPrev.x+=g.x,t.positionPrev.y+=g.y);for(var m=0;m<t.parts.length;m++){var M=t.parts[m];M.position.x+=g.x,M.position.y+=g.y,l.translate(M.vertices,g),n.update(M.bounds,M.vertices,t.velocity)}},e.setAngle=function(t,a,o){var g=a-t.angle;o?(t.anglePrev=t.angle,t.angularVelocity=g,t.angularSpeed=Math.abs(g)):t.anglePrev+=g;for(var m=0;m<t.parts.length;m++){var M=t.parts[m];M.angle+=g,l.rotate(M.vertices,g,t.position),c.rotate(M.axes,g),n.update(M.bounds,M.vertices,t.velocity),m>0&&s.rotateAbout(M.position,g,t.position,M.position)}},e.setVelocity=function(t,a){var o=t.deltaTime/e._baseDelta;t.positionPrev.x=t.position.x-a.x*o,t.positionPrev.y=t.position.y-a.y*o,t.velocity.x=(t.position.x-t.positionPrev.x)/o,t.velocity.y=(t.position.y-t.positionPrev.y)/o,t.speed=s.magnitude(t.velocity)},e.getVelocity=function(t){var a=e._baseDelta/t.deltaTime;return{x:(t.position.x-t.positionPrev.x)*a,y:(t.position.y-t.positionPrev.y)*a}},e.getSpeed=function(t){return s.magnitude(e.getVelocity(t))},e.setSpeed=function(t,a){e.setVelocity(t,s.mult(s.normalise(e.getVelocity(t)),a))},e.setAngularVelocity=function(t,a){var o=t.deltaTime/e._baseDelta;t.anglePrev=t.angle-a*o,t.angularVelocity=(t.angle-t.anglePrev)/o,t.angularSpeed=Math.abs(t.angularVelocity)},e.getAngularVelocity=function(t){return(t.angle-t.anglePrev)*e._baseDelta/t.deltaTime},e.getAngularSpeed=function(t){return Math.abs(e.getAngularVelocity(t))},e.setAngularSpeed=function(t,a){e.setAngularVelocity(t,v.sign(e.getAngularVelocity(t))*a)},e.translate=function(t,a,o){e.setPosition(t,s.add(t.position,a),o)},e.rotate=function(t,a,o,g){if(!o)e.setAngle(t,t.angle+a,g);else{var m=Math.cos(a),M=Math.sin(a),S=t.position.x-o.x,E=t.position.y-o.y;e.setPosition(t,{x:o.x+(S*m-E*M),y:o.y+(S*M+E*m)},g),e.setAngle(t,t.angle+a,g)}},e.scale=function(t,a,o,g){var m=0,M=0;g=g||t.position;for(var S=0;S<t.parts.length;S++){var E=t.parts[S];l.scale(E.vertices,a,o,g),E.axes=c.fromVertices(E.vertices),E.area=l.area(E.vertices),e.setMass(E,t.density*E.area),l.translate(E.vertices,{x:-E.position.x,y:-E.position.y}),e.setInertia(E,e._inertiaScale*l.inertia(E.vertices,E.mass)),l.translate(E.vertices,{x:E.position.x,y:E.position.y}),S>0&&(m+=E.area,M+=E.inertia),E.position.x=g.x+(E.position.x-g.x)*a,E.position.y=g.y+(E.position.y-g.y)*o,n.update(E.bounds,E.vertices,t.velocity)}t.parts.length>1&&(t.area=m,t.isStatic||(e.setMass(t,t.density*m),e.setInertia(t,M))),t.circleRadius&&(a===o?t.circleRadius*=a:t.circleRadius=null)},e.update=function(t,a){a=(typeof a<"u"?a:1e3/60)*t.timeScale;var o=a*a,g=e._timeCorrection?a/(t.deltaTime||a):1,m=1-t.frictionAir*(a/v._baseDelta),M=(t.position.x-t.positionPrev.x)*g,S=(t.position.y-t.positionPrev.y)*g;t.velocity.x=M*m+t.force.x/t.mass*o,t.velocity.y=S*m+t.force.y/t.mass*o,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.deltaTime=a,t.angularVelocity=(t.angle-t.anglePrev)*m*g+t.torque/t.inertia*o,t.anglePrev=t.angle,t.angle+=t.angularVelocity;for(var E=0;E<t.parts.length;E++){var p=t.parts[E];l.translate(p.vertices,t.velocity),E>0&&(p.position.x+=t.velocity.x,p.position.y+=t.velocity.y),t.angularVelocity!==0&&(l.rotate(p.vertices,t.angularVelocity,t.position),c.rotate(p.axes,t.angularVelocity),E>0&&s.rotateAbout(p.position,t.angularVelocity,t.position,p.position)),n.update(p.bounds,p.vertices,t.velocity)}},e.updateVelocities=function(t){var a=e._baseDelta/t.deltaTime,o=t.velocity;o.x=(t.position.x-t.positionPrev.x)*a,o.y=(t.position.y-t.positionPrev.y)*a,t.speed=Math.sqrt(o.x*o.x+o.y*o.y),t.angularVelocity=(t.angle-t.anglePrev)*a,t.angularSpeed=Math.abs(t.angularVelocity)},e.applyForce=function(t,a,o){var g={x:a.x-t.position.x,y:a.y-t.position.y};t.force.x+=o.x,t.force.y+=o.y,t.torque+=g.x*o.y-g.y*o.x},e._totalProperties=function(t){for(var a={mass:0,area:0,inertia:0,centre:{x:0,y:0}},o=t.parts.length===1?0:1;o<t.parts.length;o++){var g=t.parts[o],m=g.mass!==1/0?g.mass:1;a.mass+=m,a.area+=g.area,a.inertia+=g.inertia,a.centre=s.add(a.centre,s.mult(g.position,m))}return a.centre=s.div(a.centre,a.mass),a}})()},function(d,P,u){var e={};d.exports=e;var l=u(0);(function(){e.on=function(s,r,v){for(var n=r.split(" "),c,f=0;f<n.length;f++)c=n[f],s.events=s.events||{},s.events[c]=s.events[c]||[],s.events[c].push(v);return v},e.off=function(s,r,v){if(!r){s.events={};return}typeof r=="function"&&(v=r,r=l.keys(s.events).join(" "));for(var n=r.split(" "),c=0;c<n.length;c++){var f=s.events[n[c]],t=[];if(v&&f)for(var a=0;a<f.length;a++)f[a]!==v&&t.push(f[a]);s.events[n[c]]=t}},e.trigger=function(s,r,v){var n,c,f,t,a=s.events;if(a&&l.keys(a).length>0){v||(v={}),n=r.split(" ");for(var o=0;o<n.length;o++)if(c=n[o],f=a[c],f){t=l.clone(v,!1),t.name=c,t.source=s;for(var g=0;g<f.length;g++)f[g].apply(s,[t])}}}})()},function(d,P,u){var e={};d.exports=e;var l=u(5),s=u(0),r=u(1),v=u(4);(function(){e.create=function(n){return s.extend({id:s.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},n)},e.setModified=function(n,c,f,t){if(n.isModified=c,c&&n.cache&&(n.cache.allBodies=null,n.cache.allConstraints=null,n.cache.allComposites=null),f&&n.parent&&e.setModified(n.parent,c,f,t),t)for(var a=0;a<n.composites.length;a++){var o=n.composites[a];e.setModified(o,c,f,t)}},e.add=function(n,c){var f=[].concat(c);l.trigger(n,"beforeAdd",{object:c});for(var t=0;t<f.length;t++){var a=f[t];switch(a.type){case"body":if(a.parent!==a){s.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}e.addBody(n,a);break;case"constraint":e.addConstraint(n,a);break;case"composite":e.addComposite(n,a);break;case"mouseConstraint":e.addConstraint(n,a.constraint);break}}return l.trigger(n,"afterAdd",{object:c}),n},e.remove=function(n,c,f){var t=[].concat(c);l.trigger(n,"beforeRemove",{object:c});for(var a=0;a<t.length;a++){var o=t[a];switch(o.type){case"body":e.removeBody(n,o,f);break;case"constraint":e.removeConstraint(n,o,f);break;case"composite":e.removeComposite(n,o,f);break;case"mouseConstraint":e.removeConstraint(n,o.constraint);break}}return l.trigger(n,"afterRemove",{object:c}),n},e.addComposite=function(n,c){return n.composites.push(c),c.parent=n,e.setModified(n,!0,!0,!1),n},e.removeComposite=function(n,c,f){var t=s.indexOf(n.composites,c);if(t!==-1){var a=e.allBodies(c);e.removeCompositeAt(n,t);for(var o=0;o<a.length;o++)a[o].sleepCounter=0}if(f)for(var o=0;o<n.composites.length;o++)e.removeComposite(n.composites[o],c,!0);return n},e.removeCompositeAt=function(n,c){return n.composites.splice(c,1),e.setModified(n,!0,!0,!1),n},e.addBody=function(n,c){return n.bodies.push(c),e.setModified(n,!0,!0,!1),n},e.removeBody=function(n,c,f){var t=s.indexOf(n.bodies,c);if(t!==-1&&(e.removeBodyAt(n,t),c.sleepCounter=0),f)for(var a=0;a<n.composites.length;a++)e.removeBody(n.composites[a],c,!0);return n},e.removeBodyAt=function(n,c){return n.bodies.splice(c,1),e.setModified(n,!0,!0,!1),n},e.addConstraint=function(n,c){return n.constraints.push(c),e.setModified(n,!0,!0,!1),n},e.removeConstraint=function(n,c,f){var t=s.indexOf(n.constraints,c);if(t!==-1&&e.removeConstraintAt(n,t),f)for(var a=0;a<n.composites.length;a++)e.removeConstraint(n.composites[a],c,!0);return n},e.removeConstraintAt=function(n,c){return n.constraints.splice(c,1),e.setModified(n,!0,!0,!1),n},e.clear=function(n,c,f){if(f)for(var t=0;t<n.composites.length;t++)e.clear(n.composites[t],c,!0);return c?n.bodies=n.bodies.filter(function(a){return a.isStatic}):n.bodies.length=0,n.constraints.length=0,n.composites.length=0,e.setModified(n,!0,!0,!1),n},e.allBodies=function(n){if(n.cache&&n.cache.allBodies)return n.cache.allBodies;for(var c=[].concat(n.bodies),f=0;f<n.composites.length;f++)c=c.concat(e.allBodies(n.composites[f]));return n.cache&&(n.cache.allBodies=c),c},e.allConstraints=function(n){if(n.cache&&n.cache.allConstraints)return n.cache.allConstraints;for(var c=[].concat(n.constraints),f=0;f<n.composites.length;f++)c=c.concat(e.allConstraints(n.composites[f]));return n.cache&&(n.cache.allConstraints=c),c},e.allComposites=function(n){if(n.cache&&n.cache.allComposites)return n.cache.allComposites;for(var c=[].concat(n.composites),f=0;f<n.composites.length;f++)c=c.concat(e.allComposites(n.composites[f]));return n.cache&&(n.cache.allComposites=c),c},e.get=function(n,c,f){var t,a;switch(f){case"body":t=e.allBodies(n);break;case"constraint":t=e.allConstraints(n);break;case"composite":t=e.allComposites(n).concat(n);break}return t?(a=t.filter(function(o){return o.id.toString()===c.toString()}),a.length===0?null:a[0]):null},e.move=function(n,c,f){return e.remove(n,c),e.add(f,c),n},e.rebase=function(n){for(var c=e.allBodies(n).concat(e.allConstraints(n)).concat(e.allComposites(n)),f=0;f<c.length;f++)c[f].id=s.nextId();return n},e.translate=function(n,c,f){for(var t=f?e.allBodies(n):n.bodies,a=0;a<t.length;a++)v.translate(t[a],c);return n},e.rotate=function(n,c,f,t){for(var a=Math.cos(c),o=Math.sin(c),g=t?e.allBodies(n):n.bodies,m=0;m<g.length;m++){var M=g[m],S=M.position.x-f.x,E=M.position.y-f.y;v.setPosition(M,{x:f.x+(S*a-E*o),y:f.y+(S*o+E*a)}),v.rotate(M,c)}return n},e.scale=function(n,c,f,t,a){for(var o=a?e.allBodies(n):n.bodies,g=0;g<o.length;g++){var m=o[g],M=m.position.x-t.x,S=m.position.y-t.y;v.setPosition(m,{x:t.x+M*c,y:t.y+S*f}),v.scale(m,c,f)}return n},e.bounds=function(n){for(var c=e.allBodies(n),f=[],t=0;t<c.length;t+=1){var a=c[t];f.push(a.bounds.min,a.bounds.max)}return r.create(f)}})()},function(d,P,u){var e={};d.exports=e;var l=u(4),s=u(5),r=u(0);(function(){e._motionWakeThreshold=.18,e._motionSleepThreshold=.08,e._minBias=.9,e.update=function(v,n){for(var c=n/r._baseDelta,f=e._motionSleepThreshold,t=0;t<v.length;t++){var a=v[t],o=l.getSpeed(a),g=l.getAngularSpeed(a),m=o*o+g*g;if(a.force.x!==0||a.force.y!==0){e.set(a,!1);continue}var M=Math.min(a.motion,m),S=Math.max(a.motion,m);a.motion=e._minBias*M+(1-e._minBias)*S,a.sleepThreshold>0&&a.motion<f?(a.sleepCounter+=1,a.sleepCounter>=a.sleepThreshold/c&&e.set(a,!0)):a.sleepCounter>0&&(a.sleepCounter-=1)}},e.afterCollisions=function(v){for(var n=e._motionSleepThreshold,c=0;c<v.length;c++){var f=v[c];if(f.isActive){var t=f.collision,a=t.bodyA.parent,o=t.bodyB.parent;if(!(a.isSleeping&&o.isSleeping||a.isStatic||o.isStatic)&&(a.isSleeping||o.isSleeping)){var g=a.isSleeping&&!a.isStatic?a:o,m=g===a?o:a;!g.isStatic&&m.motion>n&&e.set(g,!1)}}}},e.set=function(v,n){var c=v.isSleeping;n?(v.isSleeping=!0,v.sleepCounter=v.sleepThreshold,v.positionImpulse.x=0,v.positionImpulse.y=0,v.positionPrev.x=v.position.x,v.positionPrev.y=v.position.y,v.anglePrev=v.angle,v.speed=0,v.angularSpeed=0,v.motion=0,c||s.trigger(v,"sleepStart")):(v.isSleeping=!1,v.sleepCounter=0,c&&s.trigger(v,"sleepEnd"))}})()},function(d,P,u){var e={};d.exports=e;var l=u(3),s=u(9);(function(){var r=[],v={overlap:0,axis:null},n={overlap:0,axis:null};e.create=function(c,f){return{pair:null,collided:!1,bodyA:c,bodyB:f,parentA:c.parent,parentB:f.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},e.collides=function(c,f,t){if(e._overlapAxes(v,c.vertices,f.vertices,c.axes),v.overlap<=0||(e._overlapAxes(n,f.vertices,c.vertices,f.axes),n.overlap<=0))return null;var a=t&&t.table[s.id(c,f)],o;a?o=a.collision:(o=e.create(c,f),o.collided=!0,o.bodyA=c.id<f.id?c:f,o.bodyB=c.id<f.id?f:c,o.parentA=o.bodyA.parent,o.parentB=o.bodyB.parent),c=o.bodyA,f=o.bodyB;var g;v.overlap<n.overlap?g=v:g=n;var m=o.normal,M=o.tangent,S=o.penetration,E=o.supports,p=g.overlap,y=g.axis,w=y.x,x=y.y,A=f.position.x-c.position.x,C=f.position.y-c.position.y;w*A+x*C>=0&&(w=-w,x=-x),m.x=w,m.y=x,M.x=-x,M.y=w,S.x=w*p,S.y=x*p,o.depth=p;var T=e._findSupports(c,f,m,1),I=0;if(l.contains(c.vertices,T[0])&&(E[I++]=T[0]),l.contains(c.vertices,T[1])&&(E[I++]=T[1]),I<2){var B=e._findSupports(f,c,m,-1);l.contains(f.vertices,B[0])&&(E[I++]=B[0]),I<2&&l.contains(f.vertices,B[1])&&(E[I++]=B[1])}return I===0&&(E[I++]=T[0]),o.supportCount=I,o},e._overlapAxes=function(c,f,t,a){var o=f.length,g=t.length,m=f[0].x,M=f[0].y,S=t[0].x,E=t[0].y,p=a.length,y=Number.MAX_VALUE,w=0,x,A,C,T,I,B;for(I=0;I<p;I++){var R=a[I],D=R.x,F=R.y,L=m*D+M*F,O=S*D+E*F,V=L,_=O;for(B=1;B<o;B+=1)T=f[B].x*D+f[B].y*F,T>V?V=T:T<L&&(L=T);for(B=1;B<g;B+=1)T=t[B].x*D+t[B].y*F,T>_?_=T:T<O&&(O=T);if(A=V-O,C=_-L,x=A<C?A:C,x<y&&(y=x,w=I,x<=0))break}c.axis=a[w],c.overlap=y},e._findSupports=function(c,f,t,a){var o=f.vertices,g=o.length,m=c.position.x,M=c.position.y,S=t.x*a,E=t.y*a,p=o[0],y=p,w=S*(m-y.x)+E*(M-y.y),x,A,C;for(C=1;C<g;C+=1)y=o[C],A=S*(m-y.x)+E*(M-y.y),A<w&&(w=A,p=y);return x=o[(g+p.index-1)%g],w=S*(m-x.x)+E*(M-x.y),y=o[(p.index+1)%g],S*(m-y.x)+E*(M-y.y)<w?(r[0]=p,r[1]=y,r):(r[0]=p,r[1]=x,r)}})()},function(d,P,u){var e={};d.exports=e;var l=u(16);(function(){e.create=function(s,r){var v=s.bodyA,n=s.bodyB,c={id:e.id(v,n),bodyA:v,bodyB:n,collision:s,contacts:[l.create(),l.create()],contactCount:0,separation:0,isActive:!0,isSensor:v.isSensor||n.isSensor,timeCreated:r,timeUpdated:r,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return e.update(c,s,r),c},e.update=function(s,r,v){var n=r.supports,c=r.supportCount,f=s.contacts,t=r.parentA,a=r.parentB;s.isActive=!0,s.timeUpdated=v,s.collision=r,s.separation=r.depth,s.inverseMass=t.inverseMass+a.inverseMass,s.friction=t.friction<a.friction?t.friction:a.friction,s.frictionStatic=t.frictionStatic>a.frictionStatic?t.frictionStatic:a.frictionStatic,s.restitution=t.restitution>a.restitution?t.restitution:a.restitution,s.slop=t.slop>a.slop?t.slop:a.slop,s.contactCount=c,r.pair=s;var o=n[0],g=f[0],m=n[1],M=f[1];(M.vertex===o||g.vertex===m)&&(f[1]=g,f[0]=g=M,M=f[1]),g.vertex=o,M.vertex=m},e.setActive=function(s,r,v){r?(s.isActive=!0,s.timeUpdated=v):(s.isActive=!1,s.contactCount=0)},e.id=function(s,r){return s.id<r.id?s.id.toString(36)+":"+r.id.toString(36):r.id.toString(36)+":"+s.id.toString(36)}})()},function(d,P,u){var e={};d.exports=e;var l=u(3),s=u(2),r=u(7),v=u(1),n=u(11),c=u(0);(function(){e._warming=.4,e._torqueDampen=1,e._minLength=1e-6,e.create=function(f){var t=f;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var a=t.bodyA?s.add(t.bodyA.position,t.pointA):t.pointA,o=t.bodyB?s.add(t.bodyB.position,t.pointB):t.pointB,g=s.magnitude(s.sub(a,o));t.length=typeof t.length<"u"?t.length:g,t.id=t.id||c.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var m={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return t.length===0&&t.stiffness>.1?(m.type="pin",m.anchors=!1):t.stiffness<.9&&(m.type="spring"),t.render=c.extend(m,t.render),t},e.preSolveAll=function(f){for(var t=0;t<f.length;t+=1){var a=f[t],o=a.constraintImpulse;a.isStatic||o.x===0&&o.y===0&&o.angle===0||(a.position.x+=o.x,a.position.y+=o.y,a.angle+=o.angle)}},e.solveAll=function(f,t){for(var a=c.clamp(t/c._baseDelta,0,1),o=0;o<f.length;o+=1){var g=f[o],m=!g.bodyA||g.bodyA&&g.bodyA.isStatic,M=!g.bodyB||g.bodyB&&g.bodyB.isStatic;(m||M)&&e.solve(f[o],a)}for(o=0;o<f.length;o+=1)g=f[o],m=!g.bodyA||g.bodyA&&g.bodyA.isStatic,M=!g.bodyB||g.bodyB&&g.bodyB.isStatic,!m&&!M&&e.solve(f[o],a)},e.solve=function(f,t){var a=f.bodyA,o=f.bodyB,g=f.pointA,m=f.pointB;if(!(!a&&!o)){a&&!a.isStatic&&(s.rotate(g,a.angle-f.angleA,g),f.angleA=a.angle),o&&!o.isStatic&&(s.rotate(m,o.angle-f.angleB,m),f.angleB=o.angle);var M=g,S=m;if(a&&(M=s.add(a.position,g)),o&&(S=s.add(o.position,m)),!(!M||!S)){var E=s.sub(M,S),p=s.magnitude(E);p<e._minLength&&(p=e._minLength);var y=(p-f.length)/p,w=f.stiffness>=1||f.length===0,x=w?f.stiffness*t:f.stiffness*t*t,A=f.damping*t,C=s.mult(E,y*x),T=(a?a.inverseMass:0)+(o?o.inverseMass:0),I=(a?a.inverseInertia:0)+(o?o.inverseInertia:0),B=T+I,R,D,F,L,O;if(A>0){var V=s.create();F=s.div(E,p),O=s.sub(o&&s.sub(o.position,o.positionPrev)||V,a&&s.sub(a.position,a.positionPrev)||V),L=s.dot(F,O)}a&&!a.isStatic&&(D=a.inverseMass/T,a.constraintImpulse.x-=C.x*D,a.constraintImpulse.y-=C.y*D,a.position.x-=C.x*D,a.position.y-=C.y*D,A>0&&(a.positionPrev.x-=A*F.x*L*D,a.positionPrev.y-=A*F.y*L*D),R=s.cross(g,C)/B*e._torqueDampen*a.inverseInertia*(1-f.angularStiffness),a.constraintImpulse.angle-=R,a.angle-=R),o&&!o.isStatic&&(D=o.inverseMass/T,o.constraintImpulse.x+=C.x*D,o.constraintImpulse.y+=C.y*D,o.position.x+=C.x*D,o.position.y+=C.y*D,A>0&&(o.positionPrev.x+=A*F.x*L*D,o.positionPrev.y+=A*F.y*L*D),R=s.cross(m,C)/B*e._torqueDampen*o.inverseInertia*(1-f.angularStiffness),o.constraintImpulse.angle+=R,o.angle+=R)}}},e.postSolveAll=function(f){for(var t=0;t<f.length;t++){var a=f[t],o=a.constraintImpulse;if(!(a.isStatic||o.x===0&&o.y===0&&o.angle===0)){r.set(a,!1);for(var g=0;g<a.parts.length;g++){var m=a.parts[g];l.translate(m.vertices,o),g>0&&(m.position.x+=o.x,m.position.y+=o.y),o.angle!==0&&(l.rotate(m.vertices,o.angle,a.position),n.rotate(m.axes,o.angle),g>0&&s.rotateAbout(m.position,o.angle,a.position,m.position)),v.update(m.bounds,m.vertices,a.velocity)}o.angle*=e._warming,o.x*=e._warming,o.y*=e._warming}}},e.pointAWorld=function(f){return{x:(f.bodyA?f.bodyA.position.x:0)+(f.pointA?f.pointA.x:0),y:(f.bodyA?f.bodyA.position.y:0)+(f.pointA?f.pointA.y:0)}},e.pointBWorld=function(f){return{x:(f.bodyB?f.bodyB.position.x:0)+(f.pointB?f.pointB.x:0),y:(f.bodyB?f.bodyB.position.y:0)+(f.pointB?f.pointB.y:0)}},e.currentLength=function(f){var t=(f.bodyA?f.bodyA.position.x:0)+(f.pointA?f.pointA.x:0),a=(f.bodyA?f.bodyA.position.y:0)+(f.pointA?f.pointA.y:0),o=(f.bodyB?f.bodyB.position.x:0)+(f.pointB?f.pointB.x:0),g=(f.bodyB?f.bodyB.position.y:0)+(f.pointB?f.pointB.y:0),m=t-o,M=a-g;return Math.sqrt(m*m+M*M)}})()},function(d,P,u){var e={};d.exports=e;var l=u(2),s=u(0);(function(){e.fromVertices=function(r){for(var v={},n=0;n<r.length;n++){var c=(n+1)%r.length,f=l.normalise({x:r[c].y-r[n].y,y:r[n].x-r[c].x}),t=f.y===0?1/0:f.x/f.y;t=t.toFixed(3).toString(),v[t]=f}return s.values(v)},e.rotate=function(r,v){if(v!==0)for(var n=Math.cos(v),c=Math.sin(v),f=0;f<r.length;f++){var t=r[f],a;a=t.x*n-t.y*c,t.y=t.x*c+t.y*n,t.x=a}}})()},function(d,P,u){var e={};d.exports=e;var l=u(3),s=u(0),r=u(4),v=u(1),n=u(2);(function(){e.rectangle=function(c,f,t,a,o){o=o||{};var g={label:"Rectangle Body",position:{x:c,y:f},vertices:l.fromPath("L 0 0 L "+t+" 0 L "+t+" "+a+" L 0 "+a)};if(o.chamfer){var m=o.chamfer;g.vertices=l.chamfer(g.vertices,m.radius,m.quality,m.qualityMin,m.qualityMax),delete o.chamfer}return r.create(s.extend({},g,o))},e.trapezoid=function(c,f,t,a,o,g){g=g||{},o>=1&&s.warn("Bodies.trapezoid: slope parameter must be < 1."),o*=.5;var m=(1-o*2)*t,M=t*o,S=M+m,E=S+M,p;o<.5?p="L 0 0 L "+M+" "+-a+" L "+S+" "+-a+" L "+E+" 0":p="L 0 0 L "+S+" "+-a+" L "+E+" 0";var y={label:"Trapezoid Body",position:{x:c,y:f},vertices:l.fromPath(p)};if(g.chamfer){var w=g.chamfer;y.vertices=l.chamfer(y.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete g.chamfer}return r.create(s.extend({},y,g))},e.circle=function(c,f,t,a,o){a=a||{};var g={label:"Circle Body",circleRadius:t};o=o||25;var m=Math.ceil(Math.max(10,Math.min(o,t)));return m%2===1&&(m+=1),e.polygon(c,f,m,t,s.extend({},g,a))},e.polygon=function(c,f,t,a,o){if(o=o||{},t<3)return e.circle(c,f,a,o);for(var g=2*Math.PI/t,m="",M=g*.5,S=0;S<t;S+=1){var E=M+S*g,p=Math.cos(E)*a,y=Math.sin(E)*a;m+="L "+p.toFixed(3)+" "+y.toFixed(3)+" "}var w={label:"Polygon Body",position:{x:c,y:f},vertices:l.fromPath(m)};if(o.chamfer){var x=o.chamfer;w.vertices=l.chamfer(w.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete o.chamfer}return r.create(s.extend({},w,o))},e.fromVertices=function(c,f,t,a,o,g,m,M){var S=s.getDecomp(),E,p,y,w,x,A,C,T,I,B,R;for(E=!!(S&&S.quickDecomp),a=a||{},y=[],o=typeof o<"u"?o:!1,g=typeof g<"u"?g:.01,m=typeof m<"u"?m:10,M=typeof M<"u"?M:.01,s.isArray(t[0])||(t=[t]),B=0;B<t.length;B+=1)if(A=t[B],w=l.isConvex(A),x=!w,x&&!E&&s.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),w||!E)w?A=l.clockwiseSort(A):A=l.hull(A),y.push({position:{x:c,y:f},vertices:A});else{var D=A.map(function(H){return[H.x,H.y]});S.makeCCW(D),g!==!1&&S.removeCollinearPoints(D,g),M!==!1&&S.removeDuplicatePoints&&S.removeDuplicatePoints(D,M);var F=S.quickDecomp(D);for(C=0;C<F.length;C++){var L=F[C],O=L.map(function(H){return{x:H[0],y:H[1]}});m>0&&l.area(O)<m||y.push({position:l.centre(O),vertices:O})}}for(C=0;C<y.length;C++)y[C]=r.create(s.extend(y[C],a));if(o){var V=5;for(C=0;C<y.length;C++){var _=y[C];for(T=C+1;T<y.length;T++){var W=y[T];if(v.overlaps(_.bounds,W.bounds)){var Q=_.vertices,$=W.vertices;for(I=0;I<_.vertices.length;I++)for(R=0;R<W.vertices.length;R++){var fe=n.magnitudeSquared(n.sub(Q[(I+1)%Q.length],$[R])),ee=n.magnitudeSquared(n.sub(Q[I],$[(R+1)%$.length]));fe<V&&ee<V&&(Q[I].isInternal=!0,$[R].isInternal=!0)}}}}}return y.length>1?(p=r.create(s.extend({parts:y.slice(0)},a)),r.setPosition(p,{x:c,y:f}),p):y[0]}})()},function(d,P,u){var e={};d.exports=e;var l=u(0),s=u(8);(function(){e.create=function(r){var v={bodies:[],collisions:[],pairs:null};return l.extend(v,r)},e.setBodies=function(r,v){r.bodies=v.slice(0)},e.clear=function(r){r.bodies=[],r.collisions=[]},e.collisions=function(r){var v=r.pairs,n=r.bodies,c=n.length,f=e.canCollide,t=s.collides,a=r.collisions,o=0,g,m;for(n.sort(e._compareBoundsX),g=0;g<c;g++){var M=n[g],S=M.bounds,E=M.bounds.max.x,p=M.bounds.max.y,y=M.bounds.min.y,w=M.isStatic||M.isSleeping,x=M.parts.length,A=x===1;for(m=g+1;m<c;m++){var C=n[m],T=C.bounds;if(T.min.x>E)break;if(!(p<T.min.y||y>T.max.y)&&!(w&&(C.isStatic||C.isSleeping))&&f(M.collisionFilter,C.collisionFilter)){var I=C.parts.length;if(A&&I===1){var B=t(M,C,v);B&&(a[o++]=B)}else for(var R=x>1?1:0,D=I>1?1:0,F=R;F<x;F++)for(var L=M.parts[F],S=L.bounds,O=D;O<I;O++){var V=C.parts[O],T=V.bounds;if(!(S.min.x>T.max.x||S.max.x<T.min.x||S.max.y<T.min.y||S.min.y>T.max.y)){var B=t(L,V,v);B&&(a[o++]=B)}}}}}return a.length!==o&&(a.length=o),a},e.canCollide=function(r,v){return r.group===v.group&&r.group!==0?r.group>0:(r.mask&v.category)!==0&&(v.mask&r.category)!==0},e._compareBoundsX=function(r,v){return r.bounds.min.x-v.bounds.min.x}})()},function(d,P,u){var e={};d.exports=e;var l=u(0);(function(){e.create=function(s){var r={};return s||l.log("Mouse.create: element was undefined, defaulting to document.body","warn"),r.element=s||document.body,r.absolute={x:0,y:0},r.position={x:0,y:0},r.mousedownPosition={x:0,y:0},r.mouseupPosition={x:0,y:0},r.offset={x:0,y:0},r.scale={x:1,y:1},r.wheelDelta=0,r.button=-1,r.pixelRatio=parseInt(r.element.getAttribute("data-pixel-ratio"),10)||1,r.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},r.mousemove=function(v){var n=e._getRelativeMousePosition(v,r.element,r.pixelRatio),c=v.changedTouches;c&&(r.button=0,v.preventDefault()),r.absolute.x=n.x,r.absolute.y=n.y,r.position.x=r.absolute.x*r.scale.x+r.offset.x,r.position.y=r.absolute.y*r.scale.y+r.offset.y,r.sourceEvents.mousemove=v},r.mousedown=function(v){var n=e._getRelativeMousePosition(v,r.element,r.pixelRatio),c=v.changedTouches;c?(r.button=0,v.preventDefault()):r.button=v.button,r.absolute.x=n.x,r.absolute.y=n.y,r.position.x=r.absolute.x*r.scale.x+r.offset.x,r.position.y=r.absolute.y*r.scale.y+r.offset.y,r.mousedownPosition.x=r.position.x,r.mousedownPosition.y=r.position.y,r.sourceEvents.mousedown=v},r.mouseup=function(v){var n=e._getRelativeMousePosition(v,r.element,r.pixelRatio),c=v.changedTouches;c&&v.preventDefault(),r.button=-1,r.absolute.x=n.x,r.absolute.y=n.y,r.position.x=r.absolute.x*r.scale.x+r.offset.x,r.position.y=r.absolute.y*r.scale.y+r.offset.y,r.mouseupPosition.x=r.position.x,r.mouseupPosition.y=r.position.y,r.sourceEvents.mouseup=v},r.mousewheel=function(v){r.wheelDelta=Math.max(-1,Math.min(1,v.wheelDelta||-v.detail)),v.preventDefault(),r.sourceEvents.mousewheel=v},e.setElement(r,r.element),r},e.setElement=function(s,r){s.element=r,r.addEventListener("mousemove",s.mousemove,{passive:!0}),r.addEventListener("mousedown",s.mousedown,{passive:!0}),r.addEventListener("mouseup",s.mouseup,{passive:!0}),r.addEventListener("wheel",s.mousewheel,{passive:!1}),r.addEventListener("touchmove",s.mousemove,{passive:!1}),r.addEventListener("touchstart",s.mousedown,{passive:!1}),r.addEventListener("touchend",s.mouseup,{passive:!1})},e.clearSourceEvents=function(s){s.sourceEvents.mousemove=null,s.sourceEvents.mousedown=null,s.sourceEvents.mouseup=null,s.sourceEvents.mousewheel=null,s.wheelDelta=0},e.setOffset=function(s,r){s.offset.x=r.x,s.offset.y=r.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y},e.setScale=function(s,r){s.scale.x=r.x,s.scale.y=r.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y},e._getRelativeMousePosition=function(s,r,v){var n=r.getBoundingClientRect(),c=document.documentElement||document.body.parentNode||document.body,f=window.pageXOffset!==void 0?window.pageXOffset:c.scrollLeft,t=window.pageYOffset!==void 0?window.pageYOffset:c.scrollTop,a=s.changedTouches,o,g;return a?(o=a[0].pageX-n.left-f,g=a[0].pageY-n.top-t):(o=s.pageX-n.left-f,g=s.pageY-n.top-t),{x:o/(r.clientWidth/(r.width||r.clientWidth)*v),y:g/(r.clientHeight/(r.height||r.clientHeight)*v)}}})()},function(d,P,u){var e={};d.exports=e;var l=u(0);(function(){e._registry={},e.register=function(s){if(e.isPlugin(s)||l.warn("Plugin.register:",e.toString(s),"does not implement all required fields."),s.name in e._registry){var r=e._registry[s.name],v=e.versionParse(s.version).number,n=e.versionParse(r.version).number;v>n?(l.warn("Plugin.register:",e.toString(r),"was upgraded to",e.toString(s)),e._registry[s.name]=s):v<n?l.warn("Plugin.register:",e.toString(r),"can not be downgraded to",e.toString(s)):s!==r&&l.warn("Plugin.register:",e.toString(s),"is already registered to different plugin object")}else e._registry[s.name]=s;return s},e.resolve=function(s){return e._registry[e.dependencyParse(s).name]},e.toString=function(s){return typeof s=="string"?s:(s.name||"anonymous")+"@"+(s.version||s.range||"0.0.0")},e.isPlugin=function(s){return s&&s.name&&s.version&&s.install},e.isUsed=function(s,r){return s.used.indexOf(r)>-1},e.isFor=function(s,r){var v=s.for&&e.dependencyParse(s.for);return!s.for||r.name===v.name&&e.versionSatisfies(r.version,v.range)},e.use=function(s,r){if(s.uses=(s.uses||[]).concat(r||[]),s.uses.length===0){l.warn("Plugin.use:",e.toString(s),"does not specify any dependencies to install.");return}for(var v=e.dependencies(s),n=l.topologicalSort(v),c=[],f=0;f<n.length;f+=1)if(n[f]!==s.name){var t=e.resolve(n[f]);if(!t){c.push("❌ "+n[f]);continue}e.isUsed(s,t.name)||(e.isFor(t,s)||(l.warn("Plugin.use:",e.toString(t),"is for",t.for,"but installed on",e.toString(s)+"."),t._warned=!0),t.install?t.install(s):(l.warn("Plugin.use:",e.toString(t),"does not specify an install function."),t._warned=!0),t._warned?(c.push("🔶 "+e.toString(t)),delete t._warned):c.push("✅ "+e.toString(t)),s.used.push(t.name))}c.length>0&&l.info(c.join("  "))},e.dependencies=function(s,r){var v=e.dependencyParse(s),n=v.name;if(r=r||{},!(n in r)){s=e.resolve(s)||s,r[n]=l.map(s.uses||[],function(f){e.isPlugin(f)&&e.register(f);var t=e.dependencyParse(f),a=e.resolve(f);return a&&!e.versionSatisfies(a.version,t.range)?(l.warn("Plugin.dependencies:",e.toString(a),"does not satisfy",e.toString(t),"used by",e.toString(v)+"."),a._warned=!0,s._warned=!0):a||(l.warn("Plugin.dependencies:",e.toString(f),"used by",e.toString(v),"could not be resolved."),s._warned=!0),t.name});for(var c=0;c<r[n].length;c+=1)e.dependencies(r[n][c],r);return r}},e.dependencyParse=function(s){if(l.isString(s)){var r=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return r.test(s)||l.warn("Plugin.dependencyParse:",s,"is not a valid dependency string."),{name:s.split("@")[0],range:s.split("@")[1]||"*"}}return{name:s.name,range:s.range||s.version}},e.versionParse=function(s){var r=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;r.test(s)||l.warn("Plugin.versionParse:",s,"is not a valid version or range.");var v=r.exec(s),n=Number(v[4]),c=Number(v[5]),f=Number(v[6]);return{isRange:!!(v[1]||v[2]),version:v[3],range:s,operator:v[1]||v[2]||"",major:n,minor:c,patch:f,parts:[n,c,f],prerelease:v[7],number:n*1e8+c*1e4+f}},e.versionSatisfies=function(s,r){r=r||"*";var v=e.versionParse(r),n=e.versionParse(s);if(v.isRange){if(v.operator==="*"||s==="*")return!0;if(v.operator===">")return n.number>v.number;if(v.operator===">=")return n.number>=v.number;if(v.operator==="~")return n.major===v.major&&n.minor===v.minor&&n.patch>=v.patch;if(v.operator==="^")return v.major>0?n.major===v.major&&n.number>=v.number:v.minor>0?n.minor===v.minor&&n.patch>=v.patch:n.patch===v.patch}return s===r||s==="*"}})()},function(d,P){var u={};d.exports=u,function(){u.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}}()},function(d,P,u){var e={};d.exports=e;var l=u(7),s=u(18),r=u(13),v=u(19),n=u(5),c=u(6),f=u(10),t=u(0),a=u(4);(function(){e._deltaMax=1e3/60,e.create=function(o){o=o||{};var g={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},m=t.extend(g,o);return m.world=o.world||c.create({label:"World"}),m.pairs=o.pairs||v.create(),m.detector=o.detector||r.create(),m.detector.pairs=m.pairs,m.grid={buckets:[]},m.world.gravity=m.gravity,m.broadphase=m.grid,m.metrics={},m},e.update=function(o,g){var m=t.now(),M=o.world,S=o.detector,E=o.pairs,p=o.timing,y=p.timestamp,w;g>e._deltaMax&&t.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",e._deltaMax.toFixed(3),"ms."),g=typeof g<"u"?g:t._baseDelta,g*=p.timeScale,p.timestamp+=g,p.lastDelta=g;var x={timestamp:p.timestamp,delta:g};n.trigger(o,"beforeUpdate",x);var A=c.allBodies(M),C=c.allConstraints(M);for(M.isModified&&(r.setBodies(S,A),c.setModified(M,!1,!1,!0)),o.enableSleeping&&l.update(A,g),e._bodiesApplyGravity(A,o.gravity),g>0&&e._bodiesUpdate(A,g),n.trigger(o,"beforeSolve",x),f.preSolveAll(A),w=0;w<o.constraintIterations;w++)f.solveAll(C,g);f.postSolveAll(A);var T=r.collisions(S);v.update(E,T,y),o.enableSleeping&&l.afterCollisions(E.list),E.collisionStart.length>0&&n.trigger(o,"collisionStart",{pairs:E.collisionStart,timestamp:p.timestamp,delta:g});var I=t.clamp(20/o.positionIterations,0,1);for(s.preSolvePosition(E.list),w=0;w<o.positionIterations;w++)s.solvePosition(E.list,g,I);for(s.postSolvePosition(A),f.preSolveAll(A),w=0;w<o.constraintIterations;w++)f.solveAll(C,g);for(f.postSolveAll(A),s.preSolveVelocity(E.list),w=0;w<o.velocityIterations;w++)s.solveVelocity(E.list,g);return e._bodiesUpdateVelocities(A),E.collisionActive.length>0&&n.trigger(o,"collisionActive",{pairs:E.collisionActive,timestamp:p.timestamp,delta:g}),E.collisionEnd.length>0&&n.trigger(o,"collisionEnd",{pairs:E.collisionEnd,timestamp:p.timestamp,delta:g}),e._bodiesClearForces(A),n.trigger(o,"afterUpdate",x),o.timing.lastElapsed=t.now()-m,o},e.merge=function(o,g){if(t.extend(o,g),g.world){o.world=g.world,e.clear(o);for(var m=c.allBodies(o.world),M=0;M<m.length;M++){var S=m[M];l.set(S,!1),S.id=t.nextId()}}},e.clear=function(o){v.clear(o.pairs),r.clear(o.detector)},e._bodiesClearForces=function(o){for(var g=o.length,m=0;m<g;m++){var M=o[m];M.force.x=0,M.force.y=0,M.torque=0}},e._bodiesApplyGravity=function(o,g){var m=typeof g.scale<"u"?g.scale:.001,M=o.length;if(!(g.x===0&&g.y===0||m===0))for(var S=0;S<M;S++){var E=o[S];E.isStatic||E.isSleeping||(E.force.y+=E.mass*g.y*m,E.force.x+=E.mass*g.x*m)}},e._bodiesUpdate=function(o,g){for(var m=o.length,M=0;M<m;M++){var S=o[M];S.isStatic||S.isSleeping||a.update(S,g)}},e._bodiesUpdateVelocities=function(o){for(var g=o.length,m=0;m<g;m++)a.updateVelocities(o[m])}})()},function(d,P,u){var e={};d.exports=e;var l=u(3),s=u(0),r=u(1);(function(){e._restingThresh=2,e._restingThreshTangent=Math.sqrt(6),e._positionDampen=.9,e._positionWarming=.8,e._frictionNormalMultiplier=5,e._frictionMaxStatic=Number.MAX_VALUE,e.preSolvePosition=function(v){var n,c,f,t=v.length;for(n=0;n<t;n++)c=v[n],c.isActive&&(f=c.contactCount,c.collision.parentA.totalContacts+=f,c.collision.parentB.totalContacts+=f)},e.solvePosition=function(v,n,c){var f,t,a,o,g,m,M,S,E=e._positionDampen*(c||1),p=s.clamp(n/s._baseDelta,0,1),y=v.length;for(f=0;f<y;f++)t=v[f],!(!t.isActive||t.isSensor)&&(a=t.collision,o=a.parentA,g=a.parentB,m=a.normal,t.separation=a.depth+m.x*(g.positionImpulse.x-o.positionImpulse.x)+m.y*(g.positionImpulse.y-o.positionImpulse.y));for(f=0;f<y;f++)t=v[f],!(!t.isActive||t.isSensor)&&(a=t.collision,o=a.parentA,g=a.parentB,m=a.normal,S=t.separation-t.slop*p,(o.isStatic||g.isStatic)&&(S*=2),o.isStatic||o.isSleeping||(M=E/o.totalContacts,o.positionImpulse.x+=m.x*S*M,o.positionImpulse.y+=m.y*S*M),g.isStatic||g.isSleeping||(M=E/g.totalContacts,g.positionImpulse.x-=m.x*S*M,g.positionImpulse.y-=m.y*S*M))},e.postSolvePosition=function(v){for(var n=e._positionWarming,c=v.length,f=l.translate,t=r.update,a=0;a<c;a++){var o=v[a],g=o.positionImpulse,m=g.x,M=g.y,S=o.velocity;if(o.totalContacts=0,m!==0||M!==0){for(var E=0;E<o.parts.length;E++){var p=o.parts[E];f(p.vertices,g),t(p.bounds,p.vertices,S),p.position.x+=m,p.position.y+=M}o.positionPrev.x+=m,o.positionPrev.y+=M,m*S.x+M*S.y<0?(g.x=0,g.y=0):(g.x*=n,g.y*=n)}}},e.preSolveVelocity=function(v){var n=v.length,c,f;for(c=0;c<n;c++){var t=v[c];if(!(!t.isActive||t.isSensor)){var a=t.contacts,o=t.contactCount,g=t.collision,m=g.parentA,M=g.parentB,S=g.normal,E=g.tangent;for(f=0;f<o;f++){var p=a[f],y=p.vertex,w=p.normalImpulse,x=p.tangentImpulse;if(w!==0||x!==0){var A=S.x*w+E.x*x,C=S.y*w+E.y*x;m.isStatic||m.isSleeping||(m.positionPrev.x+=A*m.inverseMass,m.positionPrev.y+=C*m.inverseMass,m.anglePrev+=m.inverseInertia*((y.x-m.position.x)*C-(y.y-m.position.y)*A)),M.isStatic||M.isSleeping||(M.positionPrev.x-=A*M.inverseMass,M.positionPrev.y-=C*M.inverseMass,M.anglePrev-=M.inverseInertia*((y.x-M.position.x)*C-(y.y-M.position.y)*A))}}}}},e.solveVelocity=function(v,n){var c=n/s._baseDelta,f=c*c,t=f*c,a=-e._restingThresh*c,o=e._restingThreshTangent,g=e._frictionNormalMultiplier*c,m=e._frictionMaxStatic,M=v.length,S,E,p,y;for(p=0;p<M;p++){var w=v[p];if(!(!w.isActive||w.isSensor)){var x=w.collision,A=x.parentA,C=x.parentB,T=x.normal.x,I=x.normal.y,B=x.tangent.x,R=x.tangent.y,D=w.inverseMass,F=w.friction*w.frictionStatic*g,L=w.contacts,O=w.contactCount,V=1/O,_=A.position.x-A.positionPrev.x,W=A.position.y-A.positionPrev.y,Q=A.angle-A.anglePrev,$=C.position.x-C.positionPrev.x,fe=C.position.y-C.positionPrev.y,ee=C.angle-C.anglePrev;for(y=0;y<O;y++){var H=L[y],te=H.vertex,Z=te.x-A.position.x,Le=te.y-A.position.y,ie=te.x-C.position.x,re=te.y-C.position.y,q=_-Le*Q,Xn=W+Z*Q,$n=$-re*ee,Jn=fe+ie*ee,Wt=q-$n,bt=Xn-Jn,ht=T*Wt+I*bt,se=B*Wt+R*bt,zt=w.separation+ht,dt=Math.min(zt,1);dt=zt<0?0:dt;var Gt=dt*F;se<-Gt||se>Gt?(E=se>0?se:-se,S=w.friction*(se>0?1:-1)*t,S<-E?S=-E:S>E&&(S=E)):(S=se,E=m);var Kt=Z*I-Le*T,Qt=ie*I-re*T,Yt=V/(D+A.inverseInertia*Kt*Kt+C.inverseInertia*Qt*Qt),Ye=(1+w.restitution)*ht*Yt;if(S*=Yt,ht<a)H.normalImpulse=0;else{var qn=H.normalImpulse;H.normalImpulse+=Ye,H.normalImpulse>0&&(H.normalImpulse=0),Ye=H.normalImpulse-qn}if(se<-o||se>o)H.tangentImpulse=0;else{var jn=H.tangentImpulse;H.tangentImpulse+=S,H.tangentImpulse<-E&&(H.tangentImpulse=-E),H.tangentImpulse>E&&(H.tangentImpulse=E),S=H.tangentImpulse-jn}var Ze=T*Ye+B*S,Xe=I*Ye+R*S;A.isStatic||A.isSleeping||(A.positionPrev.x+=Ze*A.inverseMass,A.positionPrev.y+=Xe*A.inverseMass,A.anglePrev+=(Z*Xe-Le*Ze)*A.inverseInertia),C.isStatic||C.isSleeping||(C.positionPrev.x-=Ze*C.inverseMass,C.positionPrev.y-=Xe*C.inverseMass,C.anglePrev-=(ie*Xe-re*Ze)*C.inverseInertia)}}}}})()},function(d,P,u){var e={};d.exports=e;var l=u(9),s=u(0);(function(){e.create=function(r){return s.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},r)},e.update=function(r,v,n){var c=l.update,f=l.create,t=l.setActive,a=r.table,o=r.list,g=o.length,m=g,M=r.collisionStart,S=r.collisionEnd,E=r.collisionActive,p=v.length,y=0,w=0,x=0,A,C,T;for(T=0;T<p;T++)A=v[T],C=A.pair,C?(C.isActive&&(E[x++]=C),c(C,A,n)):(C=f(A,n),a[C.id]=C,M[y++]=C,o[m++]=C);for(m=0,g=o.length,T=0;T<g;T++)C=o[T],C.timeUpdated>=n?o[m++]=C:(t(C,!1,n),C.collision.bodyA.sleepCounter>0&&C.collision.bodyB.sleepCounter>0?o[m++]=C:(S[w++]=C,delete a[C.id]));o.length!==m&&(o.length=m),M.length!==y&&(M.length=y),S.length!==w&&(S.length=w),E.length!==x&&(E.length=x)},e.clear=function(r){return r.table={},r.list.length=0,r.collisionStart.length=0,r.collisionActive.length=0,r.collisionEnd.length=0,r}})()},function(d,P,u){var e=d.exports=u(21);e.Axes=u(11),e.Bodies=u(12),e.Body=u(4),e.Bounds=u(1),e.Collision=u(8),e.Common=u(0),e.Composite=u(6),e.Composites=u(22),e.Constraint=u(10),e.Contact=u(16),e.Detector=u(13),e.Engine=u(17),e.Events=u(5),e.Grid=u(23),e.Mouse=u(14),e.MouseConstraint=u(24),e.Pair=u(9),e.Pairs=u(19),e.Plugin=u(15),e.Query=u(25),e.Render=u(26),e.Resolver=u(18),e.Runner=u(27),e.SAT=u(28),e.Sleeping=u(7),e.Svg=u(29),e.Vector=u(2),e.Vertices=u(3),e.World=u(30),e.Engine.run=e.Runner.run,e.Common.deprecated(e.Engine,"run","Engine.run ➤ use Matter.Runner.run(engine) instead")},function(d,P,u){var e={};d.exports=e;var l=u(15),s=u(0);(function(){e.name="matter-js",e.version="0.20.0",e.uses=[],e.used=[],e.use=function(){l.use(e,Array.prototype.slice.call(arguments))},e.before=function(r,v){return r=r.replace(/^Matter./,""),s.chainPathBefore(e,r,v)},e.after=function(r,v){return r=r.replace(/^Matter./,""),s.chainPathAfter(e,r,v)}})()},function(d,P,u){var e={};d.exports=e;var l=u(6),s=u(10),r=u(0),v=u(4),n=u(12),c=r.deprecated;(function(){e.stack=function(f,t,a,o,g,m,M){for(var S=l.create({label:"Stack"}),E=f,p=t,y,w=0,x=0;x<o;x++){for(var A=0,C=0;C<a;C++){var T=M(E,p,C,x,y,w);if(T){var I=T.bounds.max.y-T.bounds.min.y,B=T.bounds.max.x-T.bounds.min.x;I>A&&(A=I),v.translate(T,{x:B*.5,y:I*.5}),E=T.bounds.max.x+g,l.addBody(S,T),y=T,w+=1}else E+=g}p+=A+m,E=f}return S},e.chain=function(f,t,a,o,g,m){for(var M=f.bodies,S=1;S<M.length;S++){var E=M[S-1],p=M[S],y=E.bounds.max.y-E.bounds.min.y,w=E.bounds.max.x-E.bounds.min.x,x=p.bounds.max.y-p.bounds.min.y,A=p.bounds.max.x-p.bounds.min.x,C={bodyA:E,pointA:{x:w*t,y:y*a},bodyB:p,pointB:{x:A*o,y:x*g}},T=r.extend(C,m);l.addConstraint(f,s.create(T))}return f.label+=" Chain",f},e.mesh=function(f,t,a,o,g){var m=f.bodies,M,S,E,p,y;for(M=0;M<a;M++){for(S=1;S<t;S++)E=m[S-1+M*t],p=m[S+M*t],l.addConstraint(f,s.create(r.extend({bodyA:E,bodyB:p},g)));if(M>0)for(S=0;S<t;S++)E=m[S+(M-1)*t],p=m[S+M*t],l.addConstraint(f,s.create(r.extend({bodyA:E,bodyB:p},g))),o&&S>0&&(y=m[S-1+(M-1)*t],l.addConstraint(f,s.create(r.extend({bodyA:y,bodyB:p},g)))),o&&S<t-1&&(y=m[S+1+(M-1)*t],l.addConstraint(f,s.create(r.extend({bodyA:y,bodyB:p},g))))}return f.label+=" Mesh",f},e.pyramid=function(f,t,a,o,g,m,M){return e.stack(f,t,a,o,g,m,function(S,E,p,y,w,x){var A=Math.min(o,Math.ceil(a/2)),C=w?w.bounds.max.x-w.bounds.min.x:0;if(!(y>A)){y=A-y;var T=y,I=a-1-y;if(!(p<T||p>I)){x===1&&v.translate(w,{x:(p+(a%2===1?1:-1))*C,y:0});var B=w?p*C:0;return M(f+B+p*g,E,p,y,w,x)}}})},e.newtonsCradle=function(f,t,a,o,g){for(var m=l.create({label:"Newtons Cradle"}),M=0;M<a;M++){var S=1.9,E=n.circle(f+M*(o*S),t+g,o,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),p=s.create({pointA:{x:f+M*(o*S),y:t},bodyB:E});l.addBody(m,E),l.addConstraint(m,p)}return m},c(e,"newtonsCradle","Composites.newtonsCradle ➤ moved to newtonsCradle example"),e.car=function(f,t,a,o,g){var m=v.nextGroup(!0),M=20,S=-a*.5+M,E=a*.5-M,p=0,y=l.create({label:"Car"}),w=n.rectangle(f,t,a,o,{collisionFilter:{group:m},chamfer:{radius:o*.5},density:2e-4}),x=n.circle(f+S,t+p,g,{collisionFilter:{group:m},friction:.8}),A=n.circle(f+E,t+p,g,{collisionFilter:{group:m},friction:.8}),C=s.create({bodyB:w,pointB:{x:S,y:p},bodyA:x,stiffness:1,length:0}),T=s.create({bodyB:w,pointB:{x:E,y:p},bodyA:A,stiffness:1,length:0});return l.addBody(y,w),l.addBody(y,x),l.addBody(y,A),l.addConstraint(y,C),l.addConstraint(y,T),y},c(e,"car","Composites.car ➤ moved to car example"),e.softBody=function(f,t,a,o,g,m,M,S,E,p){E=r.extend({inertia:1/0},E),p=r.extend({stiffness:.2,render:{type:"line",anchors:!1}},p);var y=e.stack(f,t,a,o,g,m,function(w,x){return n.circle(w,x,S,E)});return e.mesh(y,a,o,M,p),y.label="Soft Body",y},c(e,"softBody","Composites.softBody ➤ moved to softBody and cloth examples")})()},function(d,P,u){var e={};d.exports=e;var l=u(9),s=u(0),r=s.deprecated;(function(){e.create=function(v){var n={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return s.extend(n,v)},e.update=function(v,n,c,f){var t,a,o,g=c.world,m=v.buckets,M,S,E=!1;for(t=0;t<n.length;t++){var p=n[t];if(!(p.isSleeping&&!f)&&!(g.bounds&&(p.bounds.max.x<g.bounds.min.x||p.bounds.min.x>g.bounds.max.x||p.bounds.max.y<g.bounds.min.y||p.bounds.min.y>g.bounds.max.y))){var y=e._getRegion(v,p);if(!p.region||y.id!==p.region.id||f){(!p.region||f)&&(p.region=y);var w=e._regionUnion(y,p.region);for(a=w.startCol;a<=w.endCol;a++)for(o=w.startRow;o<=w.endRow;o++){S=e._getBucketId(a,o),M=m[S];var x=a>=y.startCol&&a<=y.endCol&&o>=y.startRow&&o<=y.endRow,A=a>=p.region.startCol&&a<=p.region.endCol&&o>=p.region.startRow&&o<=p.region.endRow;!x&&A&&A&&M&&e._bucketRemoveBody(v,M,p),(p.region===y||x&&!A||f)&&(M||(M=e._createBucket(m,S)),e._bucketAddBody(v,M,p))}p.region=y,E=!0}}}E&&(v.pairsList=e._createActivePairsList(v))},r(e,"update","Grid.update ➤ replaced by Matter.Detector"),e.clear=function(v){v.buckets={},v.pairs={},v.pairsList=[]},r(e,"clear","Grid.clear ➤ replaced by Matter.Detector"),e._regionUnion=function(v,n){var c=Math.min(v.startCol,n.startCol),f=Math.max(v.endCol,n.endCol),t=Math.min(v.startRow,n.startRow),a=Math.max(v.endRow,n.endRow);return e._createRegion(c,f,t,a)},e._getRegion=function(v,n){var c=n.bounds,f=Math.floor(c.min.x/v.bucketWidth),t=Math.floor(c.max.x/v.bucketWidth),a=Math.floor(c.min.y/v.bucketHeight),o=Math.floor(c.max.y/v.bucketHeight);return e._createRegion(f,t,a,o)},e._createRegion=function(v,n,c,f){return{id:v+","+n+","+c+","+f,startCol:v,endCol:n,startRow:c,endRow:f}},e._getBucketId=function(v,n){return"C"+v+"R"+n},e._createBucket=function(v,n){var c=v[n]=[];return c},e._bucketAddBody=function(v,n,c){var f=v.pairs,t=l.id,a=n.length,o;for(o=0;o<a;o++){var g=n[o];if(!(c.id===g.id||c.isStatic&&g.isStatic)){var m=t(c,g),M=f[m];M?M[2]+=1:f[m]=[c,g,1]}}n.push(c)},e._bucketRemoveBody=function(v,n,c){var f=v.pairs,t=l.id,a;n.splice(s.indexOf(n,c),1);var o=n.length;for(a=0;a<o;a++){var g=f[t(c,n[a])];g&&(g[2]-=1)}},e._createActivePairsList=function(v){var n,c=v.pairs,f=s.keys(c),t=f.length,a=[],o;for(o=0;o<t;o++)n=c[f[o]],n[2]>0?a.push(n):delete c[f[o]];return a}})()},function(d,P,u){var e={};d.exports=e;var l=u(3),s=u(7),r=u(14),v=u(5),n=u(13),c=u(10),f=u(6),t=u(0),a=u(1);(function(){e.create=function(o,g){var m=(o?o.mouse:null)||(g?g.mouse:null);m||(o&&o.render&&o.render.canvas?m=r.create(o.render.canvas):g&&g.element?m=r.create(g.element):(m=r.create(),t.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var M=c.create({label:"Mouse Constraint",pointA:m.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),S={type:"mouseConstraint",mouse:m,element:null,body:null,constraint:M,collisionFilter:{category:1,mask:4294967295,group:0}},E=t.extend(S,g);return v.on(o,"beforeUpdate",function(){var p=f.allBodies(o.world);e.update(E,p),e._triggerEvents(E)}),E},e.update=function(o,g){var m=o.mouse,M=o.constraint,S=o.body;if(m.button===0){if(M.bodyB)s.set(M.bodyB,!1),M.pointA=m.position;else for(var E=0;E<g.length;E++)if(S=g[E],a.contains(S.bounds,m.position)&&n.canCollide(S.collisionFilter,o.collisionFilter))for(var p=S.parts.length>1?1:0;p<S.parts.length;p++){var y=S.parts[p];if(l.contains(y.vertices,m.position)){M.pointA=m.position,M.bodyB=o.body=S,M.pointB={x:m.position.x-S.position.x,y:m.position.y-S.position.y},M.angleB=S.angle,s.set(S,!1),v.trigger(o,"startdrag",{mouse:m,body:S});break}}}else M.bodyB=o.body=null,M.pointB=null,S&&v.trigger(o,"enddrag",{mouse:m,body:S})},e._triggerEvents=function(o){var g=o.mouse,m=g.sourceEvents;m.mousemove&&v.trigger(o,"mousemove",{mouse:g}),m.mousedown&&v.trigger(o,"mousedown",{mouse:g}),m.mouseup&&v.trigger(o,"mouseup",{mouse:g}),r.clearSourceEvents(g)}})()},function(d,P,u){var e={};d.exports=e;var l=u(2),s=u(8),r=u(1),v=u(12),n=u(3);(function(){e.collides=function(c,f){for(var t=[],a=f.length,o=c.bounds,g=s.collides,m=r.overlaps,M=0;M<a;M++){var S=f[M],E=S.parts.length,p=E===1?0:1;if(m(S.bounds,o))for(var y=p;y<E;y++){var w=S.parts[y];if(m(w.bounds,o)){var x=g(w,c);if(x){t.push(x);break}}}}return t},e.ray=function(c,f,t,a){a=a||1e-100;for(var o=l.angle(f,t),g=l.magnitude(l.sub(f,t)),m=(t.x+f.x)*.5,M=(t.y+f.y)*.5,S=v.rectangle(m,M,g,a,{angle:o}),E=e.collides(S,c),p=0;p<E.length;p+=1){var y=E[p];y.body=y.bodyB=y.bodyA}return E},e.region=function(c,f,t){for(var a=[],o=0;o<c.length;o++){var g=c[o],m=r.overlaps(g.bounds,f);(m&&!t||!m&&t)&&a.push(g)}return a},e.point=function(c,f){for(var t=[],a=0;a<c.length;a++){var o=c[a];if(r.contains(o.bounds,f))for(var g=o.parts.length===1?0:1;g<o.parts.length;g++){var m=o.parts[g];if(r.contains(m.bounds,f)&&n.contains(m.vertices,f)){t.push(o);break}}}return t}})()},function(d,P,u){var e={};d.exports=e;var l=u(4),s=u(0),r=u(6),v=u(1),n=u(5),c=u(2),f=u(14);(function(){var t,a;typeof window<"u"&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(p){window.setTimeout(function(){p(s.now())},1e3/60)},a=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),e._goodFps=30,e._goodDelta=1e3/60,e.create=function(p){var y={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!p.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},w=s.extend(y,p);return w.canvas&&(w.canvas.width=w.options.width||w.canvas.width,w.canvas.height=w.options.height||w.canvas.height),w.mouse=p.mouse,w.engine=p.engine,w.canvas=w.canvas||m(w.options.width,w.options.height),w.context=w.canvas.getContext("2d"),w.textures={},w.bounds=w.bounds||{min:{x:0,y:0},max:{x:w.canvas.width,y:w.canvas.height}},w.controller=e,w.options.showBroadphase=!1,w.options.pixelRatio!==1&&e.setPixelRatio(w,w.options.pixelRatio),s.isElement(w.element)&&w.element.appendChild(w.canvas),w},e.run=function(p){(function y(w){p.frameRequestId=t(y),o(p,w),e.world(p,w),p.context.setTransform(p.options.pixelRatio,0,0,p.options.pixelRatio,0,0),(p.options.showStats||p.options.showDebug)&&e.stats(p,p.context,w),(p.options.showPerformance||p.options.showDebug)&&e.performance(p,p.context,w),p.context.setTransform(1,0,0,1,0,0)})()},e.stop=function(p){a(p.frameRequestId)},e.setPixelRatio=function(p,y){var w=p.options,x=p.canvas;y==="auto"&&(y=M(x)),w.pixelRatio=y,x.setAttribute("data-pixel-ratio",y),x.width=w.width*y,x.height=w.height*y,x.style.width=w.width+"px",x.style.height=w.height+"px"},e.setSize=function(p,y,w){p.options.width=y,p.options.height=w,p.bounds.max.x=p.bounds.min.x+y,p.bounds.max.y=p.bounds.min.y+w,p.options.pixelRatio!==1?e.setPixelRatio(p,p.options.pixelRatio):(p.canvas.width=y,p.canvas.height=w)},e.lookAt=function(p,y,w,x){x=typeof x<"u"?x:!0,y=s.isArray(y)?y:[y],w=w||{x:0,y:0};for(var A={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},C=0;C<y.length;C+=1){var T=y[C],I=T.bounds?T.bounds.min:T.min||T.position||T,B=T.bounds?T.bounds.max:T.max||T.position||T;I&&B&&(I.x<A.min.x&&(A.min.x=I.x),B.x>A.max.x&&(A.max.x=B.x),I.y<A.min.y&&(A.min.y=I.y),B.y>A.max.y&&(A.max.y=B.y))}var R=A.max.x-A.min.x+2*w.x,D=A.max.y-A.min.y+2*w.y,F=p.canvas.height,L=p.canvas.width,O=L/F,V=R/D,_=1,W=1;V>O?W=V/O:_=O/V,p.options.hasBounds=!0,p.bounds.min.x=A.min.x,p.bounds.max.x=A.min.x+R*_,p.bounds.min.y=A.min.y,p.bounds.max.y=A.min.y+D*W,x&&(p.bounds.min.x+=R*.5-R*_*.5,p.bounds.max.x+=R*.5-R*_*.5,p.bounds.min.y+=D*.5-D*W*.5,p.bounds.max.y+=D*.5-D*W*.5),p.bounds.min.x-=w.x,p.bounds.max.x-=w.x,p.bounds.min.y-=w.y,p.bounds.max.y-=w.y,p.mouse&&(f.setScale(p.mouse,{x:(p.bounds.max.x-p.bounds.min.x)/p.canvas.width,y:(p.bounds.max.y-p.bounds.min.y)/p.canvas.height}),f.setOffset(p.mouse,p.bounds.min))},e.startViewTransform=function(p){var y=p.bounds.max.x-p.bounds.min.x,w=p.bounds.max.y-p.bounds.min.y,x=y/p.options.width,A=w/p.options.height;p.context.setTransform(p.options.pixelRatio/x,0,0,p.options.pixelRatio/A,0,0),p.context.translate(-p.bounds.min.x,-p.bounds.min.y)},e.endViewTransform=function(p){p.context.setTransform(p.options.pixelRatio,0,0,p.options.pixelRatio,0,0)},e.world=function(p,y){var w=s.now(),x=p.engine,A=x.world,C=p.canvas,T=p.context,I=p.options,B=p.timing,R=r.allBodies(A),D=r.allConstraints(A),F=I.wireframes?I.wireframeBackground:I.background,L=[],O=[],V,_={timestamp:x.timing.timestamp};if(n.trigger(p,"beforeRender",_),p.currentBackground!==F&&E(p,F),T.globalCompositeOperation="source-in",T.fillStyle="transparent",T.fillRect(0,0,C.width,C.height),T.globalCompositeOperation="source-over",I.hasBounds){for(V=0;V<R.length;V++){var W=R[V];v.overlaps(W.bounds,p.bounds)&&L.push(W)}for(V=0;V<D.length;V++){var Q=D[V],$=Q.bodyA,fe=Q.bodyB,ee=Q.pointA,H=Q.pointB;$&&(ee=c.add($.position,Q.pointA)),fe&&(H=c.add(fe.position,Q.pointB)),!(!ee||!H)&&(v.contains(p.bounds,ee)||v.contains(p.bounds,H))&&O.push(Q)}e.startViewTransform(p),p.mouse&&(f.setScale(p.mouse,{x:(p.bounds.max.x-p.bounds.min.x)/p.options.width,y:(p.bounds.max.y-p.bounds.min.y)/p.options.height}),f.setOffset(p.mouse,p.bounds.min))}else O=D,L=R,p.options.pixelRatio!==1&&p.context.setTransform(p.options.pixelRatio,0,0,p.options.pixelRatio,0,0);!I.wireframes||x.enableSleeping&&I.showSleeping?e.bodies(p,L,T):(I.showConvexHulls&&e.bodyConvexHulls(p,L,T),e.bodyWireframes(p,L,T)),I.showBounds&&e.bodyBounds(p,L,T),(I.showAxes||I.showAngleIndicator)&&e.bodyAxes(p,L,T),I.showPositions&&e.bodyPositions(p,L,T),I.showVelocity&&e.bodyVelocity(p,L,T),I.showIds&&e.bodyIds(p,L,T),I.showSeparations&&e.separations(p,x.pairs.list,T),I.showCollisions&&e.collisions(p,x.pairs.list,T),I.showVertexNumbers&&e.vertexNumbers(p,L,T),I.showMousePosition&&e.mousePosition(p,p.mouse,T),e.constraints(O,T),I.hasBounds&&e.endViewTransform(p),n.trigger(p,"afterRender",_),B.lastElapsed=s.now()-w},e.stats=function(p,y,w){for(var x=p.engine,A=x.world,C=r.allBodies(A),T=0,I=55,B=44,R=0,D=0,F=0;F<C.length;F+=1)T+=C[F].parts.length;var L={Part:T,Body:C.length,Cons:r.allConstraints(A).length,Comp:r.allComposites(A).length,Pair:x.pairs.list.length};y.fillStyle="#0e0f19",y.fillRect(R,D,I*5.5,B),y.font="12px Arial",y.textBaseline="top",y.textAlign="right";for(var O in L){var V=L[O];y.fillStyle="#aaa",y.fillText(O,R+I,D+8),y.fillStyle="#eee",y.fillText(V,R+I,D+26),R+=I}},e.performance=function(p,y){var w=p.engine,x=p.timing,A=x.deltaHistory,C=x.elapsedHistory,T=x.timestampElapsedHistory,I=x.engineDeltaHistory,B=x.engineUpdatesHistory,R=x.engineElapsedHistory,D=w.timing.lastUpdatesPerFrame,F=w.timing.lastDelta,L=g(A),O=g(C),V=g(I),_=g(B),W=g(R),Q=g(T),$=Q/L||0,fe=Math.round(L/F),ee=1e3/L||0,H=4,te=12,Z=60,Le=34,ie=10,re=69;y.fillStyle="#0e0f19",y.fillRect(0,50,te*5+Z*6+22,Le),e.status(y,ie,re,Z,H,A.length,Math.round(ee)+" fps",ee/e._goodFps,function(q){return A[q]/L-1}),e.status(y,ie+te+Z,re,Z,H,I.length,F.toFixed(2)+" dt",e._goodDelta/F,function(q){return I[q]/V-1}),e.status(y,ie+(te+Z)*2,re,Z,H,B.length,D+" upf",Math.pow(s.clamp(_/fe||1,0,1),4),function(q){return B[q]/_-1}),e.status(y,ie+(te+Z)*3,re,Z,H,R.length,W.toFixed(2)+" ut",1-D*W/e._goodFps,function(q){return R[q]/W-1}),e.status(y,ie+(te+Z)*4,re,Z,H,C.length,O.toFixed(2)+" rt",1-O/e._goodFps,function(q){return C[q]/O-1}),e.status(y,ie+(te+Z)*5,re,Z,H,T.length,$.toFixed(2)+" x",$*$*$,function(q){return(T[q]/A[q]/$||0)-1})},e.status=function(p,y,w,x,A,C,T,I,B){p.strokeStyle="#888",p.fillStyle="#444",p.lineWidth=1,p.fillRect(y,w+7,x,1),p.beginPath(),p.moveTo(y,w+7-A*s.clamp(.4*B(0),-2,2));for(var R=0;R<x;R+=1)p.lineTo(y+R,w+7-(R<C?A*s.clamp(.4*B(R),-2,2):0));p.stroke(),p.fillStyle="hsl("+s.clamp(25+95*I,0,120)+",100%,60%)",p.fillRect(y,w-7,4,4),p.font="12px Arial",p.textBaseline="middle",p.textAlign="right",p.fillStyle="#eee",p.fillText(T,y+x,w-5)},e.constraints=function(p,y){for(var w=y,x=0;x<p.length;x++){var A=p[x];if(!(!A.render.visible||!A.pointA||!A.pointB)){var C=A.bodyA,T=A.bodyB,I,B;if(C?I=c.add(C.position,A.pointA):I=A.pointA,A.render.type==="pin")w.beginPath(),w.arc(I.x,I.y,3,0,2*Math.PI),w.closePath();else{if(T?B=c.add(T.position,A.pointB):B=A.pointB,w.beginPath(),w.moveTo(I.x,I.y),A.render.type==="spring")for(var R=c.sub(B,I),D=c.perp(c.normalise(R)),F=Math.ceil(s.clamp(A.length/5,12,20)),L,O=1;O<F;O+=1)L=O%2===0?1:-1,w.lineTo(I.x+R.x*(O/F)+D.x*L*4,I.y+R.y*(O/F)+D.y*L*4);w.lineTo(B.x,B.y)}A.render.lineWidth&&(w.lineWidth=A.render.lineWidth,w.strokeStyle=A.render.strokeStyle,w.stroke()),A.render.anchors&&(w.fillStyle=A.render.strokeStyle,w.beginPath(),w.arc(I.x,I.y,3,0,2*Math.PI),w.arc(B.x,B.y,3,0,2*Math.PI),w.closePath(),w.fill())}}},e.bodies=function(p,y,w){var x=w;p.engine;var A=p.options,C=A.showInternalEdges||!A.wireframes,T,I,B,R;for(B=0;B<y.length;B++)if(T=y[B],!!T.render.visible){for(R=T.parts.length>1?1:0;R<T.parts.length;R++)if(I=T.parts[R],!!I.render.visible){if(A.showSleeping&&T.isSleeping?x.globalAlpha=.5*I.render.opacity:I.render.opacity!==1&&(x.globalAlpha=I.render.opacity),I.render.sprite&&I.render.sprite.texture&&!A.wireframes){var D=I.render.sprite,F=S(p,D.texture);x.translate(I.position.x,I.position.y),x.rotate(I.angle),x.drawImage(F,F.width*-D.xOffset*D.xScale,F.height*-D.yOffset*D.yScale,F.width*D.xScale,F.height*D.yScale),x.rotate(-I.angle),x.translate(-I.position.x,-I.position.y)}else{if(I.circleRadius)x.beginPath(),x.arc(I.position.x,I.position.y,I.circleRadius,0,2*Math.PI);else{x.beginPath(),x.moveTo(I.vertices[0].x,I.vertices[0].y);for(var L=1;L<I.vertices.length;L++)!I.vertices[L-1].isInternal||C?x.lineTo(I.vertices[L].x,I.vertices[L].y):x.moveTo(I.vertices[L].x,I.vertices[L].y),I.vertices[L].isInternal&&!C&&x.moveTo(I.vertices[(L+1)%I.vertices.length].x,I.vertices[(L+1)%I.vertices.length].y);x.lineTo(I.vertices[0].x,I.vertices[0].y),x.closePath()}A.wireframes?(x.lineWidth=1,x.strokeStyle=p.options.wireframeStrokeStyle,x.stroke()):(x.fillStyle=I.render.fillStyle,I.render.lineWidth&&(x.lineWidth=I.render.lineWidth,x.strokeStyle=I.render.strokeStyle,x.stroke()),x.fill())}x.globalAlpha=1}}},e.bodyWireframes=function(p,y,w){var x=w,A=p.options.showInternalEdges,C,T,I,B,R;for(x.beginPath(),I=0;I<y.length;I++)if(C=y[I],!!C.render.visible)for(R=C.parts.length>1?1:0;R<C.parts.length;R++){for(T=C.parts[R],x.moveTo(T.vertices[0].x,T.vertices[0].y),B=1;B<T.vertices.length;B++)!T.vertices[B-1].isInternal||A?x.lineTo(T.vertices[B].x,T.vertices[B].y):x.moveTo(T.vertices[B].x,T.vertices[B].y),T.vertices[B].isInternal&&!A&&x.moveTo(T.vertices[(B+1)%T.vertices.length].x,T.vertices[(B+1)%T.vertices.length].y);x.lineTo(T.vertices[0].x,T.vertices[0].y)}x.lineWidth=1,x.strokeStyle=p.options.wireframeStrokeStyle,x.stroke()},e.bodyConvexHulls=function(p,y,w){var x=w,A,C,T;for(x.beginPath(),C=0;C<y.length;C++)if(A=y[C],!(!A.render.visible||A.parts.length===1)){for(x.moveTo(A.vertices[0].x,A.vertices[0].y),T=1;T<A.vertices.length;T++)x.lineTo(A.vertices[T].x,A.vertices[T].y);x.lineTo(A.vertices[0].x,A.vertices[0].y)}x.lineWidth=1,x.strokeStyle="rgba(255,255,255,0.2)",x.stroke()},e.vertexNumbers=function(p,y,w){var x=w,A,C,T;for(A=0;A<y.length;A++){var I=y[A].parts;for(T=I.length>1?1:0;T<I.length;T++){var B=I[T];for(C=0;C<B.vertices.length;C++)x.fillStyle="rgba(255,255,255,0.2)",x.fillText(A+"_"+C,B.position.x+(B.vertices[C].x-B.position.x)*.8,B.position.y+(B.vertices[C].y-B.position.y)*.8)}}},e.mousePosition=function(p,y,w){var x=w;x.fillStyle="rgba(255,255,255,0.8)",x.fillText(y.position.x+"  "+y.position.y,y.position.x+5,y.position.y-5)},e.bodyBounds=function(p,y,w){var x=w;p.engine;var A=p.options;x.beginPath();for(var C=0;C<y.length;C++){var T=y[C];if(T.render.visible)for(var I=y[C].parts,B=I.length>1?1:0;B<I.length;B++){var R=I[B];x.rect(R.bounds.min.x,R.bounds.min.y,R.bounds.max.x-R.bounds.min.x,R.bounds.max.y-R.bounds.min.y)}}A.wireframes?x.strokeStyle="rgba(255,255,255,0.08)":x.strokeStyle="rgba(0,0,0,0.1)",x.lineWidth=1,x.stroke()},e.bodyAxes=function(p,y,w){var x=w;p.engine;var A=p.options,C,T,I,B;for(x.beginPath(),T=0;T<y.length;T++){var R=y[T],D=R.parts;if(R.render.visible)if(A.showAxes)for(I=D.length>1?1:0;I<D.length;I++)for(C=D[I],B=0;B<C.axes.length;B++){var F=C.axes[B];x.moveTo(C.position.x,C.position.y),x.lineTo(C.position.x+F.x*20,C.position.y+F.y*20)}else for(I=D.length>1?1:0;I<D.length;I++)for(C=D[I],B=0;B<C.axes.length;B++)x.moveTo(C.position.x,C.position.y),x.lineTo((C.vertices[0].x+C.vertices[C.vertices.length-1].x)/2,(C.vertices[0].y+C.vertices[C.vertices.length-1].y)/2)}A.wireframes?(x.strokeStyle="indianred",x.lineWidth=1):(x.strokeStyle="rgba(255, 255, 255, 0.4)",x.globalCompositeOperation="overlay",x.lineWidth=2),x.stroke(),x.globalCompositeOperation="source-over"},e.bodyPositions=function(p,y,w){var x=w;p.engine;var A=p.options,C,T,I,B;for(x.beginPath(),I=0;I<y.length;I++)if(C=y[I],!!C.render.visible)for(B=0;B<C.parts.length;B++)T=C.parts[B],x.arc(T.position.x,T.position.y,3,0,2*Math.PI,!1),x.closePath();for(A.wireframes?x.fillStyle="indianred":x.fillStyle="rgba(0,0,0,0.5)",x.fill(),x.beginPath(),I=0;I<y.length;I++)C=y[I],C.render.visible&&(x.arc(C.positionPrev.x,C.positionPrev.y,2,0,2*Math.PI,!1),x.closePath());x.fillStyle="rgba(255,165,0,0.8)",x.fill()},e.bodyVelocity=function(p,y,w){var x=w;x.beginPath();for(var A=0;A<y.length;A++){var C=y[A];if(C.render.visible){var T=l.getVelocity(C);x.moveTo(C.position.x,C.position.y),x.lineTo(C.position.x+T.x,C.position.y+T.y)}}x.lineWidth=3,x.strokeStyle="cornflowerblue",x.stroke()},e.bodyIds=function(p,y,w){var x=w,A,C;for(A=0;A<y.length;A++)if(y[A].render.visible){var T=y[A].parts;for(C=T.length>1?1:0;C<T.length;C++){var I=T[C];x.font="12px Arial",x.fillStyle="rgba(255,255,255,0.5)",x.fillText(I.id,I.position.x+10,I.position.y-10)}}},e.collisions=function(p,y,w){var x=w,A=p.options,C,T,I,B;for(x.beginPath(),I=0;I<y.length;I++)if(C=y[I],!!C.isActive)for(T=C.collision,B=0;B<C.contactCount;B++){var R=C.contacts[B],D=R.vertex;x.rect(D.x-1.5,D.y-1.5,3.5,3.5)}for(A.wireframes?x.fillStyle="rgba(255,255,255,0.7)":x.fillStyle="orange",x.fill(),x.beginPath(),I=0;I<y.length;I++)if(C=y[I],!!C.isActive&&(T=C.collision,C.contactCount>0)){var F=C.contacts[0].vertex.x,L=C.contacts[0].vertex.y;C.contactCount===2&&(F=(C.contacts[0].vertex.x+C.contacts[1].vertex.x)/2,L=(C.contacts[0].vertex.y+C.contacts[1].vertex.y)/2),T.bodyB===T.supports[0].body||T.bodyA.isStatic===!0?x.moveTo(F-T.normal.x*8,L-T.normal.y*8):x.moveTo(F+T.normal.x*8,L+T.normal.y*8),x.lineTo(F,L)}A.wireframes?x.strokeStyle="rgba(255,165,0,0.7)":x.strokeStyle="orange",x.lineWidth=1,x.stroke()},e.separations=function(p,y,w){var x=w,A=p.options,C,T,I,B,R;for(x.beginPath(),R=0;R<y.length;R++)if(C=y[R],!!C.isActive){T=C.collision,I=T.bodyA,B=T.bodyB;var D=1;!B.isStatic&&!I.isStatic&&(D=.5),B.isStatic&&(D=0),x.moveTo(B.position.x,B.position.y),x.lineTo(B.position.x-T.penetration.x*D,B.position.y-T.penetration.y*D),D=1,!B.isStatic&&!I.isStatic&&(D=.5),I.isStatic&&(D=0),x.moveTo(I.position.x,I.position.y),x.lineTo(I.position.x+T.penetration.x*D,I.position.y+T.penetration.y*D)}A.wireframes?x.strokeStyle="rgba(255,165,0,0.5)":x.strokeStyle="orange",x.stroke()},e.inspector=function(p,y){p.engine;var w=p.selected,x=p.render,A=x.options,C;if(A.hasBounds){var T=x.bounds.max.x-x.bounds.min.x,I=x.bounds.max.y-x.bounds.min.y,B=T/x.options.width,R=I/x.options.height;y.scale(1/B,1/R),y.translate(-x.bounds.min.x,-x.bounds.min.y)}for(var D=0;D<w.length;D++){var F=w[D].data;switch(y.translate(.5,.5),y.lineWidth=1,y.strokeStyle="rgba(255,165,0,0.9)",y.setLineDash([1,2]),F.type){case"body":C=F.bounds,y.beginPath(),y.rect(Math.floor(C.min.x-3),Math.floor(C.min.y-3),Math.floor(C.max.x-C.min.x+6),Math.floor(C.max.y-C.min.y+6)),y.closePath(),y.stroke();break;case"constraint":var L=F.pointA;F.bodyA&&(L=F.pointB),y.beginPath(),y.arc(L.x,L.y,10,0,2*Math.PI),y.closePath(),y.stroke();break}y.setLineDash([]),y.translate(-.5,-.5)}p.selectStart!==null&&(y.translate(.5,.5),y.lineWidth=1,y.strokeStyle="rgba(255,165,0,0.6)",y.fillStyle="rgba(255,165,0,0.1)",C=p.selectBounds,y.beginPath(),y.rect(Math.floor(C.min.x),Math.floor(C.min.y),Math.floor(C.max.x-C.min.x),Math.floor(C.max.y-C.min.y)),y.closePath(),y.stroke(),y.fill(),y.translate(-.5,-.5)),A.hasBounds&&y.setTransform(1,0,0,1,0,0)};var o=function(p,y){var w=p.engine,x=p.timing,A=x.historySize,C=w.timing.timestamp;x.delta=y-x.lastTime||e._goodDelta,x.lastTime=y,x.timestampElapsed=C-x.lastTimestamp||0,x.lastTimestamp=C,x.deltaHistory.unshift(x.delta),x.deltaHistory.length=Math.min(x.deltaHistory.length,A),x.engineDeltaHistory.unshift(w.timing.lastDelta),x.engineDeltaHistory.length=Math.min(x.engineDeltaHistory.length,A),x.timestampElapsedHistory.unshift(x.timestampElapsed),x.timestampElapsedHistory.length=Math.min(x.timestampElapsedHistory.length,A),x.engineUpdatesHistory.unshift(w.timing.lastUpdatesPerFrame),x.engineUpdatesHistory.length=Math.min(x.engineUpdatesHistory.length,A),x.engineElapsedHistory.unshift(w.timing.lastElapsed),x.engineElapsedHistory.length=Math.min(x.engineElapsedHistory.length,A),x.elapsedHistory.unshift(x.lastElapsed),x.elapsedHistory.length=Math.min(x.elapsedHistory.length,A)},g=function(p){for(var y=0,w=0;w<p.length;w+=1)y+=p[w];return y/p.length||0},m=function(p,y){var w=document.createElement("canvas");return w.width=p,w.height=y,w.oncontextmenu=function(){return!1},w.onselectstart=function(){return!1},w},M=function(p){var y=p.getContext("2d"),w=window.devicePixelRatio||1,x=y.webkitBackingStorePixelRatio||y.mozBackingStorePixelRatio||y.msBackingStorePixelRatio||y.oBackingStorePixelRatio||y.backingStorePixelRatio||1;return w/x},S=function(p,y){var w=p.textures[y];return w||(w=p.textures[y]=new Image,w.src=y,w)},E=function(p,y){var w=y;/(jpg|gif|png)$/.test(y)&&(w="url("+y+")"),p.canvas.style.background=w,p.canvas.style.backgroundSize="contain",p.currentBackground=y}})()},function(d,P,u){var e={};d.exports=e;var l=u(5),s=u(17),r=u(0);(function(){e._maxFrameDelta=1e3/15,e._frameDeltaFallback=1e3/60,e._timeBufferMargin=1.5,e._elapsedNextEstimate=1,e._smoothingLowerBound=.1,e._smoothingUpperBound=.9,e.create=function(n){var c={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},f=r.extend(c,n);return f.fps=0,f},e.run=function(n,c){return n.timeBuffer=e._frameDeltaFallback,function f(t){n.frameRequestId=e._onNextFrame(n,f),t&&n.enabled&&e.tick(n,c,t)}(),n},e.tick=function(n,c,f){var t=r.now(),a=n.delta,o=0,g=f-n.timeLastTick;if((!g||!n.timeLastTick||g>Math.max(e._maxFrameDelta,n.maxFrameTime))&&(g=n.frameDelta||e._frameDeltaFallback),n.frameDeltaSmoothing){n.frameDeltaHistory.push(g),n.frameDeltaHistory=n.frameDeltaHistory.slice(-n.frameDeltaHistorySize);var m=n.frameDeltaHistory.slice(0).sort(),M=n.frameDeltaHistory.slice(m.length*e._smoothingLowerBound,m.length*e._smoothingUpperBound),S=v(M);g=S||g}n.frameDeltaSnapping&&(g=1e3/Math.round(1e3/g)),n.frameDelta=g,n.timeLastTick=f,n.timeBuffer+=n.frameDelta,n.timeBuffer=r.clamp(n.timeBuffer,0,n.frameDelta+a*e._timeBufferMargin),n.lastUpdatesDeferred=0;var E=n.maxUpdates||Math.ceil(n.maxFrameTime/a),p={timestamp:c.timing.timestamp};l.trigger(n,"beforeTick",p),l.trigger(n,"tick",p);for(var y=r.now();a>0&&n.timeBuffer>=a*e._timeBufferMargin;){l.trigger(n,"beforeUpdate",p),s.update(c,a),l.trigger(n,"afterUpdate",p),n.timeBuffer-=a,o+=1;var w=r.now()-t,x=r.now()-y,A=w+e._elapsedNextEstimate*x/o;if(o>=E||A>n.maxFrameTime){n.lastUpdatesDeferred=Math.round(Math.max(0,n.timeBuffer/a-e._timeBufferMargin));break}}c.timing.lastUpdatesPerFrame=o,l.trigger(n,"afterTick",p),n.frameDeltaHistory.length>=100&&(n.lastUpdatesDeferred&&Math.round(n.frameDelta/a)>E?r.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):n.lastUpdatesDeferred&&r.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof n.isFixed<"u"&&r.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(n.deltaMin||n.deltaMax)&&r.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),n.fps!==0&&r.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},e.stop=function(n){e._cancelNextFrame(n)},e._onNextFrame=function(n,c){if(typeof window<"u"&&window.requestAnimationFrame)n.frameRequestId=window.requestAnimationFrame(c);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return n.frameRequestId},e._cancelNextFrame=function(n){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(n.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var v=function(n){for(var c=0,f=n.length,t=0;t<f;t+=1)c+=n[t];return c/f||0}})()},function(d,P,u){var e={};d.exports=e;var l=u(8),s=u(0),r=s.deprecated;(function(){e.collides=function(v,n){return l.collides(v,n)},r(e,"collides","SAT.collides ➤ replaced by Collision.collides")})()},function(d,P,u){var e={};d.exports=e,u(1);var l=u(0);(function(){e.pathToVertices=function(s,r){typeof window<"u"&&!("SVGPathSeg"in window)&&l.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var v,n,c,f,t,a,o,g,m,M,S=[],E,p,y=0,w=0,x=0;r=r||15;var A=function(T,I,B){var R=B%2===1&&B>1;if(!m||T!=m.x||I!=m.y){m&&R?(E=m.x,p=m.y):(E=0,p=0);var D={x:E+T,y:p+I};(R||!m)&&(m=D),S.push(D),w=E+T,x=p+I}},C=function(T){var I=T.pathSegTypeAsLetter.toUpperCase();if(I!=="Z"){switch(I){case"M":case"L":case"T":case"C":case"S":case"Q":w=T.x,x=T.y;break;case"H":w=T.x;break;case"V":x=T.y;break}A(w,x,T.pathSegType)}};for(e._svgPathToAbsolute(s),c=s.getTotalLength(),a=[],v=0;v<s.pathSegList.numberOfItems;v+=1)a.push(s.pathSegList.getItem(v));for(o=a.concat();y<c;){if(M=s.getPathSegAtLength(y),t=a[M],t!=g){for(;o.length&&o[0]!=t;)C(o.shift());g=t}switch(t.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":f=s.getPointAtLength(y),A(f.x,f.y,0);break}y+=r}for(v=0,n=o.length;v<n;++v)C(o[v]);return S},e._svgPathToAbsolute=function(s){for(var r,v,n,c,f,t,a=s.pathSegList,o=0,g=0,m=a.numberOfItems,M=0;M<m;++M){var S=a.getItem(M),E=S.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(E))"x"in S&&(o=S.x),"y"in S&&(g=S.y);else switch("x1"in S&&(n=o+S.x1),"x2"in S&&(f=o+S.x2),"y1"in S&&(c=g+S.y1),"y2"in S&&(t=g+S.y2),"x"in S&&(o+=S.x),"y"in S&&(g+=S.y),E){case"m":a.replaceItem(s.createSVGPathSegMovetoAbs(o,g),M);break;case"l":a.replaceItem(s.createSVGPathSegLinetoAbs(o,g),M);break;case"h":a.replaceItem(s.createSVGPathSegLinetoHorizontalAbs(o),M);break;case"v":a.replaceItem(s.createSVGPathSegLinetoVerticalAbs(g),M);break;case"c":a.replaceItem(s.createSVGPathSegCurvetoCubicAbs(o,g,n,c,f,t),M);break;case"s":a.replaceItem(s.createSVGPathSegCurvetoCubicSmoothAbs(o,g,f,t),M);break;case"q":a.replaceItem(s.createSVGPathSegCurvetoQuadraticAbs(o,g,n,c),M);break;case"t":a.replaceItem(s.createSVGPathSegCurvetoQuadraticSmoothAbs(o,g),M);break;case"a":a.replaceItem(s.createSVGPathSegArcAbs(o,g,S.r1,S.r2,S.angle,S.largeArcFlag,S.sweepFlag),M);break;case"z":case"Z":o=r,g=v;break}(E=="M"||E=="m")&&(r=o,v=g)}}})()},function(d,P,u){var e={};d.exports=e;var l=u(6);u(0),function(){e.create=l.create,e.add=l.add,e.remove=l.remove,e.clear=l.clear,e.addComposite=l.addComposite,e.addBody=l.addBody,e.addConstraint=l.addConstraint}()}])})})(Zn);var U=Zn.exports,pr=(i,h,d)=>{G(h,le(i.layerX)),G(d,le(i.layerY))},mr=De("<br>"),xr=De('<span class="svelte-p1vgd1"> </span>'),yr=De("<!> <!>",1),Sr=De('<figure class="svelte-p1vgd1"><!></figure>');function wr(i,h){ct(h,!0);let d=de(h,"text",7),P=de(h,"element",7),u=de(h,"trimTop",3,.3),e=de(h,"trimBottom",3,.15),l=de(h,"canvas",3,!1),s=X(!1),r=X(void 0),v=X(void 0),n,c,f,t=tt(()=>P().getBoundingClientRect()),a=X(void 0);const o="gjqpy",g="lidtfjkb";Ut(()=>{d().style.display="none",P().style.position="relative",getComputedStyle(P());const S=40;P().style.padding="0",n=U.Engine.create({enableSleeping:!0}),c=l()?U.Render.create({element:P(),engine:n,options:{pixelRatio:window.devicePixelRatio,width:k(t).width,height:k(t).height,wireframes:!1,background:"transparent"}}):void 0;const E=Array.from(k(a).querySelectorAll("span").values()).map((B,R)=>{const D=B.innerText,F=g.includes(D),L=o.includes(D),{x:O,y:V,w:_,h:W}={x:B.offsetLeft,w:B.offsetWidth,y:B.offsetTop+B.offsetHeight*(F?.12:u()),h:B.offsetHeight*(1-(F?.12:u())-(L?0:e()))};return{ascending:F,descending:L,x:O,y:V,w:_,h:W,adjustX:B.offsetWidth/2,adjustY:B.offsetHeight/2,span:B,body:U.Body.create({slop:0,restitution:.1,parts:[U.Bodies.rectangle(O+_/2,B.offsetTop+B.offsetHeight/2,_,B.offsetHeight,{isSensor:!0,render:{fillStyle:"black",opacity:.5}}),U.Bodies.rectangle(O+_/2,V+W/2,_,W,{chamfer:{radius:_/4},density:0,render:{opacity:.5}})]})}}),p=5e3,y=U.Bodies.rectangle(k(t).width/2,-p,k(t).width,S+p*2,{isStatic:!0,friction:0}),w=U.Bodies.rectangle(k(t).width+p,k(t).height/2,S+p*2,k(t).height,{isStatic:!0,friction:0}),x=U.Bodies.rectangle(k(t).width/2,k(t).height+p,k(t).width,S+p*2,{isStatic:!0,friction:0}),A=U.Bodies.rectangle(-p,k(t).height/2,S+p*2,k(t).height,{isStatic:!0,friction:0}),C=U.Bodies.circle(0,0,100,{isStatic:!0,slop:0,render:{fillStyle:"green",opacity:.5}});U.Composite.add(n.world,[...E.map(B=>B.body),C,y,w,x,A]);const T=It.subscribe(B=>{!B||!B.w||(U.Body.scale(C,B.w/220,B.h/220),T())});It.subscribe(B=>{!B||!B.x||!k(r)||(U.Body.setPosition(C,{x:k(r),y:k(v)},!0),E.forEach(R=>{U.Sleeping.set(R.body,!1)}))}),G(s,!0),c&&U.Render.run(c),f=U.Runner.create(),U.Runner.run(f,n);function I(){E.forEach(({span:B,body:R})=>{!R.isSleeping&&R.position.x&&(B.style.transform=`translate3d(${R.position.x}px, ${R.position.y}px, 0) rotate(${R.angle}rad)`)})}return E.forEach(({span:B,adjustX:R,adjustY:D,w:F,h:L,ascending:O,descending:V})=>{B.style.left=R*-1+"px",B.style.top=D*-1+"px"}),U.Events.on(n,"afterUpdate",I),()=>{U.Render.stop(c),U.Runner.stop(f),U.Events.off(n,"afterUpdate",I),U.World.clear(n.world,!1),U.Engine.clear(n),c&&(c.canvas.remove(),c.canvas=null,c.context=null,c.textures={})}});var m=Sr();m.__pointermove=[pr,r,v];var M=nt(m);tr(M,()=>d().tagName,!1,(S,E)=>{ur(S,x=>G(a,le(x)),()=>k(a));let p;Ve(()=>p=ar(S,p,{class:d().className},"svelte-p1vgd1"));var y=Qn(),w=Et(y);un(w,65,()=>d().innerHTML.trim().split("<br>"),fn,(x,A,C)=>{var T=yr(),I=Et(T);Kn(I,()=>xt(C)!==0,R=>{var D=mr();ce(R,D)});var B=an(an(I,!0));un(B,65,()=>Array.from(xt(A)).filter((R,D)=>D<12),fn,(R,D,F)=>{var L=xr(),O=nt(L);Ve(()=>Zi(O,xt(D))),ce(R,L)}),ce(x,T)}),ce(E,y)}),Ve(()=>lr(m,"ready",k(s))),ce(i,m),vt()}zn(["pointermove"]);var Pr=De('<figure class="svelte-kps8cw"><img alt="Doodle" class="svelte-kps8cw"></figure>');function Cr(i,h){ct(h,!0);let d=de(h,"element",7);Ut(()=>{d().style.position="relative"});var P=Pr(),u=nt(P);Ve(()=>{_e(P,"left",`${h.left}%`),_e(P,"top",`${h.top}%`),_e(P,"width",`${h.size}vw`),gt(u,"src",h.src)}),ce(i,P),vt()}console.log("Gourmando");document.querySelectorAll("[data-cursor]").forEach(i=>{Nt(dr,{target:i,props:{src:i.getAttribute("data-cursor"),element:i}})});document.querySelectorAll("[data-doodle]").forEach(i=>{const h=i.parentElement.nextElementSibling;Nt(Cr,{target:h,props:{src:i.getAttribute("data-doodle"),top:Number(i.getAttribute("data-doodle-top")),left:Number(i.getAttribute("data-doodle-left")),size:Number(i.getAttribute("data-doodle-size")),element:h}})});document.querySelectorAll("[data-physics]").forEach(i=>{Nt(wr,{target:i,props:{text:i.querySelector("[data-physics-text]"),element:i}})});

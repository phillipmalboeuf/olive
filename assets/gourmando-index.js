var jn=Object.defineProperty;var Yt=r=>{throw TypeError(r)};var ei=(r,h,g)=>h in r?jn(r,h,{enumerable:!0,configurable:!0,writable:!0,value:g}):r[h]=g;var Zt=(r,h,g)=>ei(r,typeof h!="symbol"?h+"":h,g),pt=(r,h,g)=>h.has(r)||Yt("Cannot "+g);var oe=(r,h,g)=>(pt(r,h,"read from private field"),g?g.call(r):h.get(r)),Fe=(r,h,g)=>h.has(r)?Yt("Cannot add the same private member more than once"):h instanceof WeakSet?h.add(r):h.set(r,g),mt=(r,h,g,P)=>(pt(r,h,"write to private field"),P?P.call(r,g):h.set(r,g),g),$t=(r,h,g)=>(pt(r,h,"access private method"),g);(function(){const h=document.createElement("link").relList;if(h&&h.supports&&h.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))P(u);new MutationObserver(u=>{for(const e of u)if(e.type==="childList")for(const l of e.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&P(l)}).observe(document,{childList:!0,subtree:!0});function g(u){const e={};return u.integrity&&(e.integrity=u.integrity),u.referrerPolicy&&(e.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?e.credentials="include":u.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function P(u){if(u.ep)return;u.ep=!0;const e=g(u);fetch(u.href,e)}})();var It=Array.isArray,ti=Array.from,gn=Object.isFrozen,pn=Object.defineProperty,St=Object.getOwnPropertyDescriptor,ni=Object.getOwnPropertyDescriptors,ii=Object.prototype,ri=Array.prototype,wt=Object.getPrototypeOf;const me=2,mn=4,Te=8,xn=16,ae=32,Bt=64,ye=128,Je=256,ne=512,de=1024,Ie=2048,xe=4096,Be=8192,ai=16384,Rt=32768,si=65536,oi=1<<18,J=Symbol("$state"),yn=Symbol("$state.frozen"),li=Symbol("");function Sn(r){return r===this.v}function wn(r,h){return r!=r?h==h:r!==h||r!==null&&typeof r=="object"||typeof r=="function"}function Dt(r){return!wn(r,this.v)}function fi(r){throw new Error("effect_in_teardown")}function ui(){throw new Error("effect_in_unowned_derived")}function ci(r){throw new Error("effect_orphan")}function vi(){throw new Error("effect_update_depth_exceeded")}function di(r){throw new Error("props_invalid_value")}function hi(){throw new Error("state_unsafe_mutation")}function Z(r){return{f:0,v:r,reactions:null,equals:Sn,version:0}}function qe(r){var g;const h=Z(r);return h.equals=Dt,G!==null&&G.l!==null&&((g=G.l).s??(g.s=[])).push(h),h}function W(r,h){return z!==null&&Mt()&&z.f&me&&hi(),r.equals(h)||(r.v=h,r.version=On(),Pn(r,de),Mt()&&_!==null&&_.f&ne&&!(_.f&ae)&&(K!==null&&K.includes(r)?(j(_,de),ut(_)):ve===null?_i([r]):ve.push(r))),h}function Pn(r,h){var g=r.reactions;if(g!==null)for(var P=Mt(),u=g.length,e=0;e<u;e++){var l=g[e],s=l.f;s&de||!P&&l===_||(j(l,h),s&(ne|ye)&&(s&me?Pn(l,Ie):ut(l)))}}function gi(r){_===null&&z===null&&ci(),z!==null&&z.f&ye&&ui(),kt&&fi()}function Xt(r,h){var g=h.last;g===null?h.last=h.first=r:(g.next=r,r.prev=g,h.last=r)}function Re(r,h,g,P=!0){var u=(r&Bt)!==0,e={ctx:G,deps:null,nodes:null,f:r|de,first:null,fn:h,last:null,next:null,parent:u?null:_,prev:null,teardown:null,transitions:null,version:0};if(g){var l=Pe;try{qt(!0),ft(e),e.f|=ai}finally{qt(l)}}else h!==null&&ut(e);var s=g&&e.deps===null&&e.first===null&&e.nodes===null&&e.teardown===null;return!s&&!u&&P&&(_!==null&&Xt(e,_),z!==null&&z.f&me&&Xt(e,z)),e}function pi(r){const h=Re(Te,null,!1);return j(h,ne),h.teardown=r,h}function mi(r){gi();var h=_!==null&&(_.f&Te)!==0&&G!==null&&!G.m;if(h){var g=G;(g.e??(g.e=[])).push(r)}else{var P=ot(r);return P}}function xi(r){const h=Re(Bt,r,!0);return()=>{ze(h)}}function ot(r){return Re(mn,r,!1)}function Cn(r){return Re(Te,r,!0)}function Ve(r){return Cn(r)}function Lt(r,h=0){return Re(Te|xn|h,r,!0)}function Ae(r,h=!0){return Re(Te|ae,r,!0,h)}function Mn(r){var h=r.teardown;if(h!==null){const g=kt,P=z;jt(!0),en(null);try{h.call(null)}finally{jt(g),en(P)}}}function ze(r,h=!0){var g=!1;if((h||r.f&oi)&&r.nodes!==null){for(var P=r.nodes.start,u=r.nodes.end;P!==null;){var e=P===u?null:P.nextSibling;P.remove(),P=e}g=!0}if(Vt(r,h&&!g),lt(r,0),j(r,Be),r.transitions)for(const s of r.transitions)s.stop();Mn(r);var l=r.parent;l!==null&&r.f&ae&&l.first!==null&&En(r),r.next=r.prev=r.teardown=r.ctx=r.deps=r.parent=r.fn=r.nodes=null}function En(r){var h=r.parent,g=r.prev,P=r.next;g!==null&&(g.next=P),P!==null&&(P.prev=g),h!==null&&(h.first===r&&(h.first=P),h.last===r&&(h.last=g))}function je(r,h){var g=[];Ft(r,g,!0),An(g,()=>{ze(r),h&&h()})}function An(r,h){var g=r.length;if(g>0){var P=()=>--g||h();for(var u of r)u.out(P)}else h()}function Ft(r,h,g){if(!(r.f&xe)){if(r.f^=xe,r.transitions!==null)for(const l of r.transitions)(l.is_global||g)&&h.push(l);for(var P=r.first;P!==null;){var u=P.next,e=(P.f&Rt)!==0||(P.f&ae)!==0;Ft(P,h,e?g:!1),P=u}}}function _e(r){Tn(r,!0)}function Tn(r,h){if(r.f&xe){r.f^=xe,Ke(r)&&ft(r);for(var g=r.first;g!==null;){var P=g.next,u=(g.f&Rt)!==0||(g.f&ae)!==0;Tn(g,u?h:!1),g=P}if(r.transitions!==null)for(const e of r.transitions)(e.is_global||h)&&e.in()}}const Ue=1,Ot=2,yi=4,Si=8,wi=16,Pt=64,Pi=1,Ci=2,Mi=4,Ei=8,Ai=1,Ti=2,Oe=Symbol(),Ii=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"],Bi=["touchstart","touchmove","touchend"],Ri={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"},In="http://www.w3.org/2000/svg";function Di(r,h="exclude-on"){return r.endsWith("capture")?h=="exclude-on"?r!=="gotpointercapture"&&r!=="lostpointercapture":r!=="ongotpointercapture"&&r!=="onlostpointercapture":!1}function le(r,h=!0,g=null,P){if(typeof r=="object"&&r!=null&&!gn(r)&&!(yn in r)){if(J in r){const e=r[J];if(e.t===r||e.p===r)return e.p}const u=wt(r);if(u===ii||u===ri){const e=new Proxy(r,Li);return pn(r,J,{value:{s:new Map,v:Z(0),a:It(r),i:h,p:e,t:r},writable:!0,enumerable:!1}),e}}return r}function Jt(r,h=1){W(r,r.v+h)}const Li={defineProperty(r,h,g){if(g.value){const P=r[J],u=P.s.get(h);u!==void 0&&W(u,le(g.value,P.i,P))}return Reflect.defineProperty(r,h,g)},deleteProperty(r,h){const g=r[J],P=g.s.get(h),u=g.a,e=delete r[h];if(u&&e){const l=g.s.get("length"),s=r.length-1;l!==void 0&&l.v!==s&&W(l,s)}return P!==void 0&&W(P,Oe),e&&Jt(g.v),e},get(r,h,g){var e;if(h===J)return Reflect.get(r,J);const P=r[J];let u=P.s.get(h);if(u===void 0&&(!(h in r)||(e=St(r,h))!=null&&e.writable)&&(u=(P.i?Z:qe)(le(r[h],P.i,P)),P.s.set(h,u)),u!==void 0){const l=k(u);return l===Oe?void 0:l}return Reflect.get(r,h,g)},getOwnPropertyDescriptor(r,h){const g=Reflect.getOwnPropertyDescriptor(r,h);if(g&&"value"in g){const u=r[J].s.get(h);u&&(g.value=k(u))}return g},has(r,h){var e;if(h===J)return!0;const g=r[J],P=Reflect.has(r,h);let u=g.s.get(h);return(u!==void 0||_!==null&&(!P||(e=St(r,h))!=null&&e.writable))&&(u===void 0&&(u=(g.i?Z:qe)(P?le(r[h],g.i,g):Oe),g.s.set(h,u)),k(u)===Oe)?!1:P},set(r,h,g,P){const u=r[J];let e=u.s.get(h);e===void 0&&(Qe(()=>P[h]),e=u.s.get(h)),e!==void 0&&W(e,le(g,u.i,u));const l=u.a,s=!(h in r);if(l&&h==="length")for(let i=g;i<r.length;i+=1){const v=u.s.get(i+"");v!==void 0&&W(v,Oe)}if(r[h]=g,s){if(l){const i=u.s.get("length"),v=r.length;i!==void 0&&i.v!==v&&W(i,v)}Jt(u.v)}return!0},ownKeys(r){const h=r[J];return k(h.v),Reflect.ownKeys(r)}},He=()=>{};function Fi(r){for(var h=0;h<r.length;h++)r[h]()}let et=!1,Ct=[];function Bn(){et=!1;const r=Ct.slice();Ct=[],Fi(r)}function Ge(r){et||(et=!0,queueMicrotask(Bn)),Ct.push(r)}function Oi(){et&&Bn()}function tt(r){let h=me|de;_===null&&(h|=ye);const g={deps:null,deriveds:null,equals:Sn,f:h,first:null,fn:r,last:null,reactions:null,v:null,version:0};if(z!==null&&z.f&me){var P=z;P.deriveds===null?P.deriveds=[g]:P.deriveds.push(g)}return g}function ki(r){const h=tt(r);return h.equals=Dt,h}function Rn(r){Vt(r);var h=r.deriveds;if(h!==null){r.deriveds=null;for(var g=0;g<h.length;g+=1)Vi(h[g])}}function Dn(r){Rn(r);var h=kn(r),g=(we||r.f&ye)&&r.deps!==null?Ie:ne;j(r,g),r.equals(h)||(r.v=h,r.version=On())}function Vi(r){Rn(r),lt(r,0),j(r,Be),r.first=r.last=r.deps=r.reactions=r.fn=null}function Hi(r){throw new Error("lifecycle_outside_component")}const Ln=0,Ni=1;let Xe=Ln,We=!1,Pe=!1,kt=!1;function qt(r){Pe=r}function jt(r){kt=r}let pe=[],Ce=0,z=null;function en(r){z=r}let _=null,K=null,Y=0,ve=null;function _i(r){ve=r}let Fn=0,we=!1,G=null;function On(){return Fn++}function Mt(){return G!==null&&G.l===null}function Ke(r){var l;var h=r.f;if(h&de)return!0;if(h&Ie){var g=r.deps;if(g!==null)for(var P=(h&ye)!==0,u=0;u<g.length;u++){var e=g[u];if(Ke(e)&&Dn(e),e.version>r.version)return!0;P&&!we&&!((l=e==null?void 0:e.reactions)!=null&&l.includes(r))&&(e.reactions??(e.reactions=[])).push(r)}j(r,ne)}return!1}function Ui(r,h,g){throw r}function kn(r){var h=K,g=Y,P=ve,u=z,e=we;K=null,Y=0,ve=null,z=r.f&(ae|Bt)?null:r,we=!Pe&&(r.f&ye)!==0;try{var l=(0,r.fn)(),s=r.deps;if(K!==null){var i,v;if(s!==null){var n=Y===0?K:s.slice(0,Y).concat(K),c=n.length>16?new Set(n):null;for(v=Y;v<s.length;v++)i=s[v],(c!==null?!c.has(i):!n.includes(i))&&Vn(r,i)}if(s!==null&&Y>0)for(s.length=Y+K.length,v=0;v<K.length;v++)s[Y+v]=K[v];else r.deps=s=K;if(!we)for(v=Y;v<s.length;v++){i=s[v];var f=i.reactions;f===null?i.reactions=[r]:f[f.length-1]!==r&&!f.includes(r)&&f.push(r)}}else s!==null&&Y<s.length&&(lt(r,Y),s.length=Y);return l}finally{K=h,Y=g,ve=P,z=u,we=e}}function Vn(r,h){const g=h.reactions;let P=0;if(g!==null){P=g.length-1;const u=g.indexOf(r);u!==-1&&(P===0?h.reactions=null:(g[u]=g[P],g.pop()))}P===0&&h.f&me&&(j(h,Ie),h.f&(ye|Je)||(h.f^=Je),lt(h,0))}function lt(r,h){var g=r.deps;if(g!==null)for(var P=h===0?null:g.slice(0,h),u=new Set,e=h;e<g.length;e++){var l=g[e];u.has(l)||(u.add(l),(P===null||!P.includes(l))&&Vn(r,l))}}function Vt(r,h=!1){var g=r.first;for(r.first=r.last=null;g!==null;){var P=g.next;ze(g,h),g=P}}function ft(r){var h=r.f;if(!(h&Be)){j(r,ne);var g=r.ctx,P=_,u=G;_=r,G=g;try{h&xn||Vt(r),Mn(r);var e=kn(r);r.teardown=typeof e=="function"?e:null,r.version=Fn}catch(l){Ui(l)}finally{_=P,G=u}}}function Hn(){Ce>1e3&&(Ce=0,vi()),Ce++}function Nn(r){var h=r.length;if(h!==0){Hn();var g=Pe;Pe=!0;try{for(var P=0;P<h;P++){var u=r[P];if(u.first===null&&!(u.f&ae))tn([u]);else{var e=[];_n(u,e),tn(e)}}}finally{Pe=g}}}function tn(r){var h=r.length;if(h!==0)for(var g=0;g<h;g++){var P=r[g];!(P.f&(Be|xe))&&Ke(P)&&(ft(P),P.deps===null&&P.first===null&&P.nodes===null&&(P.teardown===null?En(P):P.fn=null))}}function Wi(){if(We=!1,Ce>1001)return;const r=pe;pe=[],Nn(r),We||(Ce=0)}function ut(r){Xe===Ln&&(We||(We=!0,queueMicrotask(Wi)));for(var h=r;h.parent!==null;){h=h.parent;var g=h.f;if(g&ae){if(!(g&ne))return;j(h,Ie)}}pe.push(h)}function _n(r,h){var g=r.first,P=[];e:for(;g!==null;){var u=g.f,e=(u&(Be|xe))===0,l=u&ae,s=(u&ne)!==0,i=g.first;if(e&&(!l||!s)){if(l&&j(g,ne),u&Te){if(!l&&Ke(g)&&(ft(g),i=g.first),i!==null){g=i;continue}}else if(u&mn)if(l||s){if(i!==null){g=i;continue}}else P.push(g)}var v=g.next;if(v===null){let f=g.parent;for(;f!==null;){if(r===f)break e;var n=f.next;if(n!==null){g=n;continue e}f=f.parent}}g=v}for(var c=0;c<P.length;c++)i=P[c],h.push(i),_n(i,h)}function Un(r,h=!0){var g=Xe,P=pe;try{Hn();const e=[];Xe=Ni,pe=e,We=!1,h&&Nn(P);var u=r==null?void 0:r();return Oi(),(pe.length>0||e.length>0)&&Un(),Ce=0,u}finally{Xe=g,pe=P}}function k(r){var h=r.f;if(h&Be)return r.v;if(z!==null){var g=z.deps;K===null&&g!==null&&g[Y]===r?Y++:(g===null||Y===0||g[Y-1]!==r)&&(K===null?K=[r]:K[K.length-1]!==r&&K.push(r)),ve!==null&&_!==null&&_.f&ne&&!(_.f&ae)&&ve.includes(r)&&(j(_,de),ut(_))}if(h&me){var P=r;if(Ke(P)&&Dn(P),h&Je){if(g=P.deps,g!==null)for(var u=0;u<g.length;u++){var e=g[u],l=e.reactions;l===null?e.reactions=[P]:l.includes(P)||l.push(P)}P.f^=Je}}return r.v}function Qe(r){const h=z;try{return z=null,r()}finally{z=h}}const bi=~(de|Ie|ne);function j(r,h){r.f=r.f&bi|h}function zi(r){return typeof r=="object"&&r!==null&&typeof r.f=="number"}function ct(r,h=!1,g){G={p:G,c:null,e:null,m:!1,s:r,x:null,l:null},h||(G.l={s:null,u:null,r1:[],r2:Z(!1)})}function vt(r){const h=G;if(h!==null){const P=h.e;if(P!==null){h.e=null;for(var g=0;g<P.length;g++)ot(P[g])}G=h.p,h.m=!0}return{}}function xt(r){return zi(r)?k(r):r}let Wn=!1;var nn,bn;function Gi(){if(nn===void 0){nn=window,bn=document;var r=Element.prototype;r.__click=void 0,r.__className="",r.__attributes=null,r.__e=void 0,Text.prototype.__t=void 0}}function Ht(){return document.createTextNode("")}function nt(r){return r.firstChild}function rn(r,h){{var g=r.firstChild;return g instanceof Comment&&g.data===""?g.nextSibling:g}}function an(r,h=!1){var g=r.nextSibling;return g}function Ki(r){r.textContent=""}function it(r,h,g,P){function u(e){if(P.capture||ke.call(h,e),!e.cancelBubble)return g.call(this,e)}return r.startsWith("pointer")||r==="wheel"?Ge(()=>{h.addEventListener(r,u,P)}):h.addEventListener(r,u,P),u}function sn(r,h,g,P={}){var u=it(h,r,g,P);return()=>{r.removeEventListener(h,u,P)}}function Qi(r,h,g,P,u){var e={capture:P,passive:u},l=it(r,h,g,e);(h===document.body||h===window||h===document)&&pi(()=>{h.removeEventListener(r,l,e)})}function zn(r){for(var h=0;h<r.length;h++)Gn.add(r[h]);for(var g of Et)g(r)}function ke(r){var d;var h=this,g=h.ownerDocument,P=r.type,u=((d=r.composedPath)==null?void 0:d.call(r))||[],e=u[0]||r.target,l=0,s=r.__root;if(s){var i=u.indexOf(s);if(i!==-1&&(h===document||h===window)){r.__root=h;return}var v=u.indexOf(h);if(v===-1)return;i<=v&&(l=i)}if(e=u[l]||r.target,e!==h){pn(r,"currentTarget",{configurable:!0,get(){return e||g}});try{for(var n,c=[];e!==null;){var f=e.parentNode||e.host||null;try{var t=e["__"+P];if(t!==void 0&&!e.disabled)if(It(t)){var[a,...o]=t;a.apply(e,[r,...o])}else t.call(e,r)}catch(m){n?c.push(m):n=m}if(r.cancelBubble||f===h||f===null)break;e=f}if(n){for(let m of c)queueMicrotask(()=>{throw m});throw n}}finally{r.__root=h,e=h}}}const Gn=new Set,Et=new Set;function Yi(r,h){(r.__t??(r.__t=r.nodeValue))!==h&&(r.nodeValue=r.__t=h)}function Nt(r,h){const g=h.anchor??h.target.appendChild(Ht());return Un(()=>Zi(r,{...h,anchor:g}),!1)}function Zi(r,{target:h,anchor:g,props:P={},events:u,context:e,intro:l=!1}){Gi();const s=new Set,i=c=>{for(let f=0;f<c.length;f++){const t=c[f],a=Bi.includes(t);s.has(t)||(s.add(t),h.addEventListener(t,ke,{passive:a}),document.addEventListener(t,ke,{passive:a}))}};i(ti(Gn)),Et.add(i);let v;const n=xi(()=>(Ae(()=>{if(e){ct({});var c=G;c.c=e}u&&(P.$$events=u),v=r(g,P)||{},e&&vt()}),()=>{for(const c of s)h.removeEventListener(c,ke),document.removeEventListener(c,ke);Et.delete(i),on.delete(v)}));return on.set(v,n),v}let on=new WeakMap;function $i(r){var h=document.createElement("template");return h.innerHTML=r,h.content}function Xi(r,h,g,P=null,u=!1){var e=null,l=null,s=null,i=u?Rt:0;Lt(()=>{s!==(s=!!h())&&(s?(e?_e(e):e=Ae(()=>g(r)),l&&je(l,()=>{l=null})):(l?_e(l):P&&(l=Ae(()=>P(r))),e&&je(e,()=>{e=null})))},i)}let Me=null;function ln(r){Me=r}function fn(r,h){return h}function Ji(r,h,g,P){for(var u=[],e=h.length,l=0;l<e;l++)Ft(h[l].e,u,!0);var s=e>0&&u.length===0&&g!==null;if(s){var i=g.parentNode;Ki(i),i.append(g),P.clear(),ue(r,h[0].prev,h[e-1].next)}An(u,()=>{for(var v=0;v<e;v++){var n=h[v];s||(P.delete(n.k),ue(r,n.prev,n.next)),ze(n.e,!s)}})}function un(r,h,g,P,u,e=null){var l={flags:h,items:new Map,first:null},s=null;Lt(()=>{var i=g(),v=It(i)?i:i==null?[]:Array.from(i),n=v.length,c=l.flags;c&Pt&&!gn(v)&&!(yn in v)&&!(J in v)&&(c^=Pt,c&yi&&!(c&Ue)&&(c^=Ue)),qi(v,l,r,u,c,P),e!==null&&(n===0?s?_e(s):s=Ae(()=>e(r)):s!==null&&je(s,()=>{s=null}))})}function qi(r,h,g,P,u,e){var B,R,D,F;var l=(u&wi)!==0,s=(u&(Ue|Ot))!==0,i=r.length,v=h.items,n=h.first,c=n,f=new Set,t=null,a=new Set,o=[],d=[],m,M,S,E;if(l)for(E=0;E<i;E+=1)m=r[E],M=e(m,E),S=v.get(M),S!==void 0&&((B=S.a)==null||B.measure(),a.add(S));for(E=0;E<i;E+=1){if(m=r[E],M=e(m,E),S=v.get(M),S===void 0){var p=c?c.e.nodes.start:g;t=er(p,h,t,t===null?h.first:t.next,m,M,E,P,u),v.set(M,t),o=[],d=[],c=t.next;continue}if(s&&ji(S,m,E,u),S.e.f&xe&&(_e(S.e),l&&((R=S.a)==null||R.unfix(),a.delete(S))),S!==c){if(f.has(S)){if(o.length<d.length){var y=d[0],w;t=y.prev;var x=o[0],A=o[o.length-1];for(w=0;w<o.length;w+=1)cn(o[w],y,g);for(w=0;w<d.length;w+=1)f.delete(d[w]);ue(h,x.prev,A.next),ue(h,t,x),ue(h,A,y),c=y,t=A,E-=1,o=[],d=[]}else f.delete(S),cn(S,c,g),ue(h,S.prev,S.next),ue(h,S,t===null?h.first:t.next),ue(h,t,S),t=S;continue}for(o=[],d=[];c!==null&&c.k!==M;)f.add(c),d.push(c),c=c.next;if(c===null)continue;S=c}o.push(S),t=S,c=S.next}const C=Array.from(f);for(;c!==null;)C.push(c),c=c.next;var T=C.length;if(T>0){var I=u&Si&&i===0?g:null;if(l){for(E=0;E<T;E+=1)(D=C[E].a)==null||D.measure();for(E=0;E<T;E+=1)(F=C[E].a)==null||F.fix()}Ji(h,C,I,v)}l&&Ge(()=>{var L;for(S of a)(L=S.a)==null||L.apply()}),_.first=h.first&&h.first.e,_.last=t&&t.e}function ji(r,h,g,P){P&Ue&&W(r.v,h),P&Ot?W(r.i,g):r.i=g}function er(r,h,g,P,u,e,l,s,i){var v=Me;try{var n=(i&Ue)!==0,c=(i&Pt)===0,f=n?c?qe(u):Z(u):u,t=i&Ot?Z(l):l,a={i:t,v:f,k:e,a:null,e:null,prev:g,next:P};return Me=a,a.e=Ae(()=>s(r,f,t),Wn),a.e.prev=g&&g.e,a.e.next=P&&P.e,g===null?h.first=a:(g.next=a,g.e.next=a.e),P!==null&&(P.prev=a,P.e.prev=a.e),a}finally{Me=v}}function cn(r,h,g){for(var P=r.next?r.next.e.nodes.start:g,u=h?h.e.nodes.start:g,e=r.e.nodes.start;e!==P;){var l=e.nextSibling;u.before(e),e=l}}function ue(r,h,g){h===null?r.first=g:(h.next=g,h.e.next=g&&g.e),g!==null&&(g.prev=h,g.e.prev=h&&h.e)}function rt(r,h){_.nodes??(_.nodes={start:r,end:h})}function De(r,h){var g=(h&Ai)!==0,P=(h&Ti)!==0,u,e=!r.startsWith("<!>");return()=>{u||(u=$i(e?r:"<!>"+r),g||(u=u.firstChild));var l=P?document.importNode(u,!0):u.cloneNode(!0);if(g){var s=l.firstChild,i=l.lastChild;rt(s,i)}else rt(l,l);return l}}function tr(){var r=document.createDocumentFragment(),h=document.createComment(""),g=Ht();return r.append(h,g),rt(h,g),r}function he(r,h){r.before(h)}function nr(r,h,g,P,u,e){let l,s,i=null,v=r,n,c=Me;Lt(()=>{const f=h()||null,t=f==="svg"?In:null;if(f!==l){var a=Me;return ln(c),n&&(f===null?je(n,()=>{n=null,s=null,i==null||i.remove()}):f===s?_e(n):ze(n)),f&&f!==s&&(n=Ae(()=>{const o=i;if(i=t?document.createElementNS(t,f):document.createElement(f),rt(i,i),o&&!Wn&&o.remove(),P){var d=i.appendChild(Ht());P(i,d)}return v.before(i),He})),l=f,l&&(s=l),ln(a),He}})}function ir(r,h){if(h){const g=document.body;r.autofocus=!0,Ge(()=>{document.activeElement===g&&r.focus()})}}function dt(r,h,g){g=g==null?null:g+"";var P=r.__attributes??(r.__attributes={});P[h]!==(P[h]=g)&&(h==="loading"&&(r[li]=g),g===null?r.removeAttribute(h):r.setAttribute(h,g))}function rr(r,h,g){if(h in r){var P=r[h],u=typeof P=="boolean"&&g===""?!0:g;(typeof P!="object"||P!==u)&&(r[h]=u)}else dt(r,h,g)}function ar(r,h,g,P,u){var e=u.length!==0,l=h||{};for(var s in h)s in g||(g[s]=null);e&&!g.class&&(g.class="");var i=vn.get(r.nodeName);i||vn.set(r.nodeName,i=lr(r));var v=r.__attributes??(r.__attributes={}),n=[];for(const d in g){let m=g[d];var c=l[d];if(m!==c){l[d]=m;var f=d[0]+d[1];if(f!=="$$")if(f==="on"){const M={},S="$$"+d;let E=d.slice(2);var t=Ii.includes(E);if(Di(E)&&(E=E.slice(0,-7),M.capture=!0),!t&&c){if(m!=null)continue;r.removeEventListener(E,l[S],M),l[S]=null}if(m!=null)if(t)r[`__${E}`]=m,zn([E]);else{let p=function(y){l[d].call(this,y)};var o=p;h?l[S]=it(E,r,p,M):n.push([d,m,()=>l[S]=it(E,r,p,M)])}}else if(m==null)v[d]=null,r.removeAttribute(d);else if(d==="style")r.style.cssText=m+"";else if(d==="autofocus")ir(r,!!m);else if(d==="__value"||d==="value")r.value=r[d]=r.__value=m;else{var a=d;P&&(a=a.toLowerCase(),a=Ri[a]||a),i.includes(a)?r[a]=m:typeof m!="function"&&(e&&a==="class"&&(m&&(m+=" "),m+=u),dt(r,a,m))}}}return h||Ge(()=>{if(r.isConnected)for(const[d,m,M]of n)l[d]===m&&M()}),l}function sr(r,h,g,P){if(r.tagName.includes("-")){for(var u in h)u in g||(g[u]=null);for(u in g)rr(r,u,g[u]);return g}return ar(r,h,g,r.namespaceURI!==In,P)}var or=["width","height"],vn=new Map;function lr(r){for(var h=[],g,P=wt(r);P.constructor.name!=="Element";){g=ni(P);for(var u in g)g[u].set&&!or.includes(u)&&h.push(u);P=wt(P)}return h}function Kn(r,h,g){g?r.classList.add(h):r.classList.remove(h)}function Ne(r,h,g,P){const u=r.style,e=u.getPropertyValue(h);g==null?e!==""&&u.removeProperty(h):e!==g&&u.setProperty(h,g,"")}var ce,Ee,be,at,Qn;const st=class st{constructor(h){Fe(this,at);Fe(this,ce,new WeakMap);Fe(this,Ee);Fe(this,be);mt(this,be,h)}observe(h,g){var P=oe(this,ce).get(h)||new Set;return P.add(g),oe(this,ce).set(h,P),$t(this,at,Qn).call(this).observe(h,oe(this,be)),()=>{var u=oe(this,ce).get(h);u.delete(g),u.size===0&&(oe(this,ce).delete(h),oe(this,Ee).unobserve(h))}}};ce=new WeakMap,Ee=new WeakMap,be=new WeakMap,at=new WeakSet,Qn=function(){return oe(this,Ee)??mt(this,Ee,new ResizeObserver(h=>{for(var g of h){st.entries.set(g.target,g);for(var P of oe(this,ce).get(g.target)||[])P(g)}}))},Zt(st,"entries",new WeakMap);let At=st;var fr=new At({box:"border-box"});function dn(r,h,g){var P=fr.observe(r,()=>g(r[h]));ot(()=>(Qe(()=>g(r[h])),P))}function hn(r,h){var P;var g=r&&((P=r[J])==null?void 0:P.t);return r===h||g===h}function ur(r={},h,g,P){ot(()=>{var u,e;return Cn(()=>{u=e,e=[],Qe(()=>{r!==g(...e)&&(h(r,...e),u&&hn(g(...u),r)&&h(null,...u))})}),()=>{Ge(()=>{e&&hn(g(...e),r)&&h(null,...e)})}})}function ge(r,h,g,P){var M;var u=(g&Pi)!==0,e=(g&Ci)!==0,l=(g&Ei)!==0,s=r[h],i=(M=St(r,h))==null?void 0:M.set,v=P,n=!0,c=()=>(l&&n&&(n=!1,v=Qe(P)),v);s===void 0&&P!==void 0&&(i&&e&&di(),s=c(),i&&i(s));var f;if(e)f=()=>{var S=r[h];return S===void 0?c():(n=!0,S)};else{var t=(u?tt:ki)(()=>r[h]);t.f|=si,f=()=>{var S=k(t);return S!==void 0&&(v=void 0),S===void 0?v:S}}if(!(g&Mi))return f;if(i){var a=r.$$legacy;return function(S,E){return arguments.length>0?((!e||!E||a)&&i(E?f():S),S):f()}}var o=!1,d=qe(s),m=tt(()=>{var S=f(),E=k(d);return o?(o=!1,E):d.v=S});return u||(m.equals=Dt),function(S,E){var p=k(m);if(arguments.length>0){const y=E?k(m):S;return m.equals(y)||(o=!0,W(d,y),k(m)),S}return p}}function _t(r){G===null&&Hi(),G.l!==null?cr(G).m.push(r):mi(()=>{const h=Qe(r);if(typeof h=="function")return h})}function cr(r){var h=r.l;return h.u??(h.u={a:[],b:[],m:[]})}const vr="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(vr);const Se=[];function dr(r,h=He){let g=null;const P=new Set;function u(s){if(wn(r,s)&&(r=s,g)){const i=!Se.length;for(const v of P)v[1](),Se.push(v,r);if(i){for(let v=0;v<Se.length;v+=2)Se[v][0](Se[v+1]);Se.length=0}}}function e(s){u(s(r))}function l(s,i=He){const v=[s,i];return P.add(v),P.size===1&&(g=h(u,e)||He),s(r),()=>{P.delete(v),P.size===0&&g&&(g(),g=null)}}return{set:u,update:e,subscribe:l}}const Tt=dr();var hr=De('<figure class="svelte-p7xjqi"><img alt="Cursor"></figure>');function gr(r,h){ct(h,!0);let g=ge(h,"element",7),P=Z(!1),u=Z(void 0),e=Z(void 0),l=Z(void 0),s=Z(void 0),i=Z(!1);function v(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}_t(()=>{g().style.cursor="none";const f=sn(g(),"mouseenter",a=>{W(P,!0)}),t=sn(g(),"mouseleave",a=>{W(P,!1)});return()=>{g().style.cursor=void 0,f(),t()}});var n=hr();Qi("mousemove",bn,f=>{v()||k(P)&&(!k(i)&&["BUTTON","A","INPUT"].includes(f.target.nodeName)?W(i,!0):k(i)&&!["BUTTON","A","INPUT"].includes(f.target.nodeName)&&W(i,!1),W(u,le(f.clientX)),W(e,le(f.clientY)),Tt.set({x:k(u),y:k(e),w:k(l),h:k(s)}))},!1);var c=nt(n);Ve(()=>{Kn(n,"hidden",!k(P)||k(i)),Ne(n,"left",`${k(u)}px`),Ne(n,"top",`${k(e)}px`),dt(c,"src",h.src)}),dn(n,"clientWidth",f=>W(l,f)),dn(n,"clientHeight",f=>W(s,f)),he(r,n),vt()}var yt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yn={exports:{}};/*!
 * matter-js 0.20.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(r,h){(function(P,u){r.exports=u()})(yt,function(){return function(g){var P={};function u(e){if(P[e])return P[e].exports;var l=P[e]={i:e,l:!1,exports:{}};return g[e].call(l.exports,l,l.exports,u),l.l=!0,l.exports}return u.m=g,u.c=P,u.d=function(e,l,s){u.o(e,l)||Object.defineProperty(e,l,{enumerable:!0,get:s})},u.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,l){if(l&1&&(e=u(e)),l&8||l&4&&typeof e=="object"&&e&&e.__esModule)return e;var s=Object.create(null);if(u.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),l&2&&typeof e!="string")for(var i in e)u.d(s,i,(function(v){return e[v]}).bind(null,i));return s},u.n=function(e){var l=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(l,"a",l),l},u.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)},u.p="",u(u.s=20)}([function(g,P){var u={};g.exports=u,function(){u._baseDelta=1e3/60,u._nextId=0,u._seed=0,u._nowStartTime=+new Date,u._warnedOnce={},u._decomp=null,u.extend=function(l,s){var i,v;typeof s=="boolean"?(i=2,v=s):(i=1,v=!0);for(var n=i;n<arguments.length;n++){var c=arguments[n];if(c)for(var f in c)v&&c[f]&&c[f].constructor===Object&&(!l[f]||l[f].constructor===Object)?(l[f]=l[f]||{},u.extend(l[f],v,c[f])):l[f]=c[f]}return l},u.clone=function(l,s){return u.extend({},s,l)},u.keys=function(l){if(Object.keys)return Object.keys(l);var s=[];for(var i in l)s.push(i);return s},u.values=function(l){var s=[];if(Object.keys){for(var i=Object.keys(l),v=0;v<i.length;v++)s.push(l[i[v]]);return s}for(var n in l)s.push(l[n]);return s},u.get=function(l,s,i,v){s=s.split(".").slice(i,v);for(var n=0;n<s.length;n+=1)l=l[s[n]];return l},u.set=function(l,s,i,v,n){var c=s.split(".").slice(v,n);return u.get(l,s,0,-1)[c[c.length-1]]=i,i},u.shuffle=function(l){for(var s=l.length-1;s>0;s--){var i=Math.floor(u.random()*(s+1)),v=l[s];l[s]=l[i],l[i]=v}return l},u.choose=function(l){return l[Math.floor(u.random()*l.length)]},u.isElement=function(l){return typeof HTMLElement<"u"?l instanceof HTMLElement:!!(l&&l.nodeType&&l.nodeName)},u.isArray=function(l){return Object.prototype.toString.call(l)==="[object Array]"},u.isFunction=function(l){return typeof l=="function"},u.isPlainObject=function(l){return typeof l=="object"&&l.constructor===Object},u.isString=function(l){return toString.call(l)==="[object String]"},u.clamp=function(l,s,i){return l<s?s:l>i?i:l},u.sign=function(l){return l<0?-1:1},u.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-u._nowStartTime},u.random=function(l,s){return l=typeof l<"u"?l:0,s=typeof s<"u"?s:1,l+e()*(s-l)};var e=function(){return u._seed=(u._seed*9301+49297)%233280,u._seed/233280};u.colorToNumber=function(l){return l=l.replace("#",""),l.length==3&&(l=l.charAt(0)+l.charAt(0)+l.charAt(1)+l.charAt(1)+l.charAt(2)+l.charAt(2)),parseInt(l,16)},u.logLevel=1,u.log=function(){console&&u.logLevel>0&&u.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.info=function(){console&&u.logLevel>0&&u.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.warn=function(){console&&u.logLevel>0&&u.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.warnOnce=function(){var l=Array.prototype.slice.call(arguments).join(" ");u._warnedOnce[l]||(u.warn(l),u._warnedOnce[l]=!0)},u.deprecated=function(l,s,i){l[s]=u.chain(function(){u.warnOnce("🔅 deprecated 🔅",i)},l[s])},u.nextId=function(){return u._nextId++},u.indexOf=function(l,s){if(l.indexOf)return l.indexOf(s);for(var i=0;i<l.length;i++)if(l[i]===s)return i;return-1},u.map=function(l,s){if(l.map)return l.map(s);for(var i=[],v=0;v<l.length;v+=1)i.push(s(l[v]));return i},u.topologicalSort=function(l){var s=[],i=[],v=[];for(var n in l)!i[n]&&!v[n]&&u._topologicalSort(n,i,v,l,s);return s},u._topologicalSort=function(l,s,i,v,n){var c=v[l]||[];i[l]=!0;for(var f=0;f<c.length;f+=1){var t=c[f];i[t]||s[t]||u._topologicalSort(t,s,i,v,n)}i[l]=!1,s[l]=!0,n.push(l)},u.chain=function(){for(var l=[],s=0;s<arguments.length;s+=1){var i=arguments[s];i._chained?l.push.apply(l,i._chained):l.push(i)}var v=function(){for(var n,c=new Array(arguments.length),f=0,t=arguments.length;f<t;f++)c[f]=arguments[f];for(f=0;f<l.length;f+=1){var a=l[f].apply(n,c);typeof a<"u"&&(n=a)}return n};return v._chained=l,v},u.chainPathBefore=function(l,s,i){return u.set(l,s,u.chain(i,u.get(l,s)))},u.chainPathAfter=function(l,s,i){return u.set(l,s,u.chain(u.get(l,s),i))},u.setDecomp=function(l){u._decomp=l},u.getDecomp=function(){var l=u._decomp;try{!l&&typeof window<"u"&&(l=window.decomp),!l&&typeof yt<"u"&&(l=yt.decomp)}catch{l=null}return l}}()},function(g,P){var u={};g.exports=u,function(){u.create=function(e){var l={min:{x:0,y:0},max:{x:0,y:0}};return e&&u.update(l,e),l},u.update=function(e,l,s){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var i=0;i<l.length;i++){var v=l[i];v.x>e.max.x&&(e.max.x=v.x),v.x<e.min.x&&(e.min.x=v.x),v.y>e.max.y&&(e.max.y=v.y),v.y<e.min.y&&(e.min.y=v.y)}s&&(s.x>0?e.max.x+=s.x:e.min.x+=s.x,s.y>0?e.max.y+=s.y:e.min.y+=s.y)},u.contains=function(e,l){return l.x>=e.min.x&&l.x<=e.max.x&&l.y>=e.min.y&&l.y<=e.max.y},u.overlaps=function(e,l){return e.min.x<=l.max.x&&e.max.x>=l.min.x&&e.max.y>=l.min.y&&e.min.y<=l.max.y},u.translate=function(e,l){e.min.x+=l.x,e.max.x+=l.x,e.min.y+=l.y,e.max.y+=l.y},u.shift=function(e,l){var s=e.max.x-e.min.x,i=e.max.y-e.min.y;e.min.x=l.x,e.max.x=l.x+s,e.min.y=l.y,e.max.y=l.y+i}}()},function(g,P){var u={};g.exports=u,function(){u.create=function(e,l){return{x:e||0,y:l||0}},u.clone=function(e){return{x:e.x,y:e.y}},u.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},u.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},u.rotate=function(e,l,s){var i=Math.cos(l),v=Math.sin(l);s||(s={});var n=e.x*i-e.y*v;return s.y=e.x*v+e.y*i,s.x=n,s},u.rotateAbout=function(e,l,s,i){var v=Math.cos(l),n=Math.sin(l);i||(i={});var c=s.x+((e.x-s.x)*v-(e.y-s.y)*n);return i.y=s.y+((e.x-s.x)*n+(e.y-s.y)*v),i.x=c,i},u.normalise=function(e){var l=u.magnitude(e);return l===0?{x:0,y:0}:{x:e.x/l,y:e.y/l}},u.dot=function(e,l){return e.x*l.x+e.y*l.y},u.cross=function(e,l){return e.x*l.y-e.y*l.x},u.cross3=function(e,l,s){return(l.x-e.x)*(s.y-e.y)-(l.y-e.y)*(s.x-e.x)},u.add=function(e,l,s){return s||(s={}),s.x=e.x+l.x,s.y=e.y+l.y,s},u.sub=function(e,l,s){return s||(s={}),s.x=e.x-l.x,s.y=e.y-l.y,s},u.mult=function(e,l){return{x:e.x*l,y:e.y*l}},u.div=function(e,l){return{x:e.x/l,y:e.y/l}},u.perp=function(e,l){return l=l===!0?-1:1,{x:l*-e.y,y:l*e.x}},u.neg=function(e){return{x:-e.x,y:-e.y}},u.angle=function(e,l){return Math.atan2(l.y-e.y,l.x-e.x)},u._temp=[u.create(),u.create(),u.create(),u.create(),u.create(),u.create()]}()},function(g,P,u){var e={};g.exports=e;var l=u(2),s=u(0);(function(){e.create=function(i,v){for(var n=[],c=0;c<i.length;c++){var f=i[c],t={x:f.x,y:f.y,index:c,body:v,isInternal:!1};n.push(t)}return n},e.fromPath=function(i,v){var n=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,c=[];return i.replace(n,function(f,t,a){c.push({x:parseFloat(t),y:parseFloat(a)})}),e.create(c,v)},e.centre=function(i){for(var v=e.area(i,!0),n={x:0,y:0},c,f,t,a=0;a<i.length;a++)t=(a+1)%i.length,c=l.cross(i[a],i[t]),f=l.mult(l.add(i[a],i[t]),c),n=l.add(n,f);return l.div(n,6*v)},e.mean=function(i){for(var v={x:0,y:0},n=0;n<i.length;n++)v.x+=i[n].x,v.y+=i[n].y;return l.div(v,i.length)},e.area=function(i,v){for(var n=0,c=i.length-1,f=0;f<i.length;f++)n+=(i[c].x-i[f].x)*(i[c].y+i[f].y),c=f;return v?n/2:Math.abs(n)/2},e.inertia=function(i,v){for(var n=0,c=0,f=i,t,a,o=0;o<f.length;o++)a=(o+1)%f.length,t=Math.abs(l.cross(f[a],f[o])),n+=t*(l.dot(f[a],f[a])+l.dot(f[a],f[o])+l.dot(f[o],f[o])),c+=t;return v/6*(n/c)},e.translate=function(i,v,n){n=typeof n<"u"?n:1;var c=i.length,f=v.x*n,t=v.y*n,a;for(a=0;a<c;a++)i[a].x+=f,i[a].y+=t;return i},e.rotate=function(i,v,n){if(v!==0){var c=Math.cos(v),f=Math.sin(v),t=n.x,a=n.y,o=i.length,d,m,M,S;for(S=0;S<o;S++)d=i[S],m=d.x-t,M=d.y-a,d.x=t+(m*c-M*f),d.y=a+(m*f+M*c);return i}},e.contains=function(i,v){for(var n=v.x,c=v.y,f=i.length,t=i[f-1],a,o=0;o<f;o++){if(a=i[o],(n-t.x)*(a.y-t.y)+(c-t.y)*(t.x-a.x)>0)return!1;t=a}return!0},e.scale=function(i,v,n,c){if(v===1&&n===1)return i;c=c||e.centre(i);for(var f,t,a=0;a<i.length;a++)f=i[a],t=l.sub(f,c),i[a].x=c.x+t.x*v,i[a].y=c.y+t.y*n;return i},e.chamfer=function(i,v,n,c,f){typeof v=="number"?v=[v]:v=v||[8],n=typeof n<"u"?n:-1,c=c||2,f=f||14;for(var t=[],a=0;a<i.length;a++){var o=i[a-1>=0?a-1:i.length-1],d=i[a],m=i[(a+1)%i.length],M=v[a<v.length?a:v.length-1];if(M===0){t.push(d);continue}var S=l.normalise({x:d.y-o.y,y:o.x-d.x}),E=l.normalise({x:m.y-d.y,y:d.x-m.x}),p=Math.sqrt(2*Math.pow(M,2)),y=l.mult(s.clone(S),M),w=l.normalise(l.mult(l.add(S,E),.5)),x=l.sub(d,l.mult(w,p)),A=n;n===-1&&(A=Math.pow(M,.32)*1.75),A=s.clamp(A,c,f),A%2===1&&(A+=1);for(var C=Math.acos(l.dot(S,E)),T=C/A,I=0;I<A;I++)t.push(l.add(l.rotate(y,T*I),x))}return t},e.clockwiseSort=function(i){var v=e.mean(i);return i.sort(function(n,c){return l.angle(v,n)-l.angle(v,c)}),i},e.isConvex=function(i){var v=0,n=i.length,c,f,t,a;if(n<3)return null;for(c=0;c<n;c++)if(f=(c+1)%n,t=(c+2)%n,a=(i[f].x-i[c].x)*(i[t].y-i[f].y),a-=(i[f].y-i[c].y)*(i[t].x-i[f].x),a<0?v|=1:a>0&&(v|=2),v===3)return!1;return v!==0?!0:null},e.hull=function(i){var v=[],n=[],c,f;for(i=i.slice(0),i.sort(function(t,a){var o=t.x-a.x;return o!==0?o:t.y-a.y}),f=0;f<i.length;f+=1){for(c=i[f];n.length>=2&&l.cross3(n[n.length-2],n[n.length-1],c)<=0;)n.pop();n.push(c)}for(f=i.length-1;f>=0;f-=1){for(c=i[f];v.length>=2&&l.cross3(v[v.length-2],v[v.length-1],c)<=0;)v.pop();v.push(c)}return v.pop(),n.pop(),v.concat(n)}})()},function(g,P,u){var e={};g.exports=e;var l=u(3),s=u(2),i=u(7),v=u(0),n=u(1),c=u(11);(function(){e._timeCorrection=!0,e._inertiaScale=4,e._nextCollidingGroupId=1,e._nextNonCollidingGroupId=-1,e._nextCategory=1,e._baseDelta=1e3/60,e.create=function(t){var a={id:v.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:l.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},o=v.extend(a,t);return f(o,t),o},e.nextGroup=function(t){return t?e._nextNonCollidingGroupId--:e._nextCollidingGroupId++},e.nextCategory=function(){return e._nextCategory=e._nextCategory<<1,e._nextCategory};var f=function(t,a){a=a||{},e.set(t,{bounds:t.bounds||n.create(t.vertices),positionPrev:t.positionPrev||s.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),l.rotate(t.vertices,t.angle,t.position),c.rotate(t.axes,t.angle),n.update(t.bounds,t.vertices,t.velocity),e.set(t,{axes:a.axes||t.axes,area:a.area||t.area,mass:a.mass||t.mass,inertia:a.inertia||t.inertia});var o=t.isStatic?"#14151f":v.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),d=t.isStatic?"#555":"#ccc",m=t.isStatic&&t.render.fillStyle===null?1:0;t.render.fillStyle=t.render.fillStyle||o,t.render.strokeStyle=t.render.strokeStyle||d,t.render.lineWidth=t.render.lineWidth||m,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};e.set=function(t,a,o){var d;typeof a=="string"&&(d=a,a={},a[d]=o);for(d in a)if(Object.prototype.hasOwnProperty.call(a,d))switch(o=a[d],d){case"isStatic":e.setStatic(t,o);break;case"isSleeping":i.set(t,o);break;case"mass":e.setMass(t,o);break;case"density":e.setDensity(t,o);break;case"inertia":e.setInertia(t,o);break;case"vertices":e.setVertices(t,o);break;case"position":e.setPosition(t,o);break;case"angle":e.setAngle(t,o);break;case"velocity":e.setVelocity(t,o);break;case"angularVelocity":e.setAngularVelocity(t,o);break;case"speed":e.setSpeed(t,o);break;case"angularSpeed":e.setAngularSpeed(t,o);break;case"parts":e.setParts(t,o);break;case"centre":e.setCentre(t,o);break;default:t[d]=o}},e.setStatic=function(t,a){for(var o=0;o<t.parts.length;o++){var d=t.parts[o];a?(d.isStatic||(d._original={restitution:d.restitution,friction:d.friction,mass:d.mass,inertia:d.inertia,density:d.density,inverseMass:d.inverseMass,inverseInertia:d.inverseInertia}),d.restitution=0,d.friction=1,d.mass=d.inertia=d.density=1/0,d.inverseMass=d.inverseInertia=0,d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.anglePrev=d.angle,d.angularVelocity=0,d.speed=0,d.angularSpeed=0,d.motion=0):d._original&&(d.restitution=d._original.restitution,d.friction=d._original.friction,d.mass=d._original.mass,d.inertia=d._original.inertia,d.density=d._original.density,d.inverseMass=d._original.inverseMass,d.inverseInertia=d._original.inverseInertia,d._original=null),d.isStatic=a}},e.setMass=function(t,a){var o=t.inertia/(t.mass/6);t.inertia=o*(a/6),t.inverseInertia=1/t.inertia,t.mass=a,t.inverseMass=1/t.mass,t.density=t.mass/t.area},e.setDensity=function(t,a){e.setMass(t,a*t.area),t.density=a},e.setInertia=function(t,a){t.inertia=a,t.inverseInertia=1/t.inertia},e.setVertices=function(t,a){a[0].body===t?t.vertices=a:t.vertices=l.create(a,t),t.axes=c.fromVertices(t.vertices),t.area=l.area(t.vertices),e.setMass(t,t.density*t.area);var o=l.centre(t.vertices);l.translate(t.vertices,o,-1),e.setInertia(t,e._inertiaScale*l.inertia(t.vertices,t.mass)),l.translate(t.vertices,t.position),n.update(t.bounds,t.vertices,t.velocity)},e.setParts=function(t,a,o){var d;for(a=a.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,d=0;d<a.length;d++){var m=a[d];m!==t&&(m.parent=t,t.parts.push(m))}if(t.parts.length!==1){if(o=typeof o<"u"?o:!0,o){var M=[];for(d=0;d<a.length;d++)M=M.concat(a[d].vertices);l.clockwiseSort(M);var S=l.hull(M),E=l.centre(S);e.setVertices(t,S),l.translate(t.vertices,E)}var p=e._totalProperties(t);t.area=p.area,t.parent=t,t.position.x=p.centre.x,t.position.y=p.centre.y,t.positionPrev.x=p.centre.x,t.positionPrev.y=p.centre.y,e.setMass(t,p.mass),e.setInertia(t,p.inertia),e.setPosition(t,p.centre)}},e.setCentre=function(t,a,o){o?(t.positionPrev.x+=a.x,t.positionPrev.y+=a.y,t.position.x+=a.x,t.position.y+=a.y):(t.positionPrev.x=a.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=a.y-(t.position.y-t.positionPrev.y),t.position.x=a.x,t.position.y=a.y)},e.setPosition=function(t,a,o){var d=s.sub(a,t.position);o?(t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.velocity.x=d.x,t.velocity.y=d.y,t.speed=s.magnitude(d)):(t.positionPrev.x+=d.x,t.positionPrev.y+=d.y);for(var m=0;m<t.parts.length;m++){var M=t.parts[m];M.position.x+=d.x,M.position.y+=d.y,l.translate(M.vertices,d),n.update(M.bounds,M.vertices,t.velocity)}},e.setAngle=function(t,a,o){var d=a-t.angle;o?(t.anglePrev=t.angle,t.angularVelocity=d,t.angularSpeed=Math.abs(d)):t.anglePrev+=d;for(var m=0;m<t.parts.length;m++){var M=t.parts[m];M.angle+=d,l.rotate(M.vertices,d,t.position),c.rotate(M.axes,d),n.update(M.bounds,M.vertices,t.velocity),m>0&&s.rotateAbout(M.position,d,t.position,M.position)}},e.setVelocity=function(t,a){var o=t.deltaTime/e._baseDelta;t.positionPrev.x=t.position.x-a.x*o,t.positionPrev.y=t.position.y-a.y*o,t.velocity.x=(t.position.x-t.positionPrev.x)/o,t.velocity.y=(t.position.y-t.positionPrev.y)/o,t.speed=s.magnitude(t.velocity)},e.getVelocity=function(t){var a=e._baseDelta/t.deltaTime;return{x:(t.position.x-t.positionPrev.x)*a,y:(t.position.y-t.positionPrev.y)*a}},e.getSpeed=function(t){return s.magnitude(e.getVelocity(t))},e.setSpeed=function(t,a){e.setVelocity(t,s.mult(s.normalise(e.getVelocity(t)),a))},e.setAngularVelocity=function(t,a){var o=t.deltaTime/e._baseDelta;t.anglePrev=t.angle-a*o,t.angularVelocity=(t.angle-t.anglePrev)/o,t.angularSpeed=Math.abs(t.angularVelocity)},e.getAngularVelocity=function(t){return(t.angle-t.anglePrev)*e._baseDelta/t.deltaTime},e.getAngularSpeed=function(t){return Math.abs(e.getAngularVelocity(t))},e.setAngularSpeed=function(t,a){e.setAngularVelocity(t,v.sign(e.getAngularVelocity(t))*a)},e.translate=function(t,a,o){e.setPosition(t,s.add(t.position,a),o)},e.rotate=function(t,a,o,d){if(!o)e.setAngle(t,t.angle+a,d);else{var m=Math.cos(a),M=Math.sin(a),S=t.position.x-o.x,E=t.position.y-o.y;e.setPosition(t,{x:o.x+(S*m-E*M),y:o.y+(S*M+E*m)},d),e.setAngle(t,t.angle+a,d)}},e.scale=function(t,a,o,d){var m=0,M=0;d=d||t.position;for(var S=0;S<t.parts.length;S++){var E=t.parts[S];l.scale(E.vertices,a,o,d),E.axes=c.fromVertices(E.vertices),E.area=l.area(E.vertices),e.setMass(E,t.density*E.area),l.translate(E.vertices,{x:-E.position.x,y:-E.position.y}),e.setInertia(E,e._inertiaScale*l.inertia(E.vertices,E.mass)),l.translate(E.vertices,{x:E.position.x,y:E.position.y}),S>0&&(m+=E.area,M+=E.inertia),E.position.x=d.x+(E.position.x-d.x)*a,E.position.y=d.y+(E.position.y-d.y)*o,n.update(E.bounds,E.vertices,t.velocity)}t.parts.length>1&&(t.area=m,t.isStatic||(e.setMass(t,t.density*m),e.setInertia(t,M))),t.circleRadius&&(a===o?t.circleRadius*=a:t.circleRadius=null)},e.update=function(t,a){a=(typeof a<"u"?a:1e3/60)*t.timeScale;var o=a*a,d=e._timeCorrection?a/(t.deltaTime||a):1,m=1-t.frictionAir*(a/v._baseDelta),M=(t.position.x-t.positionPrev.x)*d,S=(t.position.y-t.positionPrev.y)*d;t.velocity.x=M*m+t.force.x/t.mass*o,t.velocity.y=S*m+t.force.y/t.mass*o,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.deltaTime=a,t.angularVelocity=(t.angle-t.anglePrev)*m*d+t.torque/t.inertia*o,t.anglePrev=t.angle,t.angle+=t.angularVelocity;for(var E=0;E<t.parts.length;E++){var p=t.parts[E];l.translate(p.vertices,t.velocity),E>0&&(p.position.x+=t.velocity.x,p.position.y+=t.velocity.y),t.angularVelocity!==0&&(l.rotate(p.vertices,t.angularVelocity,t.position),c.rotate(p.axes,t.angularVelocity),E>0&&s.rotateAbout(p.position,t.angularVelocity,t.position,p.position)),n.update(p.bounds,p.vertices,t.velocity)}},e.updateVelocities=function(t){var a=e._baseDelta/t.deltaTime,o=t.velocity;o.x=(t.position.x-t.positionPrev.x)*a,o.y=(t.position.y-t.positionPrev.y)*a,t.speed=Math.sqrt(o.x*o.x+o.y*o.y),t.angularVelocity=(t.angle-t.anglePrev)*a,t.angularSpeed=Math.abs(t.angularVelocity)},e.applyForce=function(t,a,o){var d={x:a.x-t.position.x,y:a.y-t.position.y};t.force.x+=o.x,t.force.y+=o.y,t.torque+=d.x*o.y-d.y*o.x},e._totalProperties=function(t){for(var a={mass:0,area:0,inertia:0,centre:{x:0,y:0}},o=t.parts.length===1?0:1;o<t.parts.length;o++){var d=t.parts[o],m=d.mass!==1/0?d.mass:1;a.mass+=m,a.area+=d.area,a.inertia+=d.inertia,a.centre=s.add(a.centre,s.mult(d.position,m))}return a.centre=s.div(a.centre,a.mass),a}})()},function(g,P,u){var e={};g.exports=e;var l=u(0);(function(){e.on=function(s,i,v){for(var n=i.split(" "),c,f=0;f<n.length;f++)c=n[f],s.events=s.events||{},s.events[c]=s.events[c]||[],s.events[c].push(v);return v},e.off=function(s,i,v){if(!i){s.events={};return}typeof i=="function"&&(v=i,i=l.keys(s.events).join(" "));for(var n=i.split(" "),c=0;c<n.length;c++){var f=s.events[n[c]],t=[];if(v&&f)for(var a=0;a<f.length;a++)f[a]!==v&&t.push(f[a]);s.events[n[c]]=t}},e.trigger=function(s,i,v){var n,c,f,t,a=s.events;if(a&&l.keys(a).length>0){v||(v={}),n=i.split(" ");for(var o=0;o<n.length;o++)if(c=n[o],f=a[c],f){t=l.clone(v,!1),t.name=c,t.source=s;for(var d=0;d<f.length;d++)f[d].apply(s,[t])}}}})()},function(g,P,u){var e={};g.exports=e;var l=u(5),s=u(0),i=u(1),v=u(4);(function(){e.create=function(n){return s.extend({id:s.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},n)},e.setModified=function(n,c,f,t){if(n.isModified=c,c&&n.cache&&(n.cache.allBodies=null,n.cache.allConstraints=null,n.cache.allComposites=null),f&&n.parent&&e.setModified(n.parent,c,f,t),t)for(var a=0;a<n.composites.length;a++){var o=n.composites[a];e.setModified(o,c,f,t)}},e.add=function(n,c){var f=[].concat(c);l.trigger(n,"beforeAdd",{object:c});for(var t=0;t<f.length;t++){var a=f[t];switch(a.type){case"body":if(a.parent!==a){s.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}e.addBody(n,a);break;case"constraint":e.addConstraint(n,a);break;case"composite":e.addComposite(n,a);break;case"mouseConstraint":e.addConstraint(n,a.constraint);break}}return l.trigger(n,"afterAdd",{object:c}),n},e.remove=function(n,c,f){var t=[].concat(c);l.trigger(n,"beforeRemove",{object:c});for(var a=0;a<t.length;a++){var o=t[a];switch(o.type){case"body":e.removeBody(n,o,f);break;case"constraint":e.removeConstraint(n,o,f);break;case"composite":e.removeComposite(n,o,f);break;case"mouseConstraint":e.removeConstraint(n,o.constraint);break}}return l.trigger(n,"afterRemove",{object:c}),n},e.addComposite=function(n,c){return n.composites.push(c),c.parent=n,e.setModified(n,!0,!0,!1),n},e.removeComposite=function(n,c,f){var t=s.indexOf(n.composites,c);if(t!==-1){var a=e.allBodies(c);e.removeCompositeAt(n,t);for(var o=0;o<a.length;o++)a[o].sleepCounter=0}if(f)for(var o=0;o<n.composites.length;o++)e.removeComposite(n.composites[o],c,!0);return n},e.removeCompositeAt=function(n,c){return n.composites.splice(c,1),e.setModified(n,!0,!0,!1),n},e.addBody=function(n,c){return n.bodies.push(c),e.setModified(n,!0,!0,!1),n},e.removeBody=function(n,c,f){var t=s.indexOf(n.bodies,c);if(t!==-1&&(e.removeBodyAt(n,t),c.sleepCounter=0),f)for(var a=0;a<n.composites.length;a++)e.removeBody(n.composites[a],c,!0);return n},e.removeBodyAt=function(n,c){return n.bodies.splice(c,1),e.setModified(n,!0,!0,!1),n},e.addConstraint=function(n,c){return n.constraints.push(c),e.setModified(n,!0,!0,!1),n},e.removeConstraint=function(n,c,f){var t=s.indexOf(n.constraints,c);if(t!==-1&&e.removeConstraintAt(n,t),f)for(var a=0;a<n.composites.length;a++)e.removeConstraint(n.composites[a],c,!0);return n},e.removeConstraintAt=function(n,c){return n.constraints.splice(c,1),e.setModified(n,!0,!0,!1),n},e.clear=function(n,c,f){if(f)for(var t=0;t<n.composites.length;t++)e.clear(n.composites[t],c,!0);return c?n.bodies=n.bodies.filter(function(a){return a.isStatic}):n.bodies.length=0,n.constraints.length=0,n.composites.length=0,e.setModified(n,!0,!0,!1),n},e.allBodies=function(n){if(n.cache&&n.cache.allBodies)return n.cache.allBodies;for(var c=[].concat(n.bodies),f=0;f<n.composites.length;f++)c=c.concat(e.allBodies(n.composites[f]));return n.cache&&(n.cache.allBodies=c),c},e.allConstraints=function(n){if(n.cache&&n.cache.allConstraints)return n.cache.allConstraints;for(var c=[].concat(n.constraints),f=0;f<n.composites.length;f++)c=c.concat(e.allConstraints(n.composites[f]));return n.cache&&(n.cache.allConstraints=c),c},e.allComposites=function(n){if(n.cache&&n.cache.allComposites)return n.cache.allComposites;for(var c=[].concat(n.composites),f=0;f<n.composites.length;f++)c=c.concat(e.allComposites(n.composites[f]));return n.cache&&(n.cache.allComposites=c),c},e.get=function(n,c,f){var t,a;switch(f){case"body":t=e.allBodies(n);break;case"constraint":t=e.allConstraints(n);break;case"composite":t=e.allComposites(n).concat(n);break}return t?(a=t.filter(function(o){return o.id.toString()===c.toString()}),a.length===0?null:a[0]):null},e.move=function(n,c,f){return e.remove(n,c),e.add(f,c),n},e.rebase=function(n){for(var c=e.allBodies(n).concat(e.allConstraints(n)).concat(e.allComposites(n)),f=0;f<c.length;f++)c[f].id=s.nextId();return n},e.translate=function(n,c,f){for(var t=f?e.allBodies(n):n.bodies,a=0;a<t.length;a++)v.translate(t[a],c);return n},e.rotate=function(n,c,f,t){for(var a=Math.cos(c),o=Math.sin(c),d=t?e.allBodies(n):n.bodies,m=0;m<d.length;m++){var M=d[m],S=M.position.x-f.x,E=M.position.y-f.y;v.setPosition(M,{x:f.x+(S*a-E*o),y:f.y+(S*o+E*a)}),v.rotate(M,c)}return n},e.scale=function(n,c,f,t,a){for(var o=a?e.allBodies(n):n.bodies,d=0;d<o.length;d++){var m=o[d],M=m.position.x-t.x,S=m.position.y-t.y;v.setPosition(m,{x:t.x+M*c,y:t.y+S*f}),v.scale(m,c,f)}return n},e.bounds=function(n){for(var c=e.allBodies(n),f=[],t=0;t<c.length;t+=1){var a=c[t];f.push(a.bounds.min,a.bounds.max)}return i.create(f)}})()},function(g,P,u){var e={};g.exports=e;var l=u(4),s=u(5),i=u(0);(function(){e._motionWakeThreshold=.18,e._motionSleepThreshold=.08,e._minBias=.9,e.update=function(v,n){for(var c=n/i._baseDelta,f=e._motionSleepThreshold,t=0;t<v.length;t++){var a=v[t],o=l.getSpeed(a),d=l.getAngularSpeed(a),m=o*o+d*d;if(a.force.x!==0||a.force.y!==0){e.set(a,!1);continue}var M=Math.min(a.motion,m),S=Math.max(a.motion,m);a.motion=e._minBias*M+(1-e._minBias)*S,a.sleepThreshold>0&&a.motion<f?(a.sleepCounter+=1,a.sleepCounter>=a.sleepThreshold/c&&e.set(a,!0)):a.sleepCounter>0&&(a.sleepCounter-=1)}},e.afterCollisions=function(v){for(var n=e._motionSleepThreshold,c=0;c<v.length;c++){var f=v[c];if(f.isActive){var t=f.collision,a=t.bodyA.parent,o=t.bodyB.parent;if(!(a.isSleeping&&o.isSleeping||a.isStatic||o.isStatic)&&(a.isSleeping||o.isSleeping)){var d=a.isSleeping&&!a.isStatic?a:o,m=d===a?o:a;!d.isStatic&&m.motion>n&&e.set(d,!1)}}}},e.set=function(v,n){var c=v.isSleeping;n?(v.isSleeping=!0,v.sleepCounter=v.sleepThreshold,v.positionImpulse.x=0,v.positionImpulse.y=0,v.positionPrev.x=v.position.x,v.positionPrev.y=v.position.y,v.anglePrev=v.angle,v.speed=0,v.angularSpeed=0,v.motion=0,c||s.trigger(v,"sleepStart")):(v.isSleeping=!1,v.sleepCounter=0,c&&s.trigger(v,"sleepEnd"))}})()},function(g,P,u){var e={};g.exports=e;var l=u(3),s=u(9);(function(){var i=[],v={overlap:0,axis:null},n={overlap:0,axis:null};e.create=function(c,f){return{pair:null,collided:!1,bodyA:c,bodyB:f,parentA:c.parent,parentB:f.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},e.collides=function(c,f,t){if(e._overlapAxes(v,c.vertices,f.vertices,c.axes),v.overlap<=0||(e._overlapAxes(n,f.vertices,c.vertices,f.axes),n.overlap<=0))return null;var a=t&&t.table[s.id(c,f)],o;a?o=a.collision:(o=e.create(c,f),o.collided=!0,o.bodyA=c.id<f.id?c:f,o.bodyB=c.id<f.id?f:c,o.parentA=o.bodyA.parent,o.parentB=o.bodyB.parent),c=o.bodyA,f=o.bodyB;var d;v.overlap<n.overlap?d=v:d=n;var m=o.normal,M=o.tangent,S=o.penetration,E=o.supports,p=d.overlap,y=d.axis,w=y.x,x=y.y,A=f.position.x-c.position.x,C=f.position.y-c.position.y;w*A+x*C>=0&&(w=-w,x=-x),m.x=w,m.y=x,M.x=-x,M.y=w,S.x=w*p,S.y=x*p,o.depth=p;var T=e._findSupports(c,f,m,1),I=0;if(l.contains(c.vertices,T[0])&&(E[I++]=T[0]),l.contains(c.vertices,T[1])&&(E[I++]=T[1]),I<2){var B=e._findSupports(f,c,m,-1);l.contains(f.vertices,B[0])&&(E[I++]=B[0]),I<2&&l.contains(f.vertices,B[1])&&(E[I++]=B[1])}return I===0&&(E[I++]=T[0]),o.supportCount=I,o},e._overlapAxes=function(c,f,t,a){var o=f.length,d=t.length,m=f[0].x,M=f[0].y,S=t[0].x,E=t[0].y,p=a.length,y=Number.MAX_VALUE,w=0,x,A,C,T,I,B;for(I=0;I<p;I++){var R=a[I],D=R.x,F=R.y,L=m*D+M*F,O=S*D+E*F,V=L,N=O;for(B=1;B<o;B+=1)T=f[B].x*D+f[B].y*F,T>V?V=T:T<L&&(L=T);for(B=1;B<d;B+=1)T=t[B].x*D+t[B].y*F,T>N?N=T:T<O&&(O=T);if(A=V-O,C=N-L,x=A<C?A:C,x<y&&(y=x,w=I,x<=0))break}c.axis=a[w],c.overlap=y},e._findSupports=function(c,f,t,a){var o=f.vertices,d=o.length,m=c.position.x,M=c.position.y,S=t.x*a,E=t.y*a,p=o[0],y=p,w=S*(m-y.x)+E*(M-y.y),x,A,C;for(C=1;C<d;C+=1)y=o[C],A=S*(m-y.x)+E*(M-y.y),A<w&&(w=A,p=y);return x=o[(d+p.index-1)%d],w=S*(m-x.x)+E*(M-x.y),y=o[(p.index+1)%d],S*(m-y.x)+E*(M-y.y)<w?(i[0]=p,i[1]=y,i):(i[0]=p,i[1]=x,i)}})()},function(g,P,u){var e={};g.exports=e;var l=u(16);(function(){e.create=function(s,i){var v=s.bodyA,n=s.bodyB,c={id:e.id(v,n),bodyA:v,bodyB:n,collision:s,contacts:[l.create(),l.create()],contactCount:0,separation:0,isActive:!0,isSensor:v.isSensor||n.isSensor,timeCreated:i,timeUpdated:i,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return e.update(c,s,i),c},e.update=function(s,i,v){var n=i.supports,c=i.supportCount,f=s.contacts,t=i.parentA,a=i.parentB;s.isActive=!0,s.timeUpdated=v,s.collision=i,s.separation=i.depth,s.inverseMass=t.inverseMass+a.inverseMass,s.friction=t.friction<a.friction?t.friction:a.friction,s.frictionStatic=t.frictionStatic>a.frictionStatic?t.frictionStatic:a.frictionStatic,s.restitution=t.restitution>a.restitution?t.restitution:a.restitution,s.slop=t.slop>a.slop?t.slop:a.slop,s.contactCount=c,i.pair=s;var o=n[0],d=f[0],m=n[1],M=f[1];(M.vertex===o||d.vertex===m)&&(f[1]=d,f[0]=d=M,M=f[1]),d.vertex=o,M.vertex=m},e.setActive=function(s,i,v){i?(s.isActive=!0,s.timeUpdated=v):(s.isActive=!1,s.contactCount=0)},e.id=function(s,i){return s.id<i.id?s.id.toString(36)+":"+i.id.toString(36):i.id.toString(36)+":"+s.id.toString(36)}})()},function(g,P,u){var e={};g.exports=e;var l=u(3),s=u(2),i=u(7),v=u(1),n=u(11),c=u(0);(function(){e._warming=.4,e._torqueDampen=1,e._minLength=1e-6,e.create=function(f){var t=f;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var a=t.bodyA?s.add(t.bodyA.position,t.pointA):t.pointA,o=t.bodyB?s.add(t.bodyB.position,t.pointB):t.pointB,d=s.magnitude(s.sub(a,o));t.length=typeof t.length<"u"?t.length:d,t.id=t.id||c.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var m={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return t.length===0&&t.stiffness>.1?(m.type="pin",m.anchors=!1):t.stiffness<.9&&(m.type="spring"),t.render=c.extend(m,t.render),t},e.preSolveAll=function(f){for(var t=0;t<f.length;t+=1){var a=f[t],o=a.constraintImpulse;a.isStatic||o.x===0&&o.y===0&&o.angle===0||(a.position.x+=o.x,a.position.y+=o.y,a.angle+=o.angle)}},e.solveAll=function(f,t){for(var a=c.clamp(t/c._baseDelta,0,1),o=0;o<f.length;o+=1){var d=f[o],m=!d.bodyA||d.bodyA&&d.bodyA.isStatic,M=!d.bodyB||d.bodyB&&d.bodyB.isStatic;(m||M)&&e.solve(f[o],a)}for(o=0;o<f.length;o+=1)d=f[o],m=!d.bodyA||d.bodyA&&d.bodyA.isStatic,M=!d.bodyB||d.bodyB&&d.bodyB.isStatic,!m&&!M&&e.solve(f[o],a)},e.solve=function(f,t){var a=f.bodyA,o=f.bodyB,d=f.pointA,m=f.pointB;if(!(!a&&!o)){a&&!a.isStatic&&(s.rotate(d,a.angle-f.angleA,d),f.angleA=a.angle),o&&!o.isStatic&&(s.rotate(m,o.angle-f.angleB,m),f.angleB=o.angle);var M=d,S=m;if(a&&(M=s.add(a.position,d)),o&&(S=s.add(o.position,m)),!(!M||!S)){var E=s.sub(M,S),p=s.magnitude(E);p<e._minLength&&(p=e._minLength);var y=(p-f.length)/p,w=f.stiffness>=1||f.length===0,x=w?f.stiffness*t:f.stiffness*t*t,A=f.damping*t,C=s.mult(E,y*x),T=(a?a.inverseMass:0)+(o?o.inverseMass:0),I=(a?a.inverseInertia:0)+(o?o.inverseInertia:0),B=T+I,R,D,F,L,O;if(A>0){var V=s.create();F=s.div(E,p),O=s.sub(o&&s.sub(o.position,o.positionPrev)||V,a&&s.sub(a.position,a.positionPrev)||V),L=s.dot(F,O)}a&&!a.isStatic&&(D=a.inverseMass/T,a.constraintImpulse.x-=C.x*D,a.constraintImpulse.y-=C.y*D,a.position.x-=C.x*D,a.position.y-=C.y*D,A>0&&(a.positionPrev.x-=A*F.x*L*D,a.positionPrev.y-=A*F.y*L*D),R=s.cross(d,C)/B*e._torqueDampen*a.inverseInertia*(1-f.angularStiffness),a.constraintImpulse.angle-=R,a.angle-=R),o&&!o.isStatic&&(D=o.inverseMass/T,o.constraintImpulse.x+=C.x*D,o.constraintImpulse.y+=C.y*D,o.position.x+=C.x*D,o.position.y+=C.y*D,A>0&&(o.positionPrev.x+=A*F.x*L*D,o.positionPrev.y+=A*F.y*L*D),R=s.cross(m,C)/B*e._torqueDampen*o.inverseInertia*(1-f.angularStiffness),o.constraintImpulse.angle+=R,o.angle+=R)}}},e.postSolveAll=function(f){for(var t=0;t<f.length;t++){var a=f[t],o=a.constraintImpulse;if(!(a.isStatic||o.x===0&&o.y===0&&o.angle===0)){i.set(a,!1);for(var d=0;d<a.parts.length;d++){var m=a.parts[d];l.translate(m.vertices,o),d>0&&(m.position.x+=o.x,m.position.y+=o.y),o.angle!==0&&(l.rotate(m.vertices,o.angle,a.position),n.rotate(m.axes,o.angle),d>0&&s.rotateAbout(m.position,o.angle,a.position,m.position)),v.update(m.bounds,m.vertices,a.velocity)}o.angle*=e._warming,o.x*=e._warming,o.y*=e._warming}}},e.pointAWorld=function(f){return{x:(f.bodyA?f.bodyA.position.x:0)+(f.pointA?f.pointA.x:0),y:(f.bodyA?f.bodyA.position.y:0)+(f.pointA?f.pointA.y:0)}},e.pointBWorld=function(f){return{x:(f.bodyB?f.bodyB.position.x:0)+(f.pointB?f.pointB.x:0),y:(f.bodyB?f.bodyB.position.y:0)+(f.pointB?f.pointB.y:0)}},e.currentLength=function(f){var t=(f.bodyA?f.bodyA.position.x:0)+(f.pointA?f.pointA.x:0),a=(f.bodyA?f.bodyA.position.y:0)+(f.pointA?f.pointA.y:0),o=(f.bodyB?f.bodyB.position.x:0)+(f.pointB?f.pointB.x:0),d=(f.bodyB?f.bodyB.position.y:0)+(f.pointB?f.pointB.y:0),m=t-o,M=a-d;return Math.sqrt(m*m+M*M)}})()},function(g,P,u){var e={};g.exports=e;var l=u(2),s=u(0);(function(){e.fromVertices=function(i){for(var v={},n=0;n<i.length;n++){var c=(n+1)%i.length,f=l.normalise({x:i[c].y-i[n].y,y:i[n].x-i[c].x}),t=f.y===0?1/0:f.x/f.y;t=t.toFixed(3).toString(),v[t]=f}return s.values(v)},e.rotate=function(i,v){if(v!==0)for(var n=Math.cos(v),c=Math.sin(v),f=0;f<i.length;f++){var t=i[f],a;a=t.x*n-t.y*c,t.y=t.x*c+t.y*n,t.x=a}}})()},function(g,P,u){var e={};g.exports=e;var l=u(3),s=u(0),i=u(4),v=u(1),n=u(2);(function(){e.rectangle=function(c,f,t,a,o){o=o||{};var d={label:"Rectangle Body",position:{x:c,y:f},vertices:l.fromPath("L 0 0 L "+t+" 0 L "+t+" "+a+" L 0 "+a)};if(o.chamfer){var m=o.chamfer;d.vertices=l.chamfer(d.vertices,m.radius,m.quality,m.qualityMin,m.qualityMax),delete o.chamfer}return i.create(s.extend({},d,o))},e.trapezoid=function(c,f,t,a,o,d){d=d||{},o>=1&&s.warn("Bodies.trapezoid: slope parameter must be < 1."),o*=.5;var m=(1-o*2)*t,M=t*o,S=M+m,E=S+M,p;o<.5?p="L 0 0 L "+M+" "+-a+" L "+S+" "+-a+" L "+E+" 0":p="L 0 0 L "+S+" "+-a+" L "+E+" 0";var y={label:"Trapezoid Body",position:{x:c,y:f},vertices:l.fromPath(p)};if(d.chamfer){var w=d.chamfer;y.vertices=l.chamfer(y.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete d.chamfer}return i.create(s.extend({},y,d))},e.circle=function(c,f,t,a,o){a=a||{};var d={label:"Circle Body",circleRadius:t};o=o||25;var m=Math.ceil(Math.max(10,Math.min(o,t)));return m%2===1&&(m+=1),e.polygon(c,f,m,t,s.extend({},d,a))},e.polygon=function(c,f,t,a,o){if(o=o||{},t<3)return e.circle(c,f,a,o);for(var d=2*Math.PI/t,m="",M=d*.5,S=0;S<t;S+=1){var E=M+S*d,p=Math.cos(E)*a,y=Math.sin(E)*a;m+="L "+p.toFixed(3)+" "+y.toFixed(3)+" "}var w={label:"Polygon Body",position:{x:c,y:f},vertices:l.fromPath(m)};if(o.chamfer){var x=o.chamfer;w.vertices=l.chamfer(w.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete o.chamfer}return i.create(s.extend({},w,o))},e.fromVertices=function(c,f,t,a,o,d,m,M){var S=s.getDecomp(),E,p,y,w,x,A,C,T,I,B,R;for(E=!!(S&&S.quickDecomp),a=a||{},y=[],o=typeof o<"u"?o:!1,d=typeof d<"u"?d:.01,m=typeof m<"u"?m:10,M=typeof M<"u"?M:.01,s.isArray(t[0])||(t=[t]),B=0;B<t.length;B+=1)if(A=t[B],w=l.isConvex(A),x=!w,x&&!E&&s.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),w||!E)w?A=l.clockwiseSort(A):A=l.hull(A),y.push({position:{x:c,y:f},vertices:A});else{var D=A.map(function(H){return[H.x,H.y]});S.makeCCW(D),d!==!1&&S.removeCollinearPoints(D,d),M!==!1&&S.removeDuplicatePoints&&S.removeDuplicatePoints(D,M);var F=S.quickDecomp(D);for(C=0;C<F.length;C++){var L=F[C],O=L.map(function(H){return{x:H[0],y:H[1]}});m>0&&l.area(O)<m||y.push({position:l.centre(O),vertices:O})}}for(C=0;C<y.length;C++)y[C]=i.create(s.extend(y[C],a));if(o){var V=5;for(C=0;C<y.length;C++){var N=y[C];for(T=C+1;T<y.length;T++){var b=y[T];if(v.overlaps(N.bounds,b.bounds)){var Q=N.vertices,X=b.vertices;for(I=0;I<N.vertices.length;I++)for(R=0;R<b.vertices.length;R++){var fe=n.magnitudeSquared(n.sub(Q[(I+1)%Q.length],X[R])),ee=n.magnitudeSquared(n.sub(Q[I],X[(R+1)%X.length]));fe<V&&ee<V&&(Q[I].isInternal=!0,X[R].isInternal=!0)}}}}}return y.length>1?(p=i.create(s.extend({parts:y.slice(0)},a)),i.setPosition(p,{x:c,y:f}),p):y[0]}})()},function(g,P,u){var e={};g.exports=e;var l=u(0),s=u(8);(function(){e.create=function(i){var v={bodies:[],collisions:[],pairs:null};return l.extend(v,i)},e.setBodies=function(i,v){i.bodies=v.slice(0)},e.clear=function(i){i.bodies=[],i.collisions=[]},e.collisions=function(i){var v=i.pairs,n=i.bodies,c=n.length,f=e.canCollide,t=s.collides,a=i.collisions,o=0,d,m;for(n.sort(e._compareBoundsX),d=0;d<c;d++){var M=n[d],S=M.bounds,E=M.bounds.max.x,p=M.bounds.max.y,y=M.bounds.min.y,w=M.isStatic||M.isSleeping,x=M.parts.length,A=x===1;for(m=d+1;m<c;m++){var C=n[m],T=C.bounds;if(T.min.x>E)break;if(!(p<T.min.y||y>T.max.y)&&!(w&&(C.isStatic||C.isSleeping))&&f(M.collisionFilter,C.collisionFilter)){var I=C.parts.length;if(A&&I===1){var B=t(M,C,v);B&&(a[o++]=B)}else for(var R=x>1?1:0,D=I>1?1:0,F=R;F<x;F++)for(var L=M.parts[F],S=L.bounds,O=D;O<I;O++){var V=C.parts[O],T=V.bounds;if(!(S.min.x>T.max.x||S.max.x<T.min.x||S.max.y<T.min.y||S.min.y>T.max.y)){var B=t(L,V,v);B&&(a[o++]=B)}}}}}return a.length!==o&&(a.length=o),a},e.canCollide=function(i,v){return i.group===v.group&&i.group!==0?i.group>0:(i.mask&v.category)!==0&&(v.mask&i.category)!==0},e._compareBoundsX=function(i,v){return i.bounds.min.x-v.bounds.min.x}})()},function(g,P,u){var e={};g.exports=e;var l=u(0);(function(){e.create=function(s){var i={};return s||l.log("Mouse.create: element was undefined, defaulting to document.body","warn"),i.element=s||document.body,i.absolute={x:0,y:0},i.position={x:0,y:0},i.mousedownPosition={x:0,y:0},i.mouseupPosition={x:0,y:0},i.offset={x:0,y:0},i.scale={x:1,y:1},i.wheelDelta=0,i.button=-1,i.pixelRatio=parseInt(i.element.getAttribute("data-pixel-ratio"),10)||1,i.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},i.mousemove=function(v){var n=e._getRelativeMousePosition(v,i.element,i.pixelRatio),c=v.changedTouches;c&&(i.button=0,v.preventDefault()),i.absolute.x=n.x,i.absolute.y=n.y,i.position.x=i.absolute.x*i.scale.x+i.offset.x,i.position.y=i.absolute.y*i.scale.y+i.offset.y,i.sourceEvents.mousemove=v},i.mousedown=function(v){var n=e._getRelativeMousePosition(v,i.element,i.pixelRatio),c=v.changedTouches;c?(i.button=0,v.preventDefault()):i.button=v.button,i.absolute.x=n.x,i.absolute.y=n.y,i.position.x=i.absolute.x*i.scale.x+i.offset.x,i.position.y=i.absolute.y*i.scale.y+i.offset.y,i.mousedownPosition.x=i.position.x,i.mousedownPosition.y=i.position.y,i.sourceEvents.mousedown=v},i.mouseup=function(v){var n=e._getRelativeMousePosition(v,i.element,i.pixelRatio),c=v.changedTouches;c&&v.preventDefault(),i.button=-1,i.absolute.x=n.x,i.absolute.y=n.y,i.position.x=i.absolute.x*i.scale.x+i.offset.x,i.position.y=i.absolute.y*i.scale.y+i.offset.y,i.mouseupPosition.x=i.position.x,i.mouseupPosition.y=i.position.y,i.sourceEvents.mouseup=v},i.mousewheel=function(v){i.wheelDelta=Math.max(-1,Math.min(1,v.wheelDelta||-v.detail)),v.preventDefault(),i.sourceEvents.mousewheel=v},e.setElement(i,i.element),i},e.setElement=function(s,i){s.element=i,i.addEventListener("mousemove",s.mousemove,{passive:!0}),i.addEventListener("mousedown",s.mousedown,{passive:!0}),i.addEventListener("mouseup",s.mouseup,{passive:!0}),i.addEventListener("wheel",s.mousewheel,{passive:!1}),i.addEventListener("touchmove",s.mousemove,{passive:!1}),i.addEventListener("touchstart",s.mousedown,{passive:!1}),i.addEventListener("touchend",s.mouseup,{passive:!1})},e.clearSourceEvents=function(s){s.sourceEvents.mousemove=null,s.sourceEvents.mousedown=null,s.sourceEvents.mouseup=null,s.sourceEvents.mousewheel=null,s.wheelDelta=0},e.setOffset=function(s,i){s.offset.x=i.x,s.offset.y=i.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y},e.setScale=function(s,i){s.scale.x=i.x,s.scale.y=i.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y},e._getRelativeMousePosition=function(s,i,v){var n=i.getBoundingClientRect(),c=document.documentElement||document.body.parentNode||document.body,f=window.pageXOffset!==void 0?window.pageXOffset:c.scrollLeft,t=window.pageYOffset!==void 0?window.pageYOffset:c.scrollTop,a=s.changedTouches,o,d;return a?(o=a[0].pageX-n.left-f,d=a[0].pageY-n.top-t):(o=s.pageX-n.left-f,d=s.pageY-n.top-t),{x:o/(i.clientWidth/(i.width||i.clientWidth)*v),y:d/(i.clientHeight/(i.height||i.clientHeight)*v)}}})()},function(g,P,u){var e={};g.exports=e;var l=u(0);(function(){e._registry={},e.register=function(s){if(e.isPlugin(s)||l.warn("Plugin.register:",e.toString(s),"does not implement all required fields."),s.name in e._registry){var i=e._registry[s.name],v=e.versionParse(s.version).number,n=e.versionParse(i.version).number;v>n?(l.warn("Plugin.register:",e.toString(i),"was upgraded to",e.toString(s)),e._registry[s.name]=s):v<n?l.warn("Plugin.register:",e.toString(i),"can not be downgraded to",e.toString(s)):s!==i&&l.warn("Plugin.register:",e.toString(s),"is already registered to different plugin object")}else e._registry[s.name]=s;return s},e.resolve=function(s){return e._registry[e.dependencyParse(s).name]},e.toString=function(s){return typeof s=="string"?s:(s.name||"anonymous")+"@"+(s.version||s.range||"0.0.0")},e.isPlugin=function(s){return s&&s.name&&s.version&&s.install},e.isUsed=function(s,i){return s.used.indexOf(i)>-1},e.isFor=function(s,i){var v=s.for&&e.dependencyParse(s.for);return!s.for||i.name===v.name&&e.versionSatisfies(i.version,v.range)},e.use=function(s,i){if(s.uses=(s.uses||[]).concat(i||[]),s.uses.length===0){l.warn("Plugin.use:",e.toString(s),"does not specify any dependencies to install.");return}for(var v=e.dependencies(s),n=l.topologicalSort(v),c=[],f=0;f<n.length;f+=1)if(n[f]!==s.name){var t=e.resolve(n[f]);if(!t){c.push("❌ "+n[f]);continue}e.isUsed(s,t.name)||(e.isFor(t,s)||(l.warn("Plugin.use:",e.toString(t),"is for",t.for,"but installed on",e.toString(s)+"."),t._warned=!0),t.install?t.install(s):(l.warn("Plugin.use:",e.toString(t),"does not specify an install function."),t._warned=!0),t._warned?(c.push("🔶 "+e.toString(t)),delete t._warned):c.push("✅ "+e.toString(t)),s.used.push(t.name))}c.length>0&&l.info(c.join("  "))},e.dependencies=function(s,i){var v=e.dependencyParse(s),n=v.name;if(i=i||{},!(n in i)){s=e.resolve(s)||s,i[n]=l.map(s.uses||[],function(f){e.isPlugin(f)&&e.register(f);var t=e.dependencyParse(f),a=e.resolve(f);return a&&!e.versionSatisfies(a.version,t.range)?(l.warn("Plugin.dependencies:",e.toString(a),"does not satisfy",e.toString(t),"used by",e.toString(v)+"."),a._warned=!0,s._warned=!0):a||(l.warn("Plugin.dependencies:",e.toString(f),"used by",e.toString(v),"could not be resolved."),s._warned=!0),t.name});for(var c=0;c<i[n].length;c+=1)e.dependencies(i[n][c],i);return i}},e.dependencyParse=function(s){if(l.isString(s)){var i=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return i.test(s)||l.warn("Plugin.dependencyParse:",s,"is not a valid dependency string."),{name:s.split("@")[0],range:s.split("@")[1]||"*"}}return{name:s.name,range:s.range||s.version}},e.versionParse=function(s){var i=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;i.test(s)||l.warn("Plugin.versionParse:",s,"is not a valid version or range.");var v=i.exec(s),n=Number(v[4]),c=Number(v[5]),f=Number(v[6]);return{isRange:!!(v[1]||v[2]),version:v[3],range:s,operator:v[1]||v[2]||"",major:n,minor:c,patch:f,parts:[n,c,f],prerelease:v[7],number:n*1e8+c*1e4+f}},e.versionSatisfies=function(s,i){i=i||"*";var v=e.versionParse(i),n=e.versionParse(s);if(v.isRange){if(v.operator==="*"||s==="*")return!0;if(v.operator===">")return n.number>v.number;if(v.operator===">=")return n.number>=v.number;if(v.operator==="~")return n.major===v.major&&n.minor===v.minor&&n.patch>=v.patch;if(v.operator==="^")return v.major>0?n.major===v.major&&n.number>=v.number:v.minor>0?n.minor===v.minor&&n.patch>=v.patch:n.patch===v.patch}return s===i||s==="*"}})()},function(g,P){var u={};g.exports=u,function(){u.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}}()},function(g,P,u){var e={};g.exports=e;var l=u(7),s=u(18),i=u(13),v=u(19),n=u(5),c=u(6),f=u(10),t=u(0),a=u(4);(function(){e._deltaMax=1e3/60,e.create=function(o){o=o||{};var d={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},m=t.extend(d,o);return m.world=o.world||c.create({label:"World"}),m.pairs=o.pairs||v.create(),m.detector=o.detector||i.create(),m.detector.pairs=m.pairs,m.grid={buckets:[]},m.world.gravity=m.gravity,m.broadphase=m.grid,m.metrics={},m},e.update=function(o,d){var m=t.now(),M=o.world,S=o.detector,E=o.pairs,p=o.timing,y=p.timestamp,w;d>e._deltaMax&&t.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",e._deltaMax.toFixed(3),"ms."),d=typeof d<"u"?d:t._baseDelta,d*=p.timeScale,p.timestamp+=d,p.lastDelta=d;var x={timestamp:p.timestamp,delta:d};n.trigger(o,"beforeUpdate",x);var A=c.allBodies(M),C=c.allConstraints(M);for(M.isModified&&(i.setBodies(S,A),c.setModified(M,!1,!1,!0)),o.enableSleeping&&l.update(A,d),e._bodiesApplyGravity(A,o.gravity),d>0&&e._bodiesUpdate(A,d),n.trigger(o,"beforeSolve",x),f.preSolveAll(A),w=0;w<o.constraintIterations;w++)f.solveAll(C,d);f.postSolveAll(A);var T=i.collisions(S);v.update(E,T,y),o.enableSleeping&&l.afterCollisions(E.list),E.collisionStart.length>0&&n.trigger(o,"collisionStart",{pairs:E.collisionStart,timestamp:p.timestamp,delta:d});var I=t.clamp(20/o.positionIterations,0,1);for(s.preSolvePosition(E.list),w=0;w<o.positionIterations;w++)s.solvePosition(E.list,d,I);for(s.postSolvePosition(A),f.preSolveAll(A),w=0;w<o.constraintIterations;w++)f.solveAll(C,d);for(f.postSolveAll(A),s.preSolveVelocity(E.list),w=0;w<o.velocityIterations;w++)s.solveVelocity(E.list,d);return e._bodiesUpdateVelocities(A),E.collisionActive.length>0&&n.trigger(o,"collisionActive",{pairs:E.collisionActive,timestamp:p.timestamp,delta:d}),E.collisionEnd.length>0&&n.trigger(o,"collisionEnd",{pairs:E.collisionEnd,timestamp:p.timestamp,delta:d}),e._bodiesClearForces(A),n.trigger(o,"afterUpdate",x),o.timing.lastElapsed=t.now()-m,o},e.merge=function(o,d){if(t.extend(o,d),d.world){o.world=d.world,e.clear(o);for(var m=c.allBodies(o.world),M=0;M<m.length;M++){var S=m[M];l.set(S,!1),S.id=t.nextId()}}},e.clear=function(o){v.clear(o.pairs),i.clear(o.detector)},e._bodiesClearForces=function(o){for(var d=o.length,m=0;m<d;m++){var M=o[m];M.force.x=0,M.force.y=0,M.torque=0}},e._bodiesApplyGravity=function(o,d){var m=typeof d.scale<"u"?d.scale:.001,M=o.length;if(!(d.x===0&&d.y===0||m===0))for(var S=0;S<M;S++){var E=o[S];E.isStatic||E.isSleeping||(E.force.y+=E.mass*d.y*m,E.force.x+=E.mass*d.x*m)}},e._bodiesUpdate=function(o,d){for(var m=o.length,M=0;M<m;M++){var S=o[M];S.isStatic||S.isSleeping||a.update(S,d)}},e._bodiesUpdateVelocities=function(o){for(var d=o.length,m=0;m<d;m++)a.updateVelocities(o[m])}})()},function(g,P,u){var e={};g.exports=e;var l=u(3),s=u(0),i=u(1);(function(){e._restingThresh=2,e._restingThreshTangent=Math.sqrt(6),e._positionDampen=.9,e._positionWarming=.8,e._frictionNormalMultiplier=5,e._frictionMaxStatic=Number.MAX_VALUE,e.preSolvePosition=function(v){var n,c,f,t=v.length;for(n=0;n<t;n++)c=v[n],c.isActive&&(f=c.contactCount,c.collision.parentA.totalContacts+=f,c.collision.parentB.totalContacts+=f)},e.solvePosition=function(v,n,c){var f,t,a,o,d,m,M,S,E=e._positionDampen*(c||1),p=s.clamp(n/s._baseDelta,0,1),y=v.length;for(f=0;f<y;f++)t=v[f],!(!t.isActive||t.isSensor)&&(a=t.collision,o=a.parentA,d=a.parentB,m=a.normal,t.separation=a.depth+m.x*(d.positionImpulse.x-o.positionImpulse.x)+m.y*(d.positionImpulse.y-o.positionImpulse.y));for(f=0;f<y;f++)t=v[f],!(!t.isActive||t.isSensor)&&(a=t.collision,o=a.parentA,d=a.parentB,m=a.normal,S=t.separation-t.slop*p,(o.isStatic||d.isStatic)&&(S*=2),o.isStatic||o.isSleeping||(M=E/o.totalContacts,o.positionImpulse.x+=m.x*S*M,o.positionImpulse.y+=m.y*S*M),d.isStatic||d.isSleeping||(M=E/d.totalContacts,d.positionImpulse.x-=m.x*S*M,d.positionImpulse.y-=m.y*S*M))},e.postSolvePosition=function(v){for(var n=e._positionWarming,c=v.length,f=l.translate,t=i.update,a=0;a<c;a++){var o=v[a],d=o.positionImpulse,m=d.x,M=d.y,S=o.velocity;if(o.totalContacts=0,m!==0||M!==0){for(var E=0;E<o.parts.length;E++){var p=o.parts[E];f(p.vertices,d),t(p.bounds,p.vertices,S),p.position.x+=m,p.position.y+=M}o.positionPrev.x+=m,o.positionPrev.y+=M,m*S.x+M*S.y<0?(d.x=0,d.y=0):(d.x*=n,d.y*=n)}}},e.preSolveVelocity=function(v){var n=v.length,c,f;for(c=0;c<n;c++){var t=v[c];if(!(!t.isActive||t.isSensor)){var a=t.contacts,o=t.contactCount,d=t.collision,m=d.parentA,M=d.parentB,S=d.normal,E=d.tangent;for(f=0;f<o;f++){var p=a[f],y=p.vertex,w=p.normalImpulse,x=p.tangentImpulse;if(w!==0||x!==0){var A=S.x*w+E.x*x,C=S.y*w+E.y*x;m.isStatic||m.isSleeping||(m.positionPrev.x+=A*m.inverseMass,m.positionPrev.y+=C*m.inverseMass,m.anglePrev+=m.inverseInertia*((y.x-m.position.x)*C-(y.y-m.position.y)*A)),M.isStatic||M.isSleeping||(M.positionPrev.x-=A*M.inverseMass,M.positionPrev.y-=C*M.inverseMass,M.anglePrev-=M.inverseInertia*((y.x-M.position.x)*C-(y.y-M.position.y)*A))}}}}},e.solveVelocity=function(v,n){var c=n/s._baseDelta,f=c*c,t=f*c,a=-e._restingThresh*c,o=e._restingThreshTangent,d=e._frictionNormalMultiplier*c,m=e._frictionMaxStatic,M=v.length,S,E,p,y;for(p=0;p<M;p++){var w=v[p];if(!(!w.isActive||w.isSensor)){var x=w.collision,A=x.parentA,C=x.parentB,T=x.normal.x,I=x.normal.y,B=x.tangent.x,R=x.tangent.y,D=w.inverseMass,F=w.friction*w.frictionStatic*d,L=w.contacts,O=w.contactCount,V=1/O,N=A.position.x-A.positionPrev.x,b=A.position.y-A.positionPrev.y,Q=A.angle-A.anglePrev,X=C.position.x-C.positionPrev.x,fe=C.position.y-C.positionPrev.y,ee=C.angle-C.anglePrev;for(y=0;y<O;y++){var H=L[y],te=H.vertex,$=te.x-A.position.x,Le=te.y-A.position.y,ie=te.x-C.position.x,re=te.y-C.position.y,q=N-Le*Q,Zn=b+$*Q,$n=X-re*ee,Xn=fe+ie*ee,Ut=q-$n,Wt=Zn-Xn,ht=T*Ut+I*Wt,se=B*Ut+R*Wt,bt=w.separation+ht,gt=Math.min(bt,1);gt=bt<0?0:gt;var zt=gt*F;se<-zt||se>zt?(E=se>0?se:-se,S=w.friction*(se>0?1:-1)*t,S<-E?S=-E:S>E&&(S=E)):(S=se,E=m);var Gt=$*I-Le*T,Kt=ie*I-re*T,Qt=V/(D+A.inverseInertia*Gt*Gt+C.inverseInertia*Kt*Kt),Ye=(1+w.restitution)*ht*Qt;if(S*=Qt,ht<a)H.normalImpulse=0;else{var Jn=H.normalImpulse;H.normalImpulse+=Ye,H.normalImpulse>0&&(H.normalImpulse=0),Ye=H.normalImpulse-Jn}if(se<-o||se>o)H.tangentImpulse=0;else{var qn=H.tangentImpulse;H.tangentImpulse+=S,H.tangentImpulse<-E&&(H.tangentImpulse=-E),H.tangentImpulse>E&&(H.tangentImpulse=E),S=H.tangentImpulse-qn}var Ze=T*Ye+B*S,$e=I*Ye+R*S;A.isStatic||A.isSleeping||(A.positionPrev.x+=Ze*A.inverseMass,A.positionPrev.y+=$e*A.inverseMass,A.anglePrev+=($*$e-Le*Ze)*A.inverseInertia),C.isStatic||C.isSleeping||(C.positionPrev.x-=Ze*C.inverseMass,C.positionPrev.y-=$e*C.inverseMass,C.anglePrev-=(ie*$e-re*Ze)*C.inverseInertia)}}}}})()},function(g,P,u){var e={};g.exports=e;var l=u(9),s=u(0);(function(){e.create=function(i){return s.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},i)},e.update=function(i,v,n){var c=l.update,f=l.create,t=l.setActive,a=i.table,o=i.list,d=o.length,m=d,M=i.collisionStart,S=i.collisionEnd,E=i.collisionActive,p=v.length,y=0,w=0,x=0,A,C,T;for(T=0;T<p;T++)A=v[T],C=A.pair,C?(C.isActive&&(E[x++]=C),c(C,A,n)):(C=f(A,n),a[C.id]=C,M[y++]=C,o[m++]=C);for(m=0,d=o.length,T=0;T<d;T++)C=o[T],C.timeUpdated>=n?o[m++]=C:(t(C,!1,n),C.collision.bodyA.sleepCounter>0&&C.collision.bodyB.sleepCounter>0?o[m++]=C:(S[w++]=C,delete a[C.id]));o.length!==m&&(o.length=m),M.length!==y&&(M.length=y),S.length!==w&&(S.length=w),E.length!==x&&(E.length=x)},e.clear=function(i){return i.table={},i.list.length=0,i.collisionStart.length=0,i.collisionActive.length=0,i.collisionEnd.length=0,i}})()},function(g,P,u){var e=g.exports=u(21);e.Axes=u(11),e.Bodies=u(12),e.Body=u(4),e.Bounds=u(1),e.Collision=u(8),e.Common=u(0),e.Composite=u(6),e.Composites=u(22),e.Constraint=u(10),e.Contact=u(16),e.Detector=u(13),e.Engine=u(17),e.Events=u(5),e.Grid=u(23),e.Mouse=u(14),e.MouseConstraint=u(24),e.Pair=u(9),e.Pairs=u(19),e.Plugin=u(15),e.Query=u(25),e.Render=u(26),e.Resolver=u(18),e.Runner=u(27),e.SAT=u(28),e.Sleeping=u(7),e.Svg=u(29),e.Vector=u(2),e.Vertices=u(3),e.World=u(30),e.Engine.run=e.Runner.run,e.Common.deprecated(e.Engine,"run","Engine.run ➤ use Matter.Runner.run(engine) instead")},function(g,P,u){var e={};g.exports=e;var l=u(15),s=u(0);(function(){e.name="matter-js",e.version="0.20.0",e.uses=[],e.used=[],e.use=function(){l.use(e,Array.prototype.slice.call(arguments))},e.before=function(i,v){return i=i.replace(/^Matter./,""),s.chainPathBefore(e,i,v)},e.after=function(i,v){return i=i.replace(/^Matter./,""),s.chainPathAfter(e,i,v)}})()},function(g,P,u){var e={};g.exports=e;var l=u(6),s=u(10),i=u(0),v=u(4),n=u(12),c=i.deprecated;(function(){e.stack=function(f,t,a,o,d,m,M){for(var S=l.create({label:"Stack"}),E=f,p=t,y,w=0,x=0;x<o;x++){for(var A=0,C=0;C<a;C++){var T=M(E,p,C,x,y,w);if(T){var I=T.bounds.max.y-T.bounds.min.y,B=T.bounds.max.x-T.bounds.min.x;I>A&&(A=I),v.translate(T,{x:B*.5,y:I*.5}),E=T.bounds.max.x+d,l.addBody(S,T),y=T,w+=1}else E+=d}p+=A+m,E=f}return S},e.chain=function(f,t,a,o,d,m){for(var M=f.bodies,S=1;S<M.length;S++){var E=M[S-1],p=M[S],y=E.bounds.max.y-E.bounds.min.y,w=E.bounds.max.x-E.bounds.min.x,x=p.bounds.max.y-p.bounds.min.y,A=p.bounds.max.x-p.bounds.min.x,C={bodyA:E,pointA:{x:w*t,y:y*a},bodyB:p,pointB:{x:A*o,y:x*d}},T=i.extend(C,m);l.addConstraint(f,s.create(T))}return f.label+=" Chain",f},e.mesh=function(f,t,a,o,d){var m=f.bodies,M,S,E,p,y;for(M=0;M<a;M++){for(S=1;S<t;S++)E=m[S-1+M*t],p=m[S+M*t],l.addConstraint(f,s.create(i.extend({bodyA:E,bodyB:p},d)));if(M>0)for(S=0;S<t;S++)E=m[S+(M-1)*t],p=m[S+M*t],l.addConstraint(f,s.create(i.extend({bodyA:E,bodyB:p},d))),o&&S>0&&(y=m[S-1+(M-1)*t],l.addConstraint(f,s.create(i.extend({bodyA:y,bodyB:p},d)))),o&&S<t-1&&(y=m[S+1+(M-1)*t],l.addConstraint(f,s.create(i.extend({bodyA:y,bodyB:p},d))))}return f.label+=" Mesh",f},e.pyramid=function(f,t,a,o,d,m,M){return e.stack(f,t,a,o,d,m,function(S,E,p,y,w,x){var A=Math.min(o,Math.ceil(a/2)),C=w?w.bounds.max.x-w.bounds.min.x:0;if(!(y>A)){y=A-y;var T=y,I=a-1-y;if(!(p<T||p>I)){x===1&&v.translate(w,{x:(p+(a%2===1?1:-1))*C,y:0});var B=w?p*C:0;return M(f+B+p*d,E,p,y,w,x)}}})},e.newtonsCradle=function(f,t,a,o,d){for(var m=l.create({label:"Newtons Cradle"}),M=0;M<a;M++){var S=1.9,E=n.circle(f+M*(o*S),t+d,o,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),p=s.create({pointA:{x:f+M*(o*S),y:t},bodyB:E});l.addBody(m,E),l.addConstraint(m,p)}return m},c(e,"newtonsCradle","Composites.newtonsCradle ➤ moved to newtonsCradle example"),e.car=function(f,t,a,o,d){var m=v.nextGroup(!0),M=20,S=-a*.5+M,E=a*.5-M,p=0,y=l.create({label:"Car"}),w=n.rectangle(f,t,a,o,{collisionFilter:{group:m},chamfer:{radius:o*.5},density:2e-4}),x=n.circle(f+S,t+p,d,{collisionFilter:{group:m},friction:.8}),A=n.circle(f+E,t+p,d,{collisionFilter:{group:m},friction:.8}),C=s.create({bodyB:w,pointB:{x:S,y:p},bodyA:x,stiffness:1,length:0}),T=s.create({bodyB:w,pointB:{x:E,y:p},bodyA:A,stiffness:1,length:0});return l.addBody(y,w),l.addBody(y,x),l.addBody(y,A),l.addConstraint(y,C),l.addConstraint(y,T),y},c(e,"car","Composites.car ➤ moved to car example"),e.softBody=function(f,t,a,o,d,m,M,S,E,p){E=i.extend({inertia:1/0},E),p=i.extend({stiffness:.2,render:{type:"line",anchors:!1}},p);var y=e.stack(f,t,a,o,d,m,function(w,x){return n.circle(w,x,S,E)});return e.mesh(y,a,o,M,p),y.label="Soft Body",y},c(e,"softBody","Composites.softBody ➤ moved to softBody and cloth examples")})()},function(g,P,u){var e={};g.exports=e;var l=u(9),s=u(0),i=s.deprecated;(function(){e.create=function(v){var n={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return s.extend(n,v)},e.update=function(v,n,c,f){var t,a,o,d=c.world,m=v.buckets,M,S,E=!1;for(t=0;t<n.length;t++){var p=n[t];if(!(p.isSleeping&&!f)&&!(d.bounds&&(p.bounds.max.x<d.bounds.min.x||p.bounds.min.x>d.bounds.max.x||p.bounds.max.y<d.bounds.min.y||p.bounds.min.y>d.bounds.max.y))){var y=e._getRegion(v,p);if(!p.region||y.id!==p.region.id||f){(!p.region||f)&&(p.region=y);var w=e._regionUnion(y,p.region);for(a=w.startCol;a<=w.endCol;a++)for(o=w.startRow;o<=w.endRow;o++){S=e._getBucketId(a,o),M=m[S];var x=a>=y.startCol&&a<=y.endCol&&o>=y.startRow&&o<=y.endRow,A=a>=p.region.startCol&&a<=p.region.endCol&&o>=p.region.startRow&&o<=p.region.endRow;!x&&A&&A&&M&&e._bucketRemoveBody(v,M,p),(p.region===y||x&&!A||f)&&(M||(M=e._createBucket(m,S)),e._bucketAddBody(v,M,p))}p.region=y,E=!0}}}E&&(v.pairsList=e._createActivePairsList(v))},i(e,"update","Grid.update ➤ replaced by Matter.Detector"),e.clear=function(v){v.buckets={},v.pairs={},v.pairsList=[]},i(e,"clear","Grid.clear ➤ replaced by Matter.Detector"),e._regionUnion=function(v,n){var c=Math.min(v.startCol,n.startCol),f=Math.max(v.endCol,n.endCol),t=Math.min(v.startRow,n.startRow),a=Math.max(v.endRow,n.endRow);return e._createRegion(c,f,t,a)},e._getRegion=function(v,n){var c=n.bounds,f=Math.floor(c.min.x/v.bucketWidth),t=Math.floor(c.max.x/v.bucketWidth),a=Math.floor(c.min.y/v.bucketHeight),o=Math.floor(c.max.y/v.bucketHeight);return e._createRegion(f,t,a,o)},e._createRegion=function(v,n,c,f){return{id:v+","+n+","+c+","+f,startCol:v,endCol:n,startRow:c,endRow:f}},e._getBucketId=function(v,n){return"C"+v+"R"+n},e._createBucket=function(v,n){var c=v[n]=[];return c},e._bucketAddBody=function(v,n,c){var f=v.pairs,t=l.id,a=n.length,o;for(o=0;o<a;o++){var d=n[o];if(!(c.id===d.id||c.isStatic&&d.isStatic)){var m=t(c,d),M=f[m];M?M[2]+=1:f[m]=[c,d,1]}}n.push(c)},e._bucketRemoveBody=function(v,n,c){var f=v.pairs,t=l.id,a;n.splice(s.indexOf(n,c),1);var o=n.length;for(a=0;a<o;a++){var d=f[t(c,n[a])];d&&(d[2]-=1)}},e._createActivePairsList=function(v){var n,c=v.pairs,f=s.keys(c),t=f.length,a=[],o;for(o=0;o<t;o++)n=c[f[o]],n[2]>0?a.push(n):delete c[f[o]];return a}})()},function(g,P,u){var e={};g.exports=e;var l=u(3),s=u(7),i=u(14),v=u(5),n=u(13),c=u(10),f=u(6),t=u(0),a=u(1);(function(){e.create=function(o,d){var m=(o?o.mouse:null)||(d?d.mouse:null);m||(o&&o.render&&o.render.canvas?m=i.create(o.render.canvas):d&&d.element?m=i.create(d.element):(m=i.create(),t.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var M=c.create({label:"Mouse Constraint",pointA:m.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),S={type:"mouseConstraint",mouse:m,element:null,body:null,constraint:M,collisionFilter:{category:1,mask:4294967295,group:0}},E=t.extend(S,d);return v.on(o,"beforeUpdate",function(){var p=f.allBodies(o.world);e.update(E,p),e._triggerEvents(E)}),E},e.update=function(o,d){var m=o.mouse,M=o.constraint,S=o.body;if(m.button===0){if(M.bodyB)s.set(M.bodyB,!1),M.pointA=m.position;else for(var E=0;E<d.length;E++)if(S=d[E],a.contains(S.bounds,m.position)&&n.canCollide(S.collisionFilter,o.collisionFilter))for(var p=S.parts.length>1?1:0;p<S.parts.length;p++){var y=S.parts[p];if(l.contains(y.vertices,m.position)){M.pointA=m.position,M.bodyB=o.body=S,M.pointB={x:m.position.x-S.position.x,y:m.position.y-S.position.y},M.angleB=S.angle,s.set(S,!1),v.trigger(o,"startdrag",{mouse:m,body:S});break}}}else M.bodyB=o.body=null,M.pointB=null,S&&v.trigger(o,"enddrag",{mouse:m,body:S})},e._triggerEvents=function(o){var d=o.mouse,m=d.sourceEvents;m.mousemove&&v.trigger(o,"mousemove",{mouse:d}),m.mousedown&&v.trigger(o,"mousedown",{mouse:d}),m.mouseup&&v.trigger(o,"mouseup",{mouse:d}),i.clearSourceEvents(d)}})()},function(g,P,u){var e={};g.exports=e;var l=u(2),s=u(8),i=u(1),v=u(12),n=u(3);(function(){e.collides=function(c,f){for(var t=[],a=f.length,o=c.bounds,d=s.collides,m=i.overlaps,M=0;M<a;M++){var S=f[M],E=S.parts.length,p=E===1?0:1;if(m(S.bounds,o))for(var y=p;y<E;y++){var w=S.parts[y];if(m(w.bounds,o)){var x=d(w,c);if(x){t.push(x);break}}}}return t},e.ray=function(c,f,t,a){a=a||1e-100;for(var o=l.angle(f,t),d=l.magnitude(l.sub(f,t)),m=(t.x+f.x)*.5,M=(t.y+f.y)*.5,S=v.rectangle(m,M,d,a,{angle:o}),E=e.collides(S,c),p=0;p<E.length;p+=1){var y=E[p];y.body=y.bodyB=y.bodyA}return E},e.region=function(c,f,t){for(var a=[],o=0;o<c.length;o++){var d=c[o],m=i.overlaps(d.bounds,f);(m&&!t||!m&&t)&&a.push(d)}return a},e.point=function(c,f){for(var t=[],a=0;a<c.length;a++){var o=c[a];if(i.contains(o.bounds,f))for(var d=o.parts.length===1?0:1;d<o.parts.length;d++){var m=o.parts[d];if(i.contains(m.bounds,f)&&n.contains(m.vertices,f)){t.push(o);break}}}return t}})()},function(g,P,u){var e={};g.exports=e;var l=u(4),s=u(0),i=u(6),v=u(1),n=u(5),c=u(2),f=u(14);(function(){var t,a;typeof window<"u"&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(p){window.setTimeout(function(){p(s.now())},1e3/60)},a=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),e._goodFps=30,e._goodDelta=1e3/60,e.create=function(p){var y={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!p.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},w=s.extend(y,p);return w.canvas&&(w.canvas.width=w.options.width||w.canvas.width,w.canvas.height=w.options.height||w.canvas.height),w.mouse=p.mouse,w.engine=p.engine,w.canvas=w.canvas||m(w.options.width,w.options.height),w.context=w.canvas.getContext("2d"),w.textures={},w.bounds=w.bounds||{min:{x:0,y:0},max:{x:w.canvas.width,y:w.canvas.height}},w.controller=e,w.options.showBroadphase=!1,w.options.pixelRatio!==1&&e.setPixelRatio(w,w.options.pixelRatio),s.isElement(w.element)&&w.element.appendChild(w.canvas),w},e.run=function(p){(function y(w){p.frameRequestId=t(y),o(p,w),e.world(p,w),p.context.setTransform(p.options.pixelRatio,0,0,p.options.pixelRatio,0,0),(p.options.showStats||p.options.showDebug)&&e.stats(p,p.context,w),(p.options.showPerformance||p.options.showDebug)&&e.performance(p,p.context,w),p.context.setTransform(1,0,0,1,0,0)})()},e.stop=function(p){a(p.frameRequestId)},e.setPixelRatio=function(p,y){var w=p.options,x=p.canvas;y==="auto"&&(y=M(x)),w.pixelRatio=y,x.setAttribute("data-pixel-ratio",y),x.width=w.width*y,x.height=w.height*y,x.style.width=w.width+"px",x.style.height=w.height+"px"},e.setSize=function(p,y,w){p.options.width=y,p.options.height=w,p.bounds.max.x=p.bounds.min.x+y,p.bounds.max.y=p.bounds.min.y+w,p.options.pixelRatio!==1?e.setPixelRatio(p,p.options.pixelRatio):(p.canvas.width=y,p.canvas.height=w)},e.lookAt=function(p,y,w,x){x=typeof x<"u"?x:!0,y=s.isArray(y)?y:[y],w=w||{x:0,y:0};for(var A={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},C=0;C<y.length;C+=1){var T=y[C],I=T.bounds?T.bounds.min:T.min||T.position||T,B=T.bounds?T.bounds.max:T.max||T.position||T;I&&B&&(I.x<A.min.x&&(A.min.x=I.x),B.x>A.max.x&&(A.max.x=B.x),I.y<A.min.y&&(A.min.y=I.y),B.y>A.max.y&&(A.max.y=B.y))}var R=A.max.x-A.min.x+2*w.x,D=A.max.y-A.min.y+2*w.y,F=p.canvas.height,L=p.canvas.width,O=L/F,V=R/D,N=1,b=1;V>O?b=V/O:N=O/V,p.options.hasBounds=!0,p.bounds.min.x=A.min.x,p.bounds.max.x=A.min.x+R*N,p.bounds.min.y=A.min.y,p.bounds.max.y=A.min.y+D*b,x&&(p.bounds.min.x+=R*.5-R*N*.5,p.bounds.max.x+=R*.5-R*N*.5,p.bounds.min.y+=D*.5-D*b*.5,p.bounds.max.y+=D*.5-D*b*.5),p.bounds.min.x-=w.x,p.bounds.max.x-=w.x,p.bounds.min.y-=w.y,p.bounds.max.y-=w.y,p.mouse&&(f.setScale(p.mouse,{x:(p.bounds.max.x-p.bounds.min.x)/p.canvas.width,y:(p.bounds.max.y-p.bounds.min.y)/p.canvas.height}),f.setOffset(p.mouse,p.bounds.min))},e.startViewTransform=function(p){var y=p.bounds.max.x-p.bounds.min.x,w=p.bounds.max.y-p.bounds.min.y,x=y/p.options.width,A=w/p.options.height;p.context.setTransform(p.options.pixelRatio/x,0,0,p.options.pixelRatio/A,0,0),p.context.translate(-p.bounds.min.x,-p.bounds.min.y)},e.endViewTransform=function(p){p.context.setTransform(p.options.pixelRatio,0,0,p.options.pixelRatio,0,0)},e.world=function(p,y){var w=s.now(),x=p.engine,A=x.world,C=p.canvas,T=p.context,I=p.options,B=p.timing,R=i.allBodies(A),D=i.allConstraints(A),F=I.wireframes?I.wireframeBackground:I.background,L=[],O=[],V,N={timestamp:x.timing.timestamp};if(n.trigger(p,"beforeRender",N),p.currentBackground!==F&&E(p,F),T.globalCompositeOperation="source-in",T.fillStyle="transparent",T.fillRect(0,0,C.width,C.height),T.globalCompositeOperation="source-over",I.hasBounds){for(V=0;V<R.length;V++){var b=R[V];v.overlaps(b.bounds,p.bounds)&&L.push(b)}for(V=0;V<D.length;V++){var Q=D[V],X=Q.bodyA,fe=Q.bodyB,ee=Q.pointA,H=Q.pointB;X&&(ee=c.add(X.position,Q.pointA)),fe&&(H=c.add(fe.position,Q.pointB)),!(!ee||!H)&&(v.contains(p.bounds,ee)||v.contains(p.bounds,H))&&O.push(Q)}e.startViewTransform(p),p.mouse&&(f.setScale(p.mouse,{x:(p.bounds.max.x-p.bounds.min.x)/p.options.width,y:(p.bounds.max.y-p.bounds.min.y)/p.options.height}),f.setOffset(p.mouse,p.bounds.min))}else O=D,L=R,p.options.pixelRatio!==1&&p.context.setTransform(p.options.pixelRatio,0,0,p.options.pixelRatio,0,0);!I.wireframes||x.enableSleeping&&I.showSleeping?e.bodies(p,L,T):(I.showConvexHulls&&e.bodyConvexHulls(p,L,T),e.bodyWireframes(p,L,T)),I.showBounds&&e.bodyBounds(p,L,T),(I.showAxes||I.showAngleIndicator)&&e.bodyAxes(p,L,T),I.showPositions&&e.bodyPositions(p,L,T),I.showVelocity&&e.bodyVelocity(p,L,T),I.showIds&&e.bodyIds(p,L,T),I.showSeparations&&e.separations(p,x.pairs.list,T),I.showCollisions&&e.collisions(p,x.pairs.list,T),I.showVertexNumbers&&e.vertexNumbers(p,L,T),I.showMousePosition&&e.mousePosition(p,p.mouse,T),e.constraints(O,T),I.hasBounds&&e.endViewTransform(p),n.trigger(p,"afterRender",N),B.lastElapsed=s.now()-w},e.stats=function(p,y,w){for(var x=p.engine,A=x.world,C=i.allBodies(A),T=0,I=55,B=44,R=0,D=0,F=0;F<C.length;F+=1)T+=C[F].parts.length;var L={Part:T,Body:C.length,Cons:i.allConstraints(A).length,Comp:i.allComposites(A).length,Pair:x.pairs.list.length};y.fillStyle="#0e0f19",y.fillRect(R,D,I*5.5,B),y.font="12px Arial",y.textBaseline="top",y.textAlign="right";for(var O in L){var V=L[O];y.fillStyle="#aaa",y.fillText(O,R+I,D+8),y.fillStyle="#eee",y.fillText(V,R+I,D+26),R+=I}},e.performance=function(p,y){var w=p.engine,x=p.timing,A=x.deltaHistory,C=x.elapsedHistory,T=x.timestampElapsedHistory,I=x.engineDeltaHistory,B=x.engineUpdatesHistory,R=x.engineElapsedHistory,D=w.timing.lastUpdatesPerFrame,F=w.timing.lastDelta,L=d(A),O=d(C),V=d(I),N=d(B),b=d(R),Q=d(T),X=Q/L||0,fe=Math.round(L/F),ee=1e3/L||0,H=4,te=12,$=60,Le=34,ie=10,re=69;y.fillStyle="#0e0f19",y.fillRect(0,50,te*5+$*6+22,Le),e.status(y,ie,re,$,H,A.length,Math.round(ee)+" fps",ee/e._goodFps,function(q){return A[q]/L-1}),e.status(y,ie+te+$,re,$,H,I.length,F.toFixed(2)+" dt",e._goodDelta/F,function(q){return I[q]/V-1}),e.status(y,ie+(te+$)*2,re,$,H,B.length,D+" upf",Math.pow(s.clamp(N/fe||1,0,1),4),function(q){return B[q]/N-1}),e.status(y,ie+(te+$)*3,re,$,H,R.length,b.toFixed(2)+" ut",1-D*b/e._goodFps,function(q){return R[q]/b-1}),e.status(y,ie+(te+$)*4,re,$,H,C.length,O.toFixed(2)+" rt",1-O/e._goodFps,function(q){return C[q]/O-1}),e.status(y,ie+(te+$)*5,re,$,H,T.length,X.toFixed(2)+" x",X*X*X,function(q){return(T[q]/A[q]/X||0)-1})},e.status=function(p,y,w,x,A,C,T,I,B){p.strokeStyle="#888",p.fillStyle="#444",p.lineWidth=1,p.fillRect(y,w+7,x,1),p.beginPath(),p.moveTo(y,w+7-A*s.clamp(.4*B(0),-2,2));for(var R=0;R<x;R+=1)p.lineTo(y+R,w+7-(R<C?A*s.clamp(.4*B(R),-2,2):0));p.stroke(),p.fillStyle="hsl("+s.clamp(25+95*I,0,120)+",100%,60%)",p.fillRect(y,w-7,4,4),p.font="12px Arial",p.textBaseline="middle",p.textAlign="right",p.fillStyle="#eee",p.fillText(T,y+x,w-5)},e.constraints=function(p,y){for(var w=y,x=0;x<p.length;x++){var A=p[x];if(!(!A.render.visible||!A.pointA||!A.pointB)){var C=A.bodyA,T=A.bodyB,I,B;if(C?I=c.add(C.position,A.pointA):I=A.pointA,A.render.type==="pin")w.beginPath(),w.arc(I.x,I.y,3,0,2*Math.PI),w.closePath();else{if(T?B=c.add(T.position,A.pointB):B=A.pointB,w.beginPath(),w.moveTo(I.x,I.y),A.render.type==="spring")for(var R=c.sub(B,I),D=c.perp(c.normalise(R)),F=Math.ceil(s.clamp(A.length/5,12,20)),L,O=1;O<F;O+=1)L=O%2===0?1:-1,w.lineTo(I.x+R.x*(O/F)+D.x*L*4,I.y+R.y*(O/F)+D.y*L*4);w.lineTo(B.x,B.y)}A.render.lineWidth&&(w.lineWidth=A.render.lineWidth,w.strokeStyle=A.render.strokeStyle,w.stroke()),A.render.anchors&&(w.fillStyle=A.render.strokeStyle,w.beginPath(),w.arc(I.x,I.y,3,0,2*Math.PI),w.arc(B.x,B.y,3,0,2*Math.PI),w.closePath(),w.fill())}}},e.bodies=function(p,y,w){var x=w;p.engine;var A=p.options,C=A.showInternalEdges||!A.wireframes,T,I,B,R;for(B=0;B<y.length;B++)if(T=y[B],!!T.render.visible){for(R=T.parts.length>1?1:0;R<T.parts.length;R++)if(I=T.parts[R],!!I.render.visible){if(A.showSleeping&&T.isSleeping?x.globalAlpha=.5*I.render.opacity:I.render.opacity!==1&&(x.globalAlpha=I.render.opacity),I.render.sprite&&I.render.sprite.texture&&!A.wireframes){var D=I.render.sprite,F=S(p,D.texture);x.translate(I.position.x,I.position.y),x.rotate(I.angle),x.drawImage(F,F.width*-D.xOffset*D.xScale,F.height*-D.yOffset*D.yScale,F.width*D.xScale,F.height*D.yScale),x.rotate(-I.angle),x.translate(-I.position.x,-I.position.y)}else{if(I.circleRadius)x.beginPath(),x.arc(I.position.x,I.position.y,I.circleRadius,0,2*Math.PI);else{x.beginPath(),x.moveTo(I.vertices[0].x,I.vertices[0].y);for(var L=1;L<I.vertices.length;L++)!I.vertices[L-1].isInternal||C?x.lineTo(I.vertices[L].x,I.vertices[L].y):x.moveTo(I.vertices[L].x,I.vertices[L].y),I.vertices[L].isInternal&&!C&&x.moveTo(I.vertices[(L+1)%I.vertices.length].x,I.vertices[(L+1)%I.vertices.length].y);x.lineTo(I.vertices[0].x,I.vertices[0].y),x.closePath()}A.wireframes?(x.lineWidth=1,x.strokeStyle=p.options.wireframeStrokeStyle,x.stroke()):(x.fillStyle=I.render.fillStyle,I.render.lineWidth&&(x.lineWidth=I.render.lineWidth,x.strokeStyle=I.render.strokeStyle,x.stroke()),x.fill())}x.globalAlpha=1}}},e.bodyWireframes=function(p,y,w){var x=w,A=p.options.showInternalEdges,C,T,I,B,R;for(x.beginPath(),I=0;I<y.length;I++)if(C=y[I],!!C.render.visible)for(R=C.parts.length>1?1:0;R<C.parts.length;R++){for(T=C.parts[R],x.moveTo(T.vertices[0].x,T.vertices[0].y),B=1;B<T.vertices.length;B++)!T.vertices[B-1].isInternal||A?x.lineTo(T.vertices[B].x,T.vertices[B].y):x.moveTo(T.vertices[B].x,T.vertices[B].y),T.vertices[B].isInternal&&!A&&x.moveTo(T.vertices[(B+1)%T.vertices.length].x,T.vertices[(B+1)%T.vertices.length].y);x.lineTo(T.vertices[0].x,T.vertices[0].y)}x.lineWidth=1,x.strokeStyle=p.options.wireframeStrokeStyle,x.stroke()},e.bodyConvexHulls=function(p,y,w){var x=w,A,C,T;for(x.beginPath(),C=0;C<y.length;C++)if(A=y[C],!(!A.render.visible||A.parts.length===1)){for(x.moveTo(A.vertices[0].x,A.vertices[0].y),T=1;T<A.vertices.length;T++)x.lineTo(A.vertices[T].x,A.vertices[T].y);x.lineTo(A.vertices[0].x,A.vertices[0].y)}x.lineWidth=1,x.strokeStyle="rgba(255,255,255,0.2)",x.stroke()},e.vertexNumbers=function(p,y,w){var x=w,A,C,T;for(A=0;A<y.length;A++){var I=y[A].parts;for(T=I.length>1?1:0;T<I.length;T++){var B=I[T];for(C=0;C<B.vertices.length;C++)x.fillStyle="rgba(255,255,255,0.2)",x.fillText(A+"_"+C,B.position.x+(B.vertices[C].x-B.position.x)*.8,B.position.y+(B.vertices[C].y-B.position.y)*.8)}}},e.mousePosition=function(p,y,w){var x=w;x.fillStyle="rgba(255,255,255,0.8)",x.fillText(y.position.x+"  "+y.position.y,y.position.x+5,y.position.y-5)},e.bodyBounds=function(p,y,w){var x=w;p.engine;var A=p.options;x.beginPath();for(var C=0;C<y.length;C++){var T=y[C];if(T.render.visible)for(var I=y[C].parts,B=I.length>1?1:0;B<I.length;B++){var R=I[B];x.rect(R.bounds.min.x,R.bounds.min.y,R.bounds.max.x-R.bounds.min.x,R.bounds.max.y-R.bounds.min.y)}}A.wireframes?x.strokeStyle="rgba(255,255,255,0.08)":x.strokeStyle="rgba(0,0,0,0.1)",x.lineWidth=1,x.stroke()},e.bodyAxes=function(p,y,w){var x=w;p.engine;var A=p.options,C,T,I,B;for(x.beginPath(),T=0;T<y.length;T++){var R=y[T],D=R.parts;if(R.render.visible)if(A.showAxes)for(I=D.length>1?1:0;I<D.length;I++)for(C=D[I],B=0;B<C.axes.length;B++){var F=C.axes[B];x.moveTo(C.position.x,C.position.y),x.lineTo(C.position.x+F.x*20,C.position.y+F.y*20)}else for(I=D.length>1?1:0;I<D.length;I++)for(C=D[I],B=0;B<C.axes.length;B++)x.moveTo(C.position.x,C.position.y),x.lineTo((C.vertices[0].x+C.vertices[C.vertices.length-1].x)/2,(C.vertices[0].y+C.vertices[C.vertices.length-1].y)/2)}A.wireframes?(x.strokeStyle="indianred",x.lineWidth=1):(x.strokeStyle="rgba(255, 255, 255, 0.4)",x.globalCompositeOperation="overlay",x.lineWidth=2),x.stroke(),x.globalCompositeOperation="source-over"},e.bodyPositions=function(p,y,w){var x=w;p.engine;var A=p.options,C,T,I,B;for(x.beginPath(),I=0;I<y.length;I++)if(C=y[I],!!C.render.visible)for(B=0;B<C.parts.length;B++)T=C.parts[B],x.arc(T.position.x,T.position.y,3,0,2*Math.PI,!1),x.closePath();for(A.wireframes?x.fillStyle="indianred":x.fillStyle="rgba(0,0,0,0.5)",x.fill(),x.beginPath(),I=0;I<y.length;I++)C=y[I],C.render.visible&&(x.arc(C.positionPrev.x,C.positionPrev.y,2,0,2*Math.PI,!1),x.closePath());x.fillStyle="rgba(255,165,0,0.8)",x.fill()},e.bodyVelocity=function(p,y,w){var x=w;x.beginPath();for(var A=0;A<y.length;A++){var C=y[A];if(C.render.visible){var T=l.getVelocity(C);x.moveTo(C.position.x,C.position.y),x.lineTo(C.position.x+T.x,C.position.y+T.y)}}x.lineWidth=3,x.strokeStyle="cornflowerblue",x.stroke()},e.bodyIds=function(p,y,w){var x=w,A,C;for(A=0;A<y.length;A++)if(y[A].render.visible){var T=y[A].parts;for(C=T.length>1?1:0;C<T.length;C++){var I=T[C];x.font="12px Arial",x.fillStyle="rgba(255,255,255,0.5)",x.fillText(I.id,I.position.x+10,I.position.y-10)}}},e.collisions=function(p,y,w){var x=w,A=p.options,C,T,I,B;for(x.beginPath(),I=0;I<y.length;I++)if(C=y[I],!!C.isActive)for(T=C.collision,B=0;B<C.contactCount;B++){var R=C.contacts[B],D=R.vertex;x.rect(D.x-1.5,D.y-1.5,3.5,3.5)}for(A.wireframes?x.fillStyle="rgba(255,255,255,0.7)":x.fillStyle="orange",x.fill(),x.beginPath(),I=0;I<y.length;I++)if(C=y[I],!!C.isActive&&(T=C.collision,C.contactCount>0)){var F=C.contacts[0].vertex.x,L=C.contacts[0].vertex.y;C.contactCount===2&&(F=(C.contacts[0].vertex.x+C.contacts[1].vertex.x)/2,L=(C.contacts[0].vertex.y+C.contacts[1].vertex.y)/2),T.bodyB===T.supports[0].body||T.bodyA.isStatic===!0?x.moveTo(F-T.normal.x*8,L-T.normal.y*8):x.moveTo(F+T.normal.x*8,L+T.normal.y*8),x.lineTo(F,L)}A.wireframes?x.strokeStyle="rgba(255,165,0,0.7)":x.strokeStyle="orange",x.lineWidth=1,x.stroke()},e.separations=function(p,y,w){var x=w,A=p.options,C,T,I,B,R;for(x.beginPath(),R=0;R<y.length;R++)if(C=y[R],!!C.isActive){T=C.collision,I=T.bodyA,B=T.bodyB;var D=1;!B.isStatic&&!I.isStatic&&(D=.5),B.isStatic&&(D=0),x.moveTo(B.position.x,B.position.y),x.lineTo(B.position.x-T.penetration.x*D,B.position.y-T.penetration.y*D),D=1,!B.isStatic&&!I.isStatic&&(D=.5),I.isStatic&&(D=0),x.moveTo(I.position.x,I.position.y),x.lineTo(I.position.x+T.penetration.x*D,I.position.y+T.penetration.y*D)}A.wireframes?x.strokeStyle="rgba(255,165,0,0.5)":x.strokeStyle="orange",x.stroke()},e.inspector=function(p,y){p.engine;var w=p.selected,x=p.render,A=x.options,C;if(A.hasBounds){var T=x.bounds.max.x-x.bounds.min.x,I=x.bounds.max.y-x.bounds.min.y,B=T/x.options.width,R=I/x.options.height;y.scale(1/B,1/R),y.translate(-x.bounds.min.x,-x.bounds.min.y)}for(var D=0;D<w.length;D++){var F=w[D].data;switch(y.translate(.5,.5),y.lineWidth=1,y.strokeStyle="rgba(255,165,0,0.9)",y.setLineDash([1,2]),F.type){case"body":C=F.bounds,y.beginPath(),y.rect(Math.floor(C.min.x-3),Math.floor(C.min.y-3),Math.floor(C.max.x-C.min.x+6),Math.floor(C.max.y-C.min.y+6)),y.closePath(),y.stroke();break;case"constraint":var L=F.pointA;F.bodyA&&(L=F.pointB),y.beginPath(),y.arc(L.x,L.y,10,0,2*Math.PI),y.closePath(),y.stroke();break}y.setLineDash([]),y.translate(-.5,-.5)}p.selectStart!==null&&(y.translate(.5,.5),y.lineWidth=1,y.strokeStyle="rgba(255,165,0,0.6)",y.fillStyle="rgba(255,165,0,0.1)",C=p.selectBounds,y.beginPath(),y.rect(Math.floor(C.min.x),Math.floor(C.min.y),Math.floor(C.max.x-C.min.x),Math.floor(C.max.y-C.min.y)),y.closePath(),y.stroke(),y.fill(),y.translate(-.5,-.5)),A.hasBounds&&y.setTransform(1,0,0,1,0,0)};var o=function(p,y){var w=p.engine,x=p.timing,A=x.historySize,C=w.timing.timestamp;x.delta=y-x.lastTime||e._goodDelta,x.lastTime=y,x.timestampElapsed=C-x.lastTimestamp||0,x.lastTimestamp=C,x.deltaHistory.unshift(x.delta),x.deltaHistory.length=Math.min(x.deltaHistory.length,A),x.engineDeltaHistory.unshift(w.timing.lastDelta),x.engineDeltaHistory.length=Math.min(x.engineDeltaHistory.length,A),x.timestampElapsedHistory.unshift(x.timestampElapsed),x.timestampElapsedHistory.length=Math.min(x.timestampElapsedHistory.length,A),x.engineUpdatesHistory.unshift(w.timing.lastUpdatesPerFrame),x.engineUpdatesHistory.length=Math.min(x.engineUpdatesHistory.length,A),x.engineElapsedHistory.unshift(w.timing.lastElapsed),x.engineElapsedHistory.length=Math.min(x.engineElapsedHistory.length,A),x.elapsedHistory.unshift(x.lastElapsed),x.elapsedHistory.length=Math.min(x.elapsedHistory.length,A)},d=function(p){for(var y=0,w=0;w<p.length;w+=1)y+=p[w];return y/p.length||0},m=function(p,y){var w=document.createElement("canvas");return w.width=p,w.height=y,w.oncontextmenu=function(){return!1},w.onselectstart=function(){return!1},w},M=function(p){var y=p.getContext("2d"),w=window.devicePixelRatio||1,x=y.webkitBackingStorePixelRatio||y.mozBackingStorePixelRatio||y.msBackingStorePixelRatio||y.oBackingStorePixelRatio||y.backingStorePixelRatio||1;return w/x},S=function(p,y){var w=p.textures[y];return w||(w=p.textures[y]=new Image,w.src=y,w)},E=function(p,y){var w=y;/(jpg|gif|png)$/.test(y)&&(w="url("+y+")"),p.canvas.style.background=w,p.canvas.style.backgroundSize="contain",p.currentBackground=y}})()},function(g,P,u){var e={};g.exports=e;var l=u(5),s=u(17),i=u(0);(function(){e._maxFrameDelta=1e3/15,e._frameDeltaFallback=1e3/60,e._timeBufferMargin=1.5,e._elapsedNextEstimate=1,e._smoothingLowerBound=.1,e._smoothingUpperBound=.9,e.create=function(n){var c={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},f=i.extend(c,n);return f.fps=0,f},e.run=function(n,c){return n.timeBuffer=e._frameDeltaFallback,function f(t){n.frameRequestId=e._onNextFrame(n,f),t&&n.enabled&&e.tick(n,c,t)}(),n},e.tick=function(n,c,f){var t=i.now(),a=n.delta,o=0,d=f-n.timeLastTick;if((!d||!n.timeLastTick||d>Math.max(e._maxFrameDelta,n.maxFrameTime))&&(d=n.frameDelta||e._frameDeltaFallback),n.frameDeltaSmoothing){n.frameDeltaHistory.push(d),n.frameDeltaHistory=n.frameDeltaHistory.slice(-n.frameDeltaHistorySize);var m=n.frameDeltaHistory.slice(0).sort(),M=n.frameDeltaHistory.slice(m.length*e._smoothingLowerBound,m.length*e._smoothingUpperBound),S=v(M);d=S||d}n.frameDeltaSnapping&&(d=1e3/Math.round(1e3/d)),n.frameDelta=d,n.timeLastTick=f,n.timeBuffer+=n.frameDelta,n.timeBuffer=i.clamp(n.timeBuffer,0,n.frameDelta+a*e._timeBufferMargin),n.lastUpdatesDeferred=0;var E=n.maxUpdates||Math.ceil(n.maxFrameTime/a),p={timestamp:c.timing.timestamp};l.trigger(n,"beforeTick",p),l.trigger(n,"tick",p);for(var y=i.now();a>0&&n.timeBuffer>=a*e._timeBufferMargin;){l.trigger(n,"beforeUpdate",p),s.update(c,a),l.trigger(n,"afterUpdate",p),n.timeBuffer-=a,o+=1;var w=i.now()-t,x=i.now()-y,A=w+e._elapsedNextEstimate*x/o;if(o>=E||A>n.maxFrameTime){n.lastUpdatesDeferred=Math.round(Math.max(0,n.timeBuffer/a-e._timeBufferMargin));break}}c.timing.lastUpdatesPerFrame=o,l.trigger(n,"afterTick",p),n.frameDeltaHistory.length>=100&&(n.lastUpdatesDeferred&&Math.round(n.frameDelta/a)>E?i.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):n.lastUpdatesDeferred&&i.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof n.isFixed<"u"&&i.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(n.deltaMin||n.deltaMax)&&i.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),n.fps!==0&&i.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},e.stop=function(n){e._cancelNextFrame(n)},e._onNextFrame=function(n,c){if(typeof window<"u"&&window.requestAnimationFrame)n.frameRequestId=window.requestAnimationFrame(c);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return n.frameRequestId},e._cancelNextFrame=function(n){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(n.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var v=function(n){for(var c=0,f=n.length,t=0;t<f;t+=1)c+=n[t];return c/f||0}})()},function(g,P,u){var e={};g.exports=e;var l=u(8),s=u(0),i=s.deprecated;(function(){e.collides=function(v,n){return l.collides(v,n)},i(e,"collides","SAT.collides ➤ replaced by Collision.collides")})()},function(g,P,u){var e={};g.exports=e,u(1);var l=u(0);(function(){e.pathToVertices=function(s,i){typeof window<"u"&&!("SVGPathSeg"in window)&&l.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var v,n,c,f,t,a,o,d,m,M,S=[],E,p,y=0,w=0,x=0;i=i||15;var A=function(T,I,B){var R=B%2===1&&B>1;if(!m||T!=m.x||I!=m.y){m&&R?(E=m.x,p=m.y):(E=0,p=0);var D={x:E+T,y:p+I};(R||!m)&&(m=D),S.push(D),w=E+T,x=p+I}},C=function(T){var I=T.pathSegTypeAsLetter.toUpperCase();if(I!=="Z"){switch(I){case"M":case"L":case"T":case"C":case"S":case"Q":w=T.x,x=T.y;break;case"H":w=T.x;break;case"V":x=T.y;break}A(w,x,T.pathSegType)}};for(e._svgPathToAbsolute(s),c=s.getTotalLength(),a=[],v=0;v<s.pathSegList.numberOfItems;v+=1)a.push(s.pathSegList.getItem(v));for(o=a.concat();y<c;){if(M=s.getPathSegAtLength(y),t=a[M],t!=d){for(;o.length&&o[0]!=t;)C(o.shift());d=t}switch(t.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":f=s.getPointAtLength(y),A(f.x,f.y,0);break}y+=i}for(v=0,n=o.length;v<n;++v)C(o[v]);return S},e._svgPathToAbsolute=function(s){for(var i,v,n,c,f,t,a=s.pathSegList,o=0,d=0,m=a.numberOfItems,M=0;M<m;++M){var S=a.getItem(M),E=S.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(E))"x"in S&&(o=S.x),"y"in S&&(d=S.y);else switch("x1"in S&&(n=o+S.x1),"x2"in S&&(f=o+S.x2),"y1"in S&&(c=d+S.y1),"y2"in S&&(t=d+S.y2),"x"in S&&(o+=S.x),"y"in S&&(d+=S.y),E){case"m":a.replaceItem(s.createSVGPathSegMovetoAbs(o,d),M);break;case"l":a.replaceItem(s.createSVGPathSegLinetoAbs(o,d),M);break;case"h":a.replaceItem(s.createSVGPathSegLinetoHorizontalAbs(o),M);break;case"v":a.replaceItem(s.createSVGPathSegLinetoVerticalAbs(d),M);break;case"c":a.replaceItem(s.createSVGPathSegCurvetoCubicAbs(o,d,n,c,f,t),M);break;case"s":a.replaceItem(s.createSVGPathSegCurvetoCubicSmoothAbs(o,d,f,t),M);break;case"q":a.replaceItem(s.createSVGPathSegCurvetoQuadraticAbs(o,d,n,c),M);break;case"t":a.replaceItem(s.createSVGPathSegCurvetoQuadraticSmoothAbs(o,d),M);break;case"a":a.replaceItem(s.createSVGPathSegArcAbs(o,d,S.r1,S.r2,S.angle,S.largeArcFlag,S.sweepFlag),M);break;case"z":case"Z":o=i,d=v;break}(E=="M"||E=="m")&&(i=o,v=d)}}})()},function(g,P,u){var e={};g.exports=e;var l=u(6);u(0),function(){e.create=l.create,e.add=l.add,e.remove=l.remove,e.clear=l.clear,e.addComposite=l.addComposite,e.addBody=l.addBody,e.addConstraint=l.addConstraint}()}])})})(Yn);var U=Yn.exports,pr=(r,h,g)=>{W(h,le(r.layerX)),W(g,le(r.layerY))},mr=De("<br>"),xr=De('<span class="svelte-1tzawzt"> </span>'),yr=De("<!> <!>",1),Sr=De('<figure class="svelte-1tzawzt"><!></figure>');function wr(r,h){ct(h,!0);let g=ge(h,"text",7),P=ge(h,"element",7),u=ge(h,"trimTop",3,.3),e=ge(h,"trimBottom",3,.15),l=ge(h,"canvas",3,!1),s=Z(!1),i=Z(void 0),v=Z(void 0),n,c,f,t=tt(()=>P().getBoundingClientRect()),a=Z(void 0);const o="gjqpy",d="lidtfjkb";_t(()=>{if(window.innerWidth<750)return;g().style.display="none",P().style.position="relative",getComputedStyle(P());const S=40;P().style.padding="0",n=U.Engine.create({enableSleeping:!0}),c=l()?U.Render.create({element:P(),engine:n,options:{pixelRatio:window.devicePixelRatio,width:k(t).width,height:k(t).height,wireframes:!1,background:"transparent"}}):void 0;const E=Array.from(k(a).querySelectorAll("span").values()).map((B,R)=>{const D=B.innerText,F=d.includes(D),L=o.includes(D),{x:O,y:V,w:N,h:b}={x:B.offsetLeft,w:B.offsetWidth,y:B.offsetTop+B.offsetHeight*(F?.12:u()),h:B.offsetHeight*(1-(F?.12:u())-(L?0:e()))};return{ascending:F,descending:L,x:O,y:V,w:N,h:b,adjustX:B.offsetWidth/2,adjustY:B.offsetHeight/2,span:B,body:U.Body.create({slop:0,restitution:.1,parts:[U.Bodies.rectangle(O+N/2,B.offsetTop+B.offsetHeight/2,N,B.offsetHeight,{isSensor:!0,render:{fillStyle:"black",opacity:.5}}),U.Bodies.rectangle(O+N/2,V+b/2,N,b,{chamfer:{radius:N/4},density:0,render:{opacity:.5}})]})}}),p=5e3,y=U.Bodies.rectangle(k(t).width/2,-p,k(t).width,S+p*2,{isStatic:!0,friction:0}),w=U.Bodies.rectangle(k(t).width+p,k(t).height/2,S+p*2,k(t).height,{isStatic:!0,friction:0}),x=U.Bodies.rectangle(k(t).width/2,k(t).height+p,k(t).width,S+p*2,{isStatic:!0,friction:0}),A=U.Bodies.rectangle(-p,k(t).height/2,S+p*2,k(t).height,{isStatic:!0,friction:0}),C=U.Bodies.circle(0,0,100,{isStatic:!0,slop:0,render:{fillStyle:"green",opacity:.5}});U.Composite.add(n.world,[...E.map(B=>B.body),C,y,w,x,A]);const T=Tt.subscribe(B=>{!B||!B.w||(U.Body.scale(C,B.w/220,B.h/220),T())});Tt.subscribe(B=>{!B||!B.x||!k(i)||(U.Body.setPosition(C,{x:k(i),y:k(v)},!0),E.forEach(R=>{U.Sleeping.set(R.body,!1)}))}),W(s,!0),c&&U.Render.run(c),f=U.Runner.create(),U.Runner.run(f,n);function I(){E.forEach(({span:B,body:R})=>{!R.isSleeping&&R.position.x&&(B.style.transform=`translate3d(${R.position.x}px, ${R.position.y}px, 0) rotate(${R.angle}rad)`)})}return E.forEach(({span:B,adjustX:R,adjustY:D,w:F,h:L,ascending:O,descending:V})=>{B.style.left=R*-1+"px",B.style.top=D*-1+"px"}),U.Events.on(n,"afterUpdate",I),()=>{U.Render.stop(c),U.Runner.stop(f),U.Events.off(n,"afterUpdate",I),U.World.clear(n.world,!1),U.Engine.clear(n),c&&(c.canvas.remove(),c.canvas=null,c.context=null,c.textures={})}});var m=Sr();m.__pointermove=[pr,i,v];var M=nt(m);nr(M,()=>g().tagName,!1,(S,E)=>{ur(S,x=>W(a,le(x)),()=>k(a));let p;Ve(()=>p=sr(S,p,{class:g().className},"svelte-1tzawzt"));var y=tr(),w=rn(y);un(w,65,()=>g().innerHTML.trim().split("<br>"),fn,(x,A,C)=>{var T=yr(),I=rn(T);Xi(I,()=>xt(C)!==0,R=>{var D=mr();he(R,D)});var B=an(an(I,!0));un(B,65,()=>Array.from(xt(A)).filter((R,D)=>D<12),fn,(R,D,F)=>{var L=xr(),O=nt(L);Ve(()=>Yi(O,xt(D))),he(R,L)}),he(x,T)}),he(E,y)}),Ve(()=>Kn(m,"ready",k(s))),he(r,m),vt()}zn(["pointermove"]);var Pr=De('<figure class="svelte-kps8cw"><img alt="Doodle" class="svelte-kps8cw"></figure>');function Cr(r,h){ct(h,!0);let g=ge(h,"element",7);_t(()=>{g().style.position="relative"});var P=Pr(),u=nt(P);Ve(()=>{Ne(P,"left",`${h.left}%`),Ne(P,"top",`${h.top}%`),Ne(P,"width",`${h.size}vw`),dt(u,"src",h.src)}),he(r,P),vt()}console.log("Gourmando");document.querySelectorAll("[data-cursor]").forEach(r=>{Nt(gr,{target:r,props:{src:r.getAttribute("data-cursor"),element:r}})});document.querySelectorAll("[data-doodle]").forEach(r=>{const h=r.parentElement.nextElementSibling;Nt(Cr,{target:h,props:{src:r.getAttribute("data-doodle"),top:Number(r.getAttribute("data-doodle-top")),left:Number(r.getAttribute("data-doodle-left")),size:Number(r.getAttribute("data-doodle-size")),element:h}})});document.querySelectorAll("[data-physics]").forEach(r=>{Nt(wr,{target:r,props:{text:r.querySelector("[data-physics-text]"),element:r}})});

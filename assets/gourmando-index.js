var ei=Object.defineProperty;var Zt=i=>{throw TypeError(i)};var ti=(i,g,d)=>g in i?ei(i,g,{enumerable:!0,configurable:!0,writable:!0,value:d}):i[g]=d;var Xt=(i,g,d)=>ti(i,typeof g!="symbol"?g+"":g,d),pt=(i,g,d)=>g.has(i)||Zt("Cannot "+d);var oe=(i,g,d)=>(pt(i,g,"read from private field"),d?d.call(i):g.get(i)),Fe=(i,g,d)=>g.has(i)?Zt("Cannot add the same private member more than once"):g instanceof WeakSet?g.add(i):g.set(i,d),mt=(i,g,d,P)=>(pt(i,g,"write to private field"),P?P.call(i,d):g.set(i,d),d),$t=(i,g,d)=>(pt(i,g,"access private method"),d);(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))P(u);new MutationObserver(u=>{for(const e of u)if(e.type==="childList")for(const l of e.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&P(l)}).observe(document,{childList:!0,subtree:!0});function d(u){const e={};return u.integrity&&(e.integrity=u.integrity),u.referrerPolicy&&(e.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?e.credentials="include":u.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function P(u){if(u.ep)return;u.ep=!0;const e=d(u);fetch(u.href,e)}})();var Bt=Array.isArray,ni=Array.from,dn=Object.isFrozen,pn=Object.defineProperty,St=Object.getOwnPropertyDescriptor,ii=Object.getOwnPropertyDescriptors,ri=Object.prototype,ai=Array.prototype,wt=Object.getPrototypeOf;const me=2,mn=4,Te=8,xn=16,ae=32,Rt=64,ye=128,Je=256,ne=512,ge=1024,Ie=2048,xe=4096,Be=8192,si=16384,Dt=32768,oi=65536,li=1<<18,J=Symbol("$state"),yn=Symbol("$state.frozen"),fi=Symbol("");function Sn(i){return i===this.v}function wn(i,g){return i!=i?g==g:i!==g||i!==null&&typeof i=="object"||typeof i=="function"}function Lt(i){return!wn(i,this.v)}function ui(i){throw new Error("effect_in_teardown")}function ci(){throw new Error("effect_in_unowned_derived")}function vi(i){throw new Error("effect_orphan")}function hi(){throw new Error("effect_update_depth_exceeded")}function gi(i){throw new Error("props_invalid_value")}function di(){throw new Error("state_unsafe_mutation")}function X(i){return{f:0,v:i,reactions:null,equals:Sn,version:0}}function qe(i){var d;const g=X(i);return g.equals=Lt,G!==null&&G.l!==null&&((d=G.l).s??(d.s=[])).push(g),g}function K(i,g){return z!==null&&Mt()&&z.f&me&&di(),i.equals(g)||(i.v=g,i.version=On(),Pn(i,ge),Mt()&&_!==null&&_.f&ne&&!(_.f&ae)&&(Q!==null&&Q.includes(i)?(j(_,ge),ut(_)):he===null?Ui([i]):he.push(i))),g}function Pn(i,g){var d=i.reactions;if(d!==null)for(var P=Mt(),u=d.length,e=0;e<u;e++){var l=d[e],s=l.f;s&ge||!P&&l===_||(j(l,g),s&(ne|ye)&&(s&me?Pn(l,Ie):ut(l)))}}function pi(i){_===null&&z===null&&vi(),z!==null&&z.f&ye&&ci(),Vt&&ui()}function Jt(i,g){var d=g.last;d===null?g.last=g.first=i:(d.next=i,i.prev=d,g.last=i)}function Re(i,g,d,P=!0){var u=(i&Rt)!==0,e={ctx:G,deps:null,nodes:null,f:i|ge,first:null,fn:g,last:null,next:null,parent:u?null:_,prev:null,teardown:null,transitions:null,version:0};if(d){var l=Pe;try{jt(!0),ft(e),e.f|=si}finally{jt(l)}}else g!==null&&ut(e);var s=d&&e.deps===null&&e.first===null&&e.nodes===null&&e.teardown===null;return!s&&!u&&P&&(_!==null&&Jt(e,_),z!==null&&z.f&me&&Jt(e,z)),e}function mi(i){const g=Re(Te,null,!1);return j(g,ne),g.teardown=i,g}function xi(i){pi();var g=_!==null&&(_.f&Te)!==0&&G!==null&&!G.m;if(g){var d=G;(d.e??(d.e=[])).push(i)}else{var P=ot(i);return P}}function yi(i){const g=Re(Rt,i,!0);return()=>{ze(g)}}function ot(i){return Re(mn,i,!1)}function Cn(i){return Re(Te,i,!0)}function Ve(i){return Cn(i)}function Ft(i,g=0){return Re(Te|xn|g,i,!0)}function Ae(i,g=!0){return Re(Te|ae,i,!0,g)}function Mn(i){var g=i.teardown;if(g!==null){const d=Vt,P=z;en(!0),tn(null);try{g.call(null)}finally{en(d),tn(P)}}}function ze(i,g=!0){var d=!1;if((g||i.f&li)&&i.nodes!==null){for(var P=i.nodes.start,u=i.nodes.end;P!==null;){var e=P===u?null:P.nextSibling;P.remove(),P=e}d=!0}if(Ht(i,g&&!d),lt(i,0),j(i,Be),i.transitions)for(const s of i.transitions)s.stop();Mn(i);var l=i.parent;l!==null&&i.f&ae&&l.first!==null&&En(i),i.next=i.prev=i.teardown=i.ctx=i.deps=i.parent=i.fn=i.nodes=null}function En(i){var g=i.parent,d=i.prev,P=i.next;d!==null&&(d.next=P),P!==null&&(P.prev=d),g!==null&&(g.first===i&&(g.first=P),g.last===i&&(g.last=d))}function je(i,g){var d=[];Ot(i,d,!0),An(d,()=>{ze(i),g&&g()})}function An(i,g){var d=i.length;if(d>0){var P=()=>--d||g();for(var u of i)u.out(P)}else g()}function Ot(i,g,d){if(!(i.f&xe)){if(i.f^=xe,i.transitions!==null)for(const l of i.transitions)(l.is_global||d)&&g.push(l);for(var P=i.first;P!==null;){var u=P.next,e=(P.f&Dt)!==0||(P.f&ae)!==0;Ot(P,g,e?d:!1),P=u}}}function Ne(i){Tn(i,!0)}function Tn(i,g){if(i.f&xe){i.f^=xe,Ke(i)&&ft(i);for(var d=i.first;d!==null;){var P=d.next,u=(d.f&Dt)!==0||(d.f&ae)!==0;Tn(d,u?g:!1),d=P}if(i.transitions!==null)for(const e of i.transitions)(e.is_global||g)&&e.in()}}const Ue=1,kt=2,Si=4,wi=8,Pi=16,Pt=64,Ci=1,Mi=2,Ei=4,Ai=8,Ti=1,Ii=2,Oe=Symbol(),Bi=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"],Ri=["touchstart","touchmove","touchend"],Di={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"},In="http://www.w3.org/2000/svg";function Li(i,g="exclude-on"){return i.endsWith("capture")?g=="exclude-on"?i!=="gotpointercapture"&&i!=="lostpointercapture":i!=="ongotpointercapture"&&i!=="onlostpointercapture":!1}function le(i,g=!0,d=null,P){if(typeof i=="object"&&i!=null&&!dn(i)&&!(yn in i)){if(J in i){const e=i[J];if(e.t===i||e.p===i)return e.p}const u=wt(i);if(u===ri||u===ai){const e=new Proxy(i,Fi);return pn(i,J,{value:{s:new Map,v:X(0),a:Bt(i),i:g,p:e,t:i},writable:!0,enumerable:!1}),e}}return i}function qt(i,g=1){K(i,i.v+g)}const Fi={defineProperty(i,g,d){if(d.value){const P=i[J],u=P.s.get(g);u!==void 0&&K(u,le(d.value,P.i,P))}return Reflect.defineProperty(i,g,d)},deleteProperty(i,g){const d=i[J],P=d.s.get(g),u=d.a,e=delete i[g];if(u&&e){const l=d.s.get("length"),s=i.length-1;l!==void 0&&l.v!==s&&K(l,s)}return P!==void 0&&K(P,Oe),e&&qt(d.v),e},get(i,g,d){var e;if(g===J)return Reflect.get(i,J);const P=i[J];let u=P.s.get(g);if(u===void 0&&(!(g in i)||(e=St(i,g))!=null&&e.writable)&&(u=(P.i?X:qe)(le(i[g],P.i,P)),P.s.set(g,u)),u!==void 0){const l=V(u);return l===Oe?void 0:l}return Reflect.get(i,g,d)},getOwnPropertyDescriptor(i,g){const d=Reflect.getOwnPropertyDescriptor(i,g);if(d&&"value"in d){const u=i[J].s.get(g);u&&(d.value=V(u))}return d},has(i,g){var e;if(g===J)return!0;const d=i[J],P=Reflect.has(i,g);let u=d.s.get(g);return(u!==void 0||_!==null&&(!P||(e=St(i,g))!=null&&e.writable))&&(u===void 0&&(u=(d.i?X:qe)(P?le(i[g],d.i,d):Oe),d.s.set(g,u)),V(u)===Oe)?!1:P},set(i,g,d,P){const u=i[J];let e=u.s.get(g);e===void 0&&(Qe(()=>P[g]),e=u.s.get(g)),e!==void 0&&K(e,le(d,u.i,u));const l=u.a,s=!(g in i);if(l&&g==="length")for(let r=d;r<i.length;r+=1){const v=u.s.get(r+"");v!==void 0&&K(v,Oe)}if(i[g]=d,s){if(l){const r=u.s.get("length"),v=i.length;r!==void 0&&r.v!==v&&K(r,v)}qt(u.v)}return!0},ownKeys(i){const g=i[J];return V(g.v),Reflect.ownKeys(i)}},He=()=>{};function Oi(i){for(var g=0;g<i.length;g++)i[g]()}let et=!1,Ct=[];function Bn(){et=!1;const i=Ct.slice();Ct=[],Oi(i)}function Ge(i){et||(et=!0,queueMicrotask(Bn)),Ct.push(i)}function ki(){et&&Bn()}function tt(i){let g=me|ge;_===null&&(g|=ye);const d={deps:null,deriveds:null,equals:Sn,f:g,first:null,fn:i,last:null,reactions:null,v:null,version:0};if(z!==null&&z.f&me){var P=z;P.deriveds===null?P.deriveds=[d]:P.deriveds.push(d)}return d}function Vi(i){const g=tt(i);return g.equals=Lt,g}function Rn(i){Ht(i);var g=i.deriveds;if(g!==null){i.deriveds=null;for(var d=0;d<g.length;d+=1)Hi(g[d])}}function Dn(i){Rn(i);var g=kn(i),d=(we||i.f&ye)&&i.deps!==null?Ie:ne;j(i,d),i.equals(g)||(i.v=g,i.version=On())}function Hi(i){Rn(i),lt(i,0),j(i,Be),i.first=i.last=i.deps=i.reactions=i.fn=null}function _i(i){throw new Error("lifecycle_outside_component")}const Ln=0,Ni=1;let $e=Ln,We=!1,Pe=!1,Vt=!1;function jt(i){Pe=i}function en(i){Vt=i}let pe=[],Ce=0,z=null;function tn(i){z=i}let _=null,Q=null,Y=0,he=null;function Ui(i){he=i}let Fn=0,we=!1,G=null;function On(){return Fn++}function Mt(){return G!==null&&G.l===null}function Ke(i){var l;var g=i.f;if(g&ge)return!0;if(g&Ie){var d=i.deps;if(d!==null)for(var P=(g&ye)!==0,u=0;u<d.length;u++){var e=d[u];if(Ke(e)&&Dn(e),e.version>i.version)return!0;P&&!we&&!((l=e==null?void 0:e.reactions)!=null&&l.includes(i))&&(e.reactions??(e.reactions=[])).push(i)}j(i,ne)}return!1}function Wi(i,g,d){throw i}function kn(i){var g=Q,d=Y,P=he,u=z,e=we;Q=null,Y=0,he=null,z=i.f&(ae|Rt)?null:i,we=!Pe&&(i.f&ye)!==0;try{var l=(0,i.fn)(),s=i.deps;if(Q!==null){var r,v;if(s!==null){var n=Y===0?Q:s.slice(0,Y).concat(Q),c=n.length>16?new Set(n):null;for(v=Y;v<s.length;v++)r=s[v],(c!==null?!c.has(r):!n.includes(r))&&Vn(i,r)}if(s!==null&&Y>0)for(s.length=Y+Q.length,v=0;v<Q.length;v++)s[Y+v]=Q[v];else i.deps=s=Q;if(!we)for(v=Y;v<s.length;v++){r=s[v];var f=r.reactions;f===null?r.reactions=[i]:f[f.length-1]!==i&&!f.includes(i)&&f.push(i)}}else s!==null&&Y<s.length&&(lt(i,Y),s.length=Y);return l}finally{Q=g,Y=d,he=P,z=u,we=e}}function Vn(i,g){const d=g.reactions;let P=0;if(d!==null){P=d.length-1;const u=d.indexOf(i);u!==-1&&(P===0?g.reactions=null:(d[u]=d[P],d.pop()))}P===0&&g.f&me&&(j(g,Ie),g.f&(ye|Je)||(g.f^=Je),lt(g,0))}function lt(i,g){var d=i.deps;if(d!==null)for(var P=g===0?null:d.slice(0,g),u=new Set,e=g;e<d.length;e++){var l=d[e];u.has(l)||(u.add(l),(P===null||!P.includes(l))&&Vn(i,l))}}function Ht(i,g=!1){var d=i.first;for(i.first=i.last=null;d!==null;){var P=d.next;ze(d,g),d=P}}function ft(i){var g=i.f;if(!(g&Be)){j(i,ne);var d=i.ctx,P=_,u=G;_=i,G=d;try{g&xn||Ht(i),Mn(i);var e=kn(i);i.teardown=typeof e=="function"?e:null,i.version=Fn}catch(l){Wi(l)}finally{_=P,G=u}}}function Hn(){Ce>1e3&&(Ce=0,hi()),Ce++}function _n(i){var g=i.length;if(g!==0){Hn();var d=Pe;Pe=!0;try{for(var P=0;P<g;P++){var u=i[P];if(u.first===null&&!(u.f&ae))nn([u]);else{var e=[];Nn(u,e),nn(e)}}}finally{Pe=d}}}function nn(i){var g=i.length;if(g!==0)for(var d=0;d<g;d++){var P=i[d];!(P.f&(Be|xe))&&Ke(P)&&(ft(P),P.deps===null&&P.first===null&&P.nodes===null&&(P.teardown===null?En(P):P.fn=null))}}function bi(){if(We=!1,Ce>1001)return;const i=pe;pe=[],_n(i),We||(Ce=0)}function ut(i){$e===Ln&&(We||(We=!0,queueMicrotask(bi)));for(var g=i;g.parent!==null;){g=g.parent;var d=g.f;if(d&ae){if(!(d&ne))return;j(g,Ie)}}pe.push(g)}function Nn(i,g){var d=i.first,P=[];e:for(;d!==null;){var u=d.f,e=(u&(Be|xe))===0,l=u&ae,s=(u&ne)!==0,r=d.first;if(e&&(!l||!s)){if(l&&j(d,ne),u&Te){if(!l&&Ke(d)&&(ft(d),r=d.first),r!==null){d=r;continue}}else if(u&mn)if(l||s){if(r!==null){d=r;continue}}else P.push(d)}var v=d.next;if(v===null){let f=d.parent;for(;f!==null;){if(i===f)break e;var n=f.next;if(n!==null){d=n;continue e}f=f.parent}}d=v}for(var c=0;c<P.length;c++)r=P[c],g.push(r),Nn(r,g)}function Un(i,g=!0){var d=$e,P=pe;try{Hn();const e=[];$e=Ni,pe=e,We=!1,g&&_n(P);var u=i==null?void 0:i();return ki(),(pe.length>0||e.length>0)&&Un(),Ce=0,u}finally{$e=d,pe=P}}function V(i){var g=i.f;if(g&Be)return i.v;if(z!==null){var d=z.deps;Q===null&&d!==null&&d[Y]===i?Y++:(d===null||Y===0||d[Y-1]!==i)&&(Q===null?Q=[i]:Q[Q.length-1]!==i&&Q.push(i)),he!==null&&_!==null&&_.f&ne&&!(_.f&ae)&&he.includes(i)&&(j(_,ge),ut(_))}if(g&me){var P=i;if(Ke(P)&&Dn(P),g&Je){if(d=P.deps,d!==null)for(var u=0;u<d.length;u++){var e=d[u],l=e.reactions;l===null?e.reactions=[P]:l.includes(P)||l.push(P)}P.f^=Je}}return i.v}function Qe(i){const g=z;try{return z=null,i()}finally{z=g}}const zi=~(ge|Ie|ne);function j(i,g){i.f=i.f&zi|g}function Gi(i){return typeof i=="object"&&i!==null&&typeof i.f=="number"}function ct(i,g=!1,d){G={p:G,c:null,e:null,m:!1,s:i,x:null,l:null},g||(G.l={s:null,u:null,r1:[],r2:X(!1)})}function vt(i){const g=G;if(g!==null){const P=g.e;if(P!==null){g.e=null;for(var d=0;d<P.length;d++)ot(P[d])}G=g.p,g.m=!0}return{}}function xt(i){return Gi(i)?V(i):i}let Wn=!1;var rn,bn;function Ki(){if(rn===void 0){rn=window,bn=document;var i=Element.prototype;i.__click=void 0,i.__className="",i.__attributes=null,i.__e=void 0,Text.prototype.__t=void 0}}function _t(){return document.createTextNode("")}function nt(i){return i.firstChild}function Et(i,g){{var d=i.firstChild;return d instanceof Comment&&d.data===""?d.nextSibling:d}}function an(i,g=!1){var d=i.nextSibling;return d}function Qi(i){i.textContent=""}function it(i,g,d,P){function u(e){if(P.capture||ke.call(g,e),!e.cancelBubble)return d.call(this,e)}return i.startsWith("pointer")||i==="wheel"?Ge(()=>{g.addEventListener(i,u,P)}):g.addEventListener(i,u,P),u}function sn(i,g,d,P={}){var u=it(g,i,d,P);return()=>{i.removeEventListener(g,u,P)}}function Yi(i,g,d,P,u){var e={capture:P,passive:u},l=it(i,g,d,e);(g===document.body||g===window||g===document)&&mi(()=>{g.removeEventListener(i,l,e)})}function zn(i){for(var g=0;g<i.length;g++)Gn.add(i[g]);for(var d of At)d(i)}function ke(i){var h;var g=this,d=g.ownerDocument,P=i.type,u=((h=i.composedPath)==null?void 0:h.call(i))||[],e=u[0]||i.target,l=0,s=i.__root;if(s){var r=u.indexOf(s);if(r!==-1&&(g===document||g===window)){i.__root=g;return}var v=u.indexOf(g);if(v===-1)return;r<=v&&(l=r)}if(e=u[l]||i.target,e!==g){pn(i,"currentTarget",{configurable:!0,get(){return e||d}});try{for(var n,c=[];e!==null;){var f=e.parentNode||e.host||null;try{var t=e["__"+P];if(t!==void 0&&!e.disabled)if(Bt(t)){var[a,...o]=t;a.apply(e,[i,...o])}else t.call(e,i)}catch(m){n?c.push(m):n=m}if(i.cancelBubble||f===g||f===null)break;e=f}if(n){for(let m of c)queueMicrotask(()=>{throw m});throw n}}finally{i.__root=g,e=g}}}const Gn=new Set,At=new Set;function Zi(i,g){(i.__t??(i.__t=i.nodeValue))!==g&&(i.nodeValue=i.__t=g)}function Nt(i,g){const d=g.anchor??g.target.appendChild(_t());return Un(()=>Xi(i,{...g,anchor:d}),!1)}function Xi(i,{target:g,anchor:d,props:P={},events:u,context:e,intro:l=!1}){Ki();const s=new Set,r=c=>{for(let f=0;f<c.length;f++){const t=c[f],a=Ri.includes(t);s.has(t)||(s.add(t),g.addEventListener(t,ke,{passive:a}),document.addEventListener(t,ke,{passive:a}))}};r(ni(Gn)),At.add(r);let v;const n=yi(()=>(Ae(()=>{if(e){ct({});var c=G;c.c=e}u&&(P.$$events=u),v=i(d,P)||{},e&&vt()}),()=>{for(const c of s)g.removeEventListener(c,ke),document.removeEventListener(c,ke);At.delete(r),on.delete(v)}));return on.set(v,n),v}let on=new WeakMap;function $i(i){var g=document.createElement("template");return g.innerHTML=i,g.content}function Kn(i,g,d,P=null,u=!1){var e=null,l=null,s=null,r=u?Dt:0;Ft(()=>{s!==(s=!!g())&&(s?(e?Ne(e):e=Ae(()=>d(i)),l&&je(l,()=>{l=null})):(l?Ne(l):P&&(l=Ae(()=>P(i))),e&&je(e,()=>{e=null})))},r)}let Me=null;function ln(i){Me=i}function fn(i,g){return g}function Ji(i,g,d,P){for(var u=[],e=g.length,l=0;l<e;l++)Ot(g[l].e,u,!0);var s=e>0&&u.length===0&&d!==null;if(s){var r=d.parentNode;Qi(r),r.append(d),P.clear(),ue(i,g[0].prev,g[e-1].next)}An(u,()=>{for(var v=0;v<e;v++){var n=g[v];s||(P.delete(n.k),ue(i,n.prev,n.next)),ze(n.e,!s)}})}function un(i,g,d,P,u,e=null){var l={flags:g,items:new Map,first:null},s=null;Ft(()=>{var r=d(),v=Bt(r)?r:r==null?[]:Array.from(r),n=v.length,c=l.flags;c&Pt&&!dn(v)&&!(yn in v)&&!(J in v)&&(c^=Pt,c&Si&&!(c&Ue)&&(c^=Ue)),qi(v,l,i,u,c,P),e!==null&&(n===0?s?Ne(s):s=Ae(()=>e(i)):s!==null&&je(s,()=>{s=null}))})}function qi(i,g,d,P,u,e){var B,R,D,F;var l=(u&Pi)!==0,s=(u&(Ue|kt))!==0,r=i.length,v=g.items,n=g.first,c=n,f=new Set,t=null,a=new Set,o=[],h=[],m,M,w,E;if(l)for(E=0;E<r;E+=1)m=i[E],M=e(m,E),w=v.get(M),w!==void 0&&((B=w.a)==null||B.measure(),a.add(w));for(E=0;E<r;E+=1){if(m=i[E],M=e(m,E),w=v.get(M),w===void 0){var p=c?c.e.nodes.start:d;t=er(p,g,t,t===null?g.first:t.next,m,M,E,P,u),v.set(M,t),o=[],h=[],c=t.next;continue}if(s&&ji(w,m,E,u),w.e.f&xe&&(Ne(w.e),l&&((R=w.a)==null||R.unfix(),a.delete(w))),w!==c){if(f.has(w)){if(o.length<h.length){var x=h[0],S;t=x.prev;var y=o[0],A=o[o.length-1];for(S=0;S<o.length;S+=1)cn(o[S],x,d);for(S=0;S<h.length;S+=1)f.delete(h[S]);ue(g,y.prev,A.next),ue(g,t,y),ue(g,A,x),c=x,t=A,E-=1,o=[],h=[]}else f.delete(w),cn(w,c,d),ue(g,w.prev,w.next),ue(g,w,t===null?g.first:t.next),ue(g,t,w),t=w;continue}for(o=[],h=[];c!==null&&c.k!==M;)f.add(c),h.push(c),c=c.next;if(c===null)continue;w=c}o.push(w),t=w,c=w.next}const C=Array.from(f);for(;c!==null;)C.push(c),c=c.next;var T=C.length;if(T>0){var I=u&wi&&r===0?d:null;if(l){for(E=0;E<T;E+=1)(D=C[E].a)==null||D.measure();for(E=0;E<T;E+=1)(F=C[E].a)==null||F.fix()}Ji(g,C,I,v)}l&&Ge(()=>{var L;for(w of a)(L=w.a)==null||L.apply()}),_.first=g.first&&g.first.e,_.last=t&&t.e}function ji(i,g,d,P){P&Ue&&K(i.v,g),P&kt?K(i.i,d):i.i=d}function er(i,g,d,P,u,e,l,s,r){var v=Me;try{var n=(r&Ue)!==0,c=(r&Pt)===0,f=n?c?qe(u):X(u):u,t=r&kt?X(l):l,a={i:t,v:f,k:e,a:null,e:null,prev:d,next:P};return Me=a,a.e=Ae(()=>s(i,f,t),Wn),a.e.prev=d&&d.e,a.e.next=P&&P.e,d===null?g.first=a:(d.next=a,d.e.next=a.e),P!==null&&(P.prev=a,P.e.prev=a.e),a}finally{Me=v}}function cn(i,g,d){for(var P=i.next?i.next.e.nodes.start:d,u=g?g.e.nodes.start:d,e=i.e.nodes.start;e!==P;){var l=e.nextSibling;u.before(e),e=l}}function ue(i,g,d){g===null?i.first=d:(g.next=d,g.e.next=d&&d.e),d!==null&&(d.prev=g,d.e.prev=g&&g.e)}function rt(i,g){_.nodes??(_.nodes={start:i,end:g})}function De(i,g){var d=(g&Ti)!==0,P=(g&Ii)!==0,u,e=!i.startsWith("<!>");return()=>{u||(u=$i(e?i:"<!>"+i),d||(u=u.firstChild));var l=P?document.importNode(u,!0):u.cloneNode(!0);if(d){var s=l.firstChild,r=l.lastChild;rt(s,r)}else rt(l,l);return l}}function Qn(){var i=document.createDocumentFragment(),g=document.createComment(""),d=_t();return i.append(g,d),rt(g,d),i}function ce(i,g){i.before(g)}function tr(i,g,d,P,u,e){let l,s,r=null,v=i,n,c=Me;Ft(()=>{const f=g()||null,t=f==="svg"?In:null;if(f!==l){var a=Me;return ln(c),n&&(f===null?je(n,()=>{n=null,s=null,r==null||r.remove()}):f===s?Ne(n):ze(n)),f&&f!==s&&(n=Ae(()=>{const o=r;if(r=t?document.createElementNS(t,f):document.createElement(f),rt(r,r),o&&!Wn&&o.remove(),P){var h=r.appendChild(_t());P(r,h)}return v.before(r),He})),l=f,l&&(s=l),ln(a),He}})}function nr(i,g){if(g){const d=document.body;i.autofocus=!0,Ge(()=>{document.activeElement===d&&i.focus()})}}function ht(i,g,d){d=d==null?null:d+"";var P=i.__attributes??(i.__attributes={});P[g]!==(P[g]=d)&&(g==="loading"&&(i[fi]=d),d===null?i.removeAttribute(g):i.setAttribute(g,d))}function ir(i,g,d){if(g in i){var P=i[g],u=typeof P=="boolean"&&d===""?!0:d;(typeof P!="object"||P!==u)&&(i[g]=u)}else ht(i,g,d)}function rr(i,g,d,P,u){var e=u.length!==0,l=g||{};for(var s in g)s in d||(d[s]=null);e&&!d.class&&(d.class="");var r=vn.get(i.nodeName);r||vn.set(i.nodeName,r=or(i));var v=i.__attributes??(i.__attributes={}),n=[];for(const h in d){let m=d[h];var c=l[h];if(m!==c){l[h]=m;var f=h[0]+h[1];if(f!=="$$")if(f==="on"){const M={},w="$$"+h;let E=h.slice(2);var t=Bi.includes(E);if(Li(E)&&(E=E.slice(0,-7),M.capture=!0),!t&&c){if(m!=null)continue;i.removeEventListener(E,l[w],M),l[w]=null}if(m!=null)if(t)i[`__${E}`]=m,zn([E]);else{let p=function(x){l[h].call(this,x)};var o=p;g?l[w]=it(E,i,p,M):n.push([h,m,()=>l[w]=it(E,i,p,M)])}}else if(m==null)v[h]=null,i.removeAttribute(h);else if(h==="style")i.style.cssText=m+"";else if(h==="autofocus")nr(i,!!m);else if(h==="__value"||h==="value")i.value=i[h]=i.__value=m;else{var a=h;P&&(a=a.toLowerCase(),a=Di[a]||a),r.includes(a)?i[a]=m:typeof m!="function"&&(e&&a==="class"&&(m&&(m+=" "),m+=u),ht(i,a,m))}}}return g||Ge(()=>{if(i.isConnected)for(const[h,m,M]of n)l[h]===m&&M()}),l}function ar(i,g,d,P){if(i.tagName.includes("-")){for(var u in g)u in d||(d[u]=null);for(u in d)ir(i,u,d[u]);return d}return rr(i,g,d,i.namespaceURI!==In,P)}var sr=["width","height"],vn=new Map;function or(i){for(var g=[],d,P=wt(i);P.constructor.name!=="Element";){d=ii(P);for(var u in d)d[u].set&&!sr.includes(u)&&g.push(u);P=wt(P)}return g}function lr(i,g,d){d?i.classList.add(g):i.classList.remove(g)}function _e(i,g,d,P){const u=i.style,e=u.getPropertyValue(g);d==null?e!==""&&u.removeProperty(g):e!==d&&u.setProperty(g,d,"")}var ve,Ee,be,at,Yn;const st=class st{constructor(g){Fe(this,at);Fe(this,ve,new WeakMap);Fe(this,Ee);Fe(this,be);mt(this,be,g)}observe(g,d){var P=oe(this,ve).get(g)||new Set;return P.add(d),oe(this,ve).set(g,P),$t(this,at,Yn).call(this).observe(g,oe(this,be)),()=>{var u=oe(this,ve).get(g);u.delete(d),u.size===0&&(oe(this,ve).delete(g),oe(this,Ee).unobserve(g))}}};ve=new WeakMap,Ee=new WeakMap,be=new WeakMap,at=new WeakSet,Yn=function(){return oe(this,Ee)??mt(this,Ee,new ResizeObserver(g=>{for(var d of g){st.entries.set(d.target,d);for(var P of oe(this,ve).get(d.target)||[])P(d)}}))},Xt(st,"entries",new WeakMap);let Tt=st;var fr=new Tt({box:"border-box"});function hn(i,g,d){var P=fr.observe(i,()=>d(i[g]));ot(()=>(Qe(()=>d(i[g])),P))}function gn(i,g){var P;var d=i&&((P=i[J])==null?void 0:P.t);return i===g||d===g}function ur(i={},g,d,P){ot(()=>{var u,e;return Cn(()=>{u=e,e=[],Qe(()=>{i!==d(...e)&&(g(i,...e),u&&gn(d(...u),i)&&g(null,...u))})}),()=>{Ge(()=>{e&&gn(d(...e),i)&&g(null,...e)})}})}function de(i,g,d,P){var M;var u=(d&Ci)!==0,e=(d&Mi)!==0,l=(d&Ai)!==0,s=i[g],r=(M=St(i,g))==null?void 0:M.set,v=P,n=!0,c=()=>(l&&n&&(n=!1,v=Qe(P)),v);s===void 0&&P!==void 0&&(r&&e&&gi(),s=c(),r&&r(s));var f;if(e)f=()=>{var w=i[g];return w===void 0?c():(n=!0,w)};else{var t=(u?tt:Vi)(()=>i[g]);t.f|=oi,f=()=>{var w=V(t);return w!==void 0&&(v=void 0),w===void 0?v:w}}if(!(d&Ei))return f;if(r){var a=i.$$legacy;return function(w,E){return arguments.length>0?((!e||!E||a)&&r(E?f():w),w):f()}}var o=!1,h=qe(s),m=tt(()=>{var w=f(),E=V(h);return o?(o=!1,E):h.v=w});return u||(m.equals=Lt),function(w,E){var p=V(m);if(arguments.length>0){const x=E?V(m):w;return m.equals(x)||(o=!0,K(h,x),V(m)),w}return p}}function Ut(i){G===null&&_i(),G.l!==null?cr(G).m.push(i):xi(()=>{const g=Qe(i);if(typeof g=="function")return g})}function cr(i){var g=i.l;return g.u??(g.u={a:[],b:[],m:[]})}const vr="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(vr);const Se=[];function hr(i,g=He){let d=null;const P=new Set;function u(s){if(wn(i,s)&&(i=s,d)){const r=!Se.length;for(const v of P)v[1](),Se.push(v,i);if(r){for(let v=0;v<Se.length;v+=2)Se[v][0](Se[v+1]);Se.length=0}}}function e(s){u(s(i))}function l(s,r=He){const v=[s,r];return P.add(v),P.size===1&&(d=g(u,e)||He),s(i),()=>{P.delete(v),P.size===0&&d&&(d(),d=null)}}return{set:u,update:e,subscribe:l}}const It=hr();var gr=De('<figure class="svelte-frvz8g"><img alt="Cursor"></figure>');function dr(i,g){ct(g,!0);let d=de(g,"element",7),P=X(!1),u=X(void 0),e=X(void 0),l=X(void 0),s=X(void 0);function r(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}Ut(()=>{d().style.cursor="none";const c=sn(d(),"mouseenter",t=>{K(P,!0)}),f=sn(d(),"mouseleave",t=>{K(P,!1)});return()=>{d().style.cursor=void 0,c(),f()}});var v=Qn();Yi("mousemove",bn,c=>{r()||V(P)&&(K(u,le(c.clientX)),K(e,le(c.clientY)),It.set({x:V(u),y:V(e),w:V(l),h:V(s)}))},!1);var n=Et(v);Kn(n,()=>V(P),c=>{var f=gr(),t=nt(f);Ve(()=>{_e(f,"left",`${V(u)}px`),_e(f,"top",`${V(e)}px`),ht(t,"src",g.src)}),hn(f,"clientWidth",a=>K(l,a)),hn(f,"clientHeight",a=>K(s,a)),ce(c,f)}),ce(i,v),vt()}var yt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zn={exports:{}};/*!
 * matter-js 0.20.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(i,g){(function(P,u){i.exports=u()})(yt,function(){return function(d){var P={};function u(e){if(P[e])return P[e].exports;var l=P[e]={i:e,l:!1,exports:{}};return d[e].call(l.exports,l,l.exports,u),l.l=!0,l.exports}return u.m=d,u.c=P,u.d=function(e,l,s){u.o(e,l)||Object.defineProperty(e,l,{enumerable:!0,get:s})},u.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,l){if(l&1&&(e=u(e)),l&8||l&4&&typeof e=="object"&&e&&e.__esModule)return e;var s=Object.create(null);if(u.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),l&2&&typeof e!="string")for(var r in e)u.d(s,r,(function(v){return e[v]}).bind(null,r));return s},u.n=function(e){var l=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(l,"a",l),l},u.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)},u.p="",u(u.s=20)}([function(d,P){var u={};d.exports=u,function(){u._baseDelta=1e3/60,u._nextId=0,u._seed=0,u._nowStartTime=+new Date,u._warnedOnce={},u._decomp=null,u.extend=function(l,s){var r,v;typeof s=="boolean"?(r=2,v=s):(r=1,v=!0);for(var n=r;n<arguments.length;n++){var c=arguments[n];if(c)for(var f in c)v&&c[f]&&c[f].constructor===Object&&(!l[f]||l[f].constructor===Object)?(l[f]=l[f]||{},u.extend(l[f],v,c[f])):l[f]=c[f]}return l},u.clone=function(l,s){return u.extend({},s,l)},u.keys=function(l){if(Object.keys)return Object.keys(l);var s=[];for(var r in l)s.push(r);return s},u.values=function(l){var s=[];if(Object.keys){for(var r=Object.keys(l),v=0;v<r.length;v++)s.push(l[r[v]]);return s}for(var n in l)s.push(l[n]);return s},u.get=function(l,s,r,v){s=s.split(".").slice(r,v);for(var n=0;n<s.length;n+=1)l=l[s[n]];return l},u.set=function(l,s,r,v,n){var c=s.split(".").slice(v,n);return u.get(l,s,0,-1)[c[c.length-1]]=r,r},u.shuffle=function(l){for(var s=l.length-1;s>0;s--){var r=Math.floor(u.random()*(s+1)),v=l[s];l[s]=l[r],l[r]=v}return l},u.choose=function(l){return l[Math.floor(u.random()*l.length)]},u.isElement=function(l){return typeof HTMLElement<"u"?l instanceof HTMLElement:!!(l&&l.nodeType&&l.nodeName)},u.isArray=function(l){return Object.prototype.toString.call(l)==="[object Array]"},u.isFunction=function(l){return typeof l=="function"},u.isPlainObject=function(l){return typeof l=="object"&&l.constructor===Object},u.isString=function(l){return toString.call(l)==="[object String]"},u.clamp=function(l,s,r){return l<s?s:l>r?r:l},u.sign=function(l){return l<0?-1:1},u.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-u._nowStartTime},u.random=function(l,s){return l=typeof l<"u"?l:0,s=typeof s<"u"?s:1,l+e()*(s-l)};var e=function(){return u._seed=(u._seed*9301+49297)%233280,u._seed/233280};u.colorToNumber=function(l){return l=l.replace("#",""),l.length==3&&(l=l.charAt(0)+l.charAt(0)+l.charAt(1)+l.charAt(1)+l.charAt(2)+l.charAt(2)),parseInt(l,16)},u.logLevel=1,u.log=function(){console&&u.logLevel>0&&u.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.info=function(){console&&u.logLevel>0&&u.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.warn=function(){console&&u.logLevel>0&&u.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.warnOnce=function(){var l=Array.prototype.slice.call(arguments).join(" ");u._warnedOnce[l]||(u.warn(l),u._warnedOnce[l]=!0)},u.deprecated=function(l,s,r){l[s]=u.chain(function(){u.warnOnce("🔅 deprecated 🔅",r)},l[s])},u.nextId=function(){return u._nextId++},u.indexOf=function(l,s){if(l.indexOf)return l.indexOf(s);for(var r=0;r<l.length;r++)if(l[r]===s)return r;return-1},u.map=function(l,s){if(l.map)return l.map(s);for(var r=[],v=0;v<l.length;v+=1)r.push(s(l[v]));return r},u.topologicalSort=function(l){var s=[],r=[],v=[];for(var n in l)!r[n]&&!v[n]&&u._topologicalSort(n,r,v,l,s);return s},u._topologicalSort=function(l,s,r,v,n){var c=v[l]||[];r[l]=!0;for(var f=0;f<c.length;f+=1){var t=c[f];r[t]||s[t]||u._topologicalSort(t,s,r,v,n)}r[l]=!1,s[l]=!0,n.push(l)},u.chain=function(){for(var l=[],s=0;s<arguments.length;s+=1){var r=arguments[s];r._chained?l.push.apply(l,r._chained):l.push(r)}var v=function(){for(var n,c=new Array(arguments.length),f=0,t=arguments.length;f<t;f++)c[f]=arguments[f];for(f=0;f<l.length;f+=1){var a=l[f].apply(n,c);typeof a<"u"&&(n=a)}return n};return v._chained=l,v},u.chainPathBefore=function(l,s,r){return u.set(l,s,u.chain(r,u.get(l,s)))},u.chainPathAfter=function(l,s,r){return u.set(l,s,u.chain(u.get(l,s),r))},u.setDecomp=function(l){u._decomp=l},u.getDecomp=function(){var l=u._decomp;try{!l&&typeof window<"u"&&(l=window.decomp),!l&&typeof yt<"u"&&(l=yt.decomp)}catch{l=null}return l}}()},function(d,P){var u={};d.exports=u,function(){u.create=function(e){var l={min:{x:0,y:0},max:{x:0,y:0}};return e&&u.update(l,e),l},u.update=function(e,l,s){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var r=0;r<l.length;r++){var v=l[r];v.x>e.max.x&&(e.max.x=v.x),v.x<e.min.x&&(e.min.x=v.x),v.y>e.max.y&&(e.max.y=v.y),v.y<e.min.y&&(e.min.y=v.y)}s&&(s.x>0?e.max.x+=s.x:e.min.x+=s.x,s.y>0?e.max.y+=s.y:e.min.y+=s.y)},u.contains=function(e,l){return l.x>=e.min.x&&l.x<=e.max.x&&l.y>=e.min.y&&l.y<=e.max.y},u.overlaps=function(e,l){return e.min.x<=l.max.x&&e.max.x>=l.min.x&&e.max.y>=l.min.y&&e.min.y<=l.max.y},u.translate=function(e,l){e.min.x+=l.x,e.max.x+=l.x,e.min.y+=l.y,e.max.y+=l.y},u.shift=function(e,l){var s=e.max.x-e.min.x,r=e.max.y-e.min.y;e.min.x=l.x,e.max.x=l.x+s,e.min.y=l.y,e.max.y=l.y+r}}()},function(d,P){var u={};d.exports=u,function(){u.create=function(e,l){return{x:e||0,y:l||0}},u.clone=function(e){return{x:e.x,y:e.y}},u.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},u.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},u.rotate=function(e,l,s){var r=Math.cos(l),v=Math.sin(l);s||(s={});var n=e.x*r-e.y*v;return s.y=e.x*v+e.y*r,s.x=n,s},u.rotateAbout=function(e,l,s,r){var v=Math.cos(l),n=Math.sin(l);r||(r={});var c=s.x+((e.x-s.x)*v-(e.y-s.y)*n);return r.y=s.y+((e.x-s.x)*n+(e.y-s.y)*v),r.x=c,r},u.normalise=function(e){var l=u.magnitude(e);return l===0?{x:0,y:0}:{x:e.x/l,y:e.y/l}},u.dot=function(e,l){return e.x*l.x+e.y*l.y},u.cross=function(e,l){return e.x*l.y-e.y*l.x},u.cross3=function(e,l,s){return(l.x-e.x)*(s.y-e.y)-(l.y-e.y)*(s.x-e.x)},u.add=function(e,l,s){return s||(s={}),s.x=e.x+l.x,s.y=e.y+l.y,s},u.sub=function(e,l,s){return s||(s={}),s.x=e.x-l.x,s.y=e.y-l.y,s},u.mult=function(e,l){return{x:e.x*l,y:e.y*l}},u.div=function(e,l){return{x:e.x/l,y:e.y/l}},u.perp=function(e,l){return l=l===!0?-1:1,{x:l*-e.y,y:l*e.x}},u.neg=function(e){return{x:-e.x,y:-e.y}},u.angle=function(e,l){return Math.atan2(l.y-e.y,l.x-e.x)},u._temp=[u.create(),u.create(),u.create(),u.create(),u.create(),u.create()]}()},function(d,P,u){var e={};d.exports=e;var l=u(2),s=u(0);(function(){e.create=function(r,v){for(var n=[],c=0;c<r.length;c++){var f=r[c],t={x:f.x,y:f.y,index:c,body:v,isInternal:!1};n.push(t)}return n},e.fromPath=function(r,v){var n=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,c=[];return r.replace(n,function(f,t,a){c.push({x:parseFloat(t),y:parseFloat(a)})}),e.create(c,v)},e.centre=function(r){for(var v=e.area(r,!0),n={x:0,y:0},c,f,t,a=0;a<r.length;a++)t=(a+1)%r.length,c=l.cross(r[a],r[t]),f=l.mult(l.add(r[a],r[t]),c),n=l.add(n,f);return l.div(n,6*v)},e.mean=function(r){for(var v={x:0,y:0},n=0;n<r.length;n++)v.x+=r[n].x,v.y+=r[n].y;return l.div(v,r.length)},e.area=function(r,v){for(var n=0,c=r.length-1,f=0;f<r.length;f++)n+=(r[c].x-r[f].x)*(r[c].y+r[f].y),c=f;return v?n/2:Math.abs(n)/2},e.inertia=function(r,v){for(var n=0,c=0,f=r,t,a,o=0;o<f.length;o++)a=(o+1)%f.length,t=Math.abs(l.cross(f[a],f[o])),n+=t*(l.dot(f[a],f[a])+l.dot(f[a],f[o])+l.dot(f[o],f[o])),c+=t;return v/6*(n/c)},e.translate=function(r,v,n){n=typeof n<"u"?n:1;var c=r.length,f=v.x*n,t=v.y*n,a;for(a=0;a<c;a++)r[a].x+=f,r[a].y+=t;return r},e.rotate=function(r,v,n){if(v!==0){var c=Math.cos(v),f=Math.sin(v),t=n.x,a=n.y,o=r.length,h,m,M,w;for(w=0;w<o;w++)h=r[w],m=h.x-t,M=h.y-a,h.x=t+(m*c-M*f),h.y=a+(m*f+M*c);return r}},e.contains=function(r,v){for(var n=v.x,c=v.y,f=r.length,t=r[f-1],a,o=0;o<f;o++){if(a=r[o],(n-t.x)*(a.y-t.y)+(c-t.y)*(t.x-a.x)>0)return!1;t=a}return!0},e.scale=function(r,v,n,c){if(v===1&&n===1)return r;c=c||e.centre(r);for(var f,t,a=0;a<r.length;a++)f=r[a],t=l.sub(f,c),r[a].x=c.x+t.x*v,r[a].y=c.y+t.y*n;return r},e.chamfer=function(r,v,n,c,f){typeof v=="number"?v=[v]:v=v||[8],n=typeof n<"u"?n:-1,c=c||2,f=f||14;for(var t=[],a=0;a<r.length;a++){var o=r[a-1>=0?a-1:r.length-1],h=r[a],m=r[(a+1)%r.length],M=v[a<v.length?a:v.length-1];if(M===0){t.push(h);continue}var w=l.normalise({x:h.y-o.y,y:o.x-h.x}),E=l.normalise({x:m.y-h.y,y:h.x-m.x}),p=Math.sqrt(2*Math.pow(M,2)),x=l.mult(s.clone(w),M),S=l.normalise(l.mult(l.add(w,E),.5)),y=l.sub(h,l.mult(S,p)),A=n;n===-1&&(A=Math.pow(M,.32)*1.75),A=s.clamp(A,c,f),A%2===1&&(A+=1);for(var C=Math.acos(l.dot(w,E)),T=C/A,I=0;I<A;I++)t.push(l.add(l.rotate(x,T*I),y))}return t},e.clockwiseSort=function(r){var v=e.mean(r);return r.sort(function(n,c){return l.angle(v,n)-l.angle(v,c)}),r},e.isConvex=function(r){var v=0,n=r.length,c,f,t,a;if(n<3)return null;for(c=0;c<n;c++)if(f=(c+1)%n,t=(c+2)%n,a=(r[f].x-r[c].x)*(r[t].y-r[f].y),a-=(r[f].y-r[c].y)*(r[t].x-r[f].x),a<0?v|=1:a>0&&(v|=2),v===3)return!1;return v!==0?!0:null},e.hull=function(r){var v=[],n=[],c,f;for(r=r.slice(0),r.sort(function(t,a){var o=t.x-a.x;return o!==0?o:t.y-a.y}),f=0;f<r.length;f+=1){for(c=r[f];n.length>=2&&l.cross3(n[n.length-2],n[n.length-1],c)<=0;)n.pop();n.push(c)}for(f=r.length-1;f>=0;f-=1){for(c=r[f];v.length>=2&&l.cross3(v[v.length-2],v[v.length-1],c)<=0;)v.pop();v.push(c)}return v.pop(),n.pop(),v.concat(n)}})()},function(d,P,u){var e={};d.exports=e;var l=u(3),s=u(2),r=u(7),v=u(0),n=u(1),c=u(11);(function(){e._timeCorrection=!0,e._inertiaScale=4,e._nextCollidingGroupId=1,e._nextNonCollidingGroupId=-1,e._nextCategory=1,e._baseDelta=1e3/60,e.create=function(t){var a={id:v.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:l.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},o=v.extend(a,t);return f(o,t),o},e.nextGroup=function(t){return t?e._nextNonCollidingGroupId--:e._nextCollidingGroupId++},e.nextCategory=function(){return e._nextCategory=e._nextCategory<<1,e._nextCategory};var f=function(t,a){a=a||{},e.set(t,{bounds:t.bounds||n.create(t.vertices),positionPrev:t.positionPrev||s.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),l.rotate(t.vertices,t.angle,t.position),c.rotate(t.axes,t.angle),n.update(t.bounds,t.vertices,t.velocity),e.set(t,{axes:a.axes||t.axes,area:a.area||t.area,mass:a.mass||t.mass,inertia:a.inertia||t.inertia});var o=t.isStatic?"#14151f":v.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),h=t.isStatic?"#555":"#ccc",m=t.isStatic&&t.render.fillStyle===null?1:0;t.render.fillStyle=t.render.fillStyle||o,t.render.strokeStyle=t.render.strokeStyle||h,t.render.lineWidth=t.render.lineWidth||m,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};e.set=function(t,a,o){var h;typeof a=="string"&&(h=a,a={},a[h]=o);for(h in a)if(Object.prototype.hasOwnProperty.call(a,h))switch(o=a[h],h){case"isStatic":e.setStatic(t,o);break;case"isSleeping":r.set(t,o);break;case"mass":e.setMass(t,o);break;case"density":e.setDensity(t,o);break;case"inertia":e.setInertia(t,o);break;case"vertices":e.setVertices(t,o);break;case"position":e.setPosition(t,o);break;case"angle":e.setAngle(t,o);break;case"velocity":e.setVelocity(t,o);break;case"angularVelocity":e.setAngularVelocity(t,o);break;case"speed":e.setSpeed(t,o);break;case"angularSpeed":e.setAngularSpeed(t,o);break;case"parts":e.setParts(t,o);break;case"centre":e.setCentre(t,o);break;default:t[h]=o}},e.setStatic=function(t,a){for(var o=0;o<t.parts.length;o++){var h=t.parts[o];a?(h.isStatic||(h._original={restitution:h.restitution,friction:h.friction,mass:h.mass,inertia:h.inertia,density:h.density,inverseMass:h.inverseMass,inverseInertia:h.inverseInertia}),h.restitution=0,h.friction=1,h.mass=h.inertia=h.density=1/0,h.inverseMass=h.inverseInertia=0,h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.anglePrev=h.angle,h.angularVelocity=0,h.speed=0,h.angularSpeed=0,h.motion=0):h._original&&(h.restitution=h._original.restitution,h.friction=h._original.friction,h.mass=h._original.mass,h.inertia=h._original.inertia,h.density=h._original.density,h.inverseMass=h._original.inverseMass,h.inverseInertia=h._original.inverseInertia,h._original=null),h.isStatic=a}},e.setMass=function(t,a){var o=t.inertia/(t.mass/6);t.inertia=o*(a/6),t.inverseInertia=1/t.inertia,t.mass=a,t.inverseMass=1/t.mass,t.density=t.mass/t.area},e.setDensity=function(t,a){e.setMass(t,a*t.area),t.density=a},e.setInertia=function(t,a){t.inertia=a,t.inverseInertia=1/t.inertia},e.setVertices=function(t,a){a[0].body===t?t.vertices=a:t.vertices=l.create(a,t),t.axes=c.fromVertices(t.vertices),t.area=l.area(t.vertices),e.setMass(t,t.density*t.area);var o=l.centre(t.vertices);l.translate(t.vertices,o,-1),e.setInertia(t,e._inertiaScale*l.inertia(t.vertices,t.mass)),l.translate(t.vertices,t.position),n.update(t.bounds,t.vertices,t.velocity)},e.setParts=function(t,a,o){var h;for(a=a.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,h=0;h<a.length;h++){var m=a[h];m!==t&&(m.parent=t,t.parts.push(m))}if(t.parts.length!==1){if(o=typeof o<"u"?o:!0,o){var M=[];for(h=0;h<a.length;h++)M=M.concat(a[h].vertices);l.clockwiseSort(M);var w=l.hull(M),E=l.centre(w);e.setVertices(t,w),l.translate(t.vertices,E)}var p=e._totalProperties(t);t.area=p.area,t.parent=t,t.position.x=p.centre.x,t.position.y=p.centre.y,t.positionPrev.x=p.centre.x,t.positionPrev.y=p.centre.y,e.setMass(t,p.mass),e.setInertia(t,p.inertia),e.setPosition(t,p.centre)}},e.setCentre=function(t,a,o){o?(t.positionPrev.x+=a.x,t.positionPrev.y+=a.y,t.position.x+=a.x,t.position.y+=a.y):(t.positionPrev.x=a.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=a.y-(t.position.y-t.positionPrev.y),t.position.x=a.x,t.position.y=a.y)},e.setPosition=function(t,a,o){var h=s.sub(a,t.position);o?(t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.velocity.x=h.x,t.velocity.y=h.y,t.speed=s.magnitude(h)):(t.positionPrev.x+=h.x,t.positionPrev.y+=h.y);for(var m=0;m<t.parts.length;m++){var M=t.parts[m];M.position.x+=h.x,M.position.y+=h.y,l.translate(M.vertices,h),n.update(M.bounds,M.vertices,t.velocity)}},e.setAngle=function(t,a,o){var h=a-t.angle;o?(t.anglePrev=t.angle,t.angularVelocity=h,t.angularSpeed=Math.abs(h)):t.anglePrev+=h;for(var m=0;m<t.parts.length;m++){var M=t.parts[m];M.angle+=h,l.rotate(M.vertices,h,t.position),c.rotate(M.axes,h),n.update(M.bounds,M.vertices,t.velocity),m>0&&s.rotateAbout(M.position,h,t.position,M.position)}},e.setVelocity=function(t,a){var o=t.deltaTime/e._baseDelta;t.positionPrev.x=t.position.x-a.x*o,t.positionPrev.y=t.position.y-a.y*o,t.velocity.x=(t.position.x-t.positionPrev.x)/o,t.velocity.y=(t.position.y-t.positionPrev.y)/o,t.speed=s.magnitude(t.velocity)},e.getVelocity=function(t){var a=e._baseDelta/t.deltaTime;return{x:(t.position.x-t.positionPrev.x)*a,y:(t.position.y-t.positionPrev.y)*a}},e.getSpeed=function(t){return s.magnitude(e.getVelocity(t))},e.setSpeed=function(t,a){e.setVelocity(t,s.mult(s.normalise(e.getVelocity(t)),a))},e.setAngularVelocity=function(t,a){var o=t.deltaTime/e._baseDelta;t.anglePrev=t.angle-a*o,t.angularVelocity=(t.angle-t.anglePrev)/o,t.angularSpeed=Math.abs(t.angularVelocity)},e.getAngularVelocity=function(t){return(t.angle-t.anglePrev)*e._baseDelta/t.deltaTime},e.getAngularSpeed=function(t){return Math.abs(e.getAngularVelocity(t))},e.setAngularSpeed=function(t,a){e.setAngularVelocity(t,v.sign(e.getAngularVelocity(t))*a)},e.translate=function(t,a,o){e.setPosition(t,s.add(t.position,a),o)},e.rotate=function(t,a,o,h){if(!o)e.setAngle(t,t.angle+a,h);else{var m=Math.cos(a),M=Math.sin(a),w=t.position.x-o.x,E=t.position.y-o.y;e.setPosition(t,{x:o.x+(w*m-E*M),y:o.y+(w*M+E*m)},h),e.setAngle(t,t.angle+a,h)}},e.scale=function(t,a,o,h){var m=0,M=0;h=h||t.position;for(var w=0;w<t.parts.length;w++){var E=t.parts[w];l.scale(E.vertices,a,o,h),E.axes=c.fromVertices(E.vertices),E.area=l.area(E.vertices),e.setMass(E,t.density*E.area),l.translate(E.vertices,{x:-E.position.x,y:-E.position.y}),e.setInertia(E,e._inertiaScale*l.inertia(E.vertices,E.mass)),l.translate(E.vertices,{x:E.position.x,y:E.position.y}),w>0&&(m+=E.area,M+=E.inertia),E.position.x=h.x+(E.position.x-h.x)*a,E.position.y=h.y+(E.position.y-h.y)*o,n.update(E.bounds,E.vertices,t.velocity)}t.parts.length>1&&(t.area=m,t.isStatic||(e.setMass(t,t.density*m),e.setInertia(t,M))),t.circleRadius&&(a===o?t.circleRadius*=a:t.circleRadius=null)},e.update=function(t,a){a=(typeof a<"u"?a:1e3/60)*t.timeScale;var o=a*a,h=e._timeCorrection?a/(t.deltaTime||a):1,m=1-t.frictionAir*(a/v._baseDelta),M=(t.position.x-t.positionPrev.x)*h,w=(t.position.y-t.positionPrev.y)*h;t.velocity.x=M*m+t.force.x/t.mass*o,t.velocity.y=w*m+t.force.y/t.mass*o,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.deltaTime=a,t.angularVelocity=(t.angle-t.anglePrev)*m*h+t.torque/t.inertia*o,t.anglePrev=t.angle,t.angle+=t.angularVelocity;for(var E=0;E<t.parts.length;E++){var p=t.parts[E];l.translate(p.vertices,t.velocity),E>0&&(p.position.x+=t.velocity.x,p.position.y+=t.velocity.y),t.angularVelocity!==0&&(l.rotate(p.vertices,t.angularVelocity,t.position),c.rotate(p.axes,t.angularVelocity),E>0&&s.rotateAbout(p.position,t.angularVelocity,t.position,p.position)),n.update(p.bounds,p.vertices,t.velocity)}},e.updateVelocities=function(t){var a=e._baseDelta/t.deltaTime,o=t.velocity;o.x=(t.position.x-t.positionPrev.x)*a,o.y=(t.position.y-t.positionPrev.y)*a,t.speed=Math.sqrt(o.x*o.x+o.y*o.y),t.angularVelocity=(t.angle-t.anglePrev)*a,t.angularSpeed=Math.abs(t.angularVelocity)},e.applyForce=function(t,a,o){var h={x:a.x-t.position.x,y:a.y-t.position.y};t.force.x+=o.x,t.force.y+=o.y,t.torque+=h.x*o.y-h.y*o.x},e._totalProperties=function(t){for(var a={mass:0,area:0,inertia:0,centre:{x:0,y:0}},o=t.parts.length===1?0:1;o<t.parts.length;o++){var h=t.parts[o],m=h.mass!==1/0?h.mass:1;a.mass+=m,a.area+=h.area,a.inertia+=h.inertia,a.centre=s.add(a.centre,s.mult(h.position,m))}return a.centre=s.div(a.centre,a.mass),a}})()},function(d,P,u){var e={};d.exports=e;var l=u(0);(function(){e.on=function(s,r,v){for(var n=r.split(" "),c,f=0;f<n.length;f++)c=n[f],s.events=s.events||{},s.events[c]=s.events[c]||[],s.events[c].push(v);return v},e.off=function(s,r,v){if(!r){s.events={};return}typeof r=="function"&&(v=r,r=l.keys(s.events).join(" "));for(var n=r.split(" "),c=0;c<n.length;c++){var f=s.events[n[c]],t=[];if(v&&f)for(var a=0;a<f.length;a++)f[a]!==v&&t.push(f[a]);s.events[n[c]]=t}},e.trigger=function(s,r,v){var n,c,f,t,a=s.events;if(a&&l.keys(a).length>0){v||(v={}),n=r.split(" ");for(var o=0;o<n.length;o++)if(c=n[o],f=a[c],f){t=l.clone(v,!1),t.name=c,t.source=s;for(var h=0;h<f.length;h++)f[h].apply(s,[t])}}}})()},function(d,P,u){var e={};d.exports=e;var l=u(5),s=u(0),r=u(1),v=u(4);(function(){e.create=function(n){return s.extend({id:s.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},n)},e.setModified=function(n,c,f,t){if(n.isModified=c,c&&n.cache&&(n.cache.allBodies=null,n.cache.allConstraints=null,n.cache.allComposites=null),f&&n.parent&&e.setModified(n.parent,c,f,t),t)for(var a=0;a<n.composites.length;a++){var o=n.composites[a];e.setModified(o,c,f,t)}},e.add=function(n,c){var f=[].concat(c);l.trigger(n,"beforeAdd",{object:c});for(var t=0;t<f.length;t++){var a=f[t];switch(a.type){case"body":if(a.parent!==a){s.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}e.addBody(n,a);break;case"constraint":e.addConstraint(n,a);break;case"composite":e.addComposite(n,a);break;case"mouseConstraint":e.addConstraint(n,a.constraint);break}}return l.trigger(n,"afterAdd",{object:c}),n},e.remove=function(n,c,f){var t=[].concat(c);l.trigger(n,"beforeRemove",{object:c});for(var a=0;a<t.length;a++){var o=t[a];switch(o.type){case"body":e.removeBody(n,o,f);break;case"constraint":e.removeConstraint(n,o,f);break;case"composite":e.removeComposite(n,o,f);break;case"mouseConstraint":e.removeConstraint(n,o.constraint);break}}return l.trigger(n,"afterRemove",{object:c}),n},e.addComposite=function(n,c){return n.composites.push(c),c.parent=n,e.setModified(n,!0,!0,!1),n},e.removeComposite=function(n,c,f){var t=s.indexOf(n.composites,c);if(t!==-1){var a=e.allBodies(c);e.removeCompositeAt(n,t);for(var o=0;o<a.length;o++)a[o].sleepCounter=0}if(f)for(var o=0;o<n.composites.length;o++)e.removeComposite(n.composites[o],c,!0);return n},e.removeCompositeAt=function(n,c){return n.composites.splice(c,1),e.setModified(n,!0,!0,!1),n},e.addBody=function(n,c){return n.bodies.push(c),e.setModified(n,!0,!0,!1),n},e.removeBody=function(n,c,f){var t=s.indexOf(n.bodies,c);if(t!==-1&&(e.removeBodyAt(n,t),c.sleepCounter=0),f)for(var a=0;a<n.composites.length;a++)e.removeBody(n.composites[a],c,!0);return n},e.removeBodyAt=function(n,c){return n.bodies.splice(c,1),e.setModified(n,!0,!0,!1),n},e.addConstraint=function(n,c){return n.constraints.push(c),e.setModified(n,!0,!0,!1),n},e.removeConstraint=function(n,c,f){var t=s.indexOf(n.constraints,c);if(t!==-1&&e.removeConstraintAt(n,t),f)for(var a=0;a<n.composites.length;a++)e.removeConstraint(n.composites[a],c,!0);return n},e.removeConstraintAt=function(n,c){return n.constraints.splice(c,1),e.setModified(n,!0,!0,!1),n},e.clear=function(n,c,f){if(f)for(var t=0;t<n.composites.length;t++)e.clear(n.composites[t],c,!0);return c?n.bodies=n.bodies.filter(function(a){return a.isStatic}):n.bodies.length=0,n.constraints.length=0,n.composites.length=0,e.setModified(n,!0,!0,!1),n},e.allBodies=function(n){if(n.cache&&n.cache.allBodies)return n.cache.allBodies;for(var c=[].concat(n.bodies),f=0;f<n.composites.length;f++)c=c.concat(e.allBodies(n.composites[f]));return n.cache&&(n.cache.allBodies=c),c},e.allConstraints=function(n){if(n.cache&&n.cache.allConstraints)return n.cache.allConstraints;for(var c=[].concat(n.constraints),f=0;f<n.composites.length;f++)c=c.concat(e.allConstraints(n.composites[f]));return n.cache&&(n.cache.allConstraints=c),c},e.allComposites=function(n){if(n.cache&&n.cache.allComposites)return n.cache.allComposites;for(var c=[].concat(n.composites),f=0;f<n.composites.length;f++)c=c.concat(e.allComposites(n.composites[f]));return n.cache&&(n.cache.allComposites=c),c},e.get=function(n,c,f){var t,a;switch(f){case"body":t=e.allBodies(n);break;case"constraint":t=e.allConstraints(n);break;case"composite":t=e.allComposites(n).concat(n);break}return t?(a=t.filter(function(o){return o.id.toString()===c.toString()}),a.length===0?null:a[0]):null},e.move=function(n,c,f){return e.remove(n,c),e.add(f,c),n},e.rebase=function(n){for(var c=e.allBodies(n).concat(e.allConstraints(n)).concat(e.allComposites(n)),f=0;f<c.length;f++)c[f].id=s.nextId();return n},e.translate=function(n,c,f){for(var t=f?e.allBodies(n):n.bodies,a=0;a<t.length;a++)v.translate(t[a],c);return n},e.rotate=function(n,c,f,t){for(var a=Math.cos(c),o=Math.sin(c),h=t?e.allBodies(n):n.bodies,m=0;m<h.length;m++){var M=h[m],w=M.position.x-f.x,E=M.position.y-f.y;v.setPosition(M,{x:f.x+(w*a-E*o),y:f.y+(w*o+E*a)}),v.rotate(M,c)}return n},e.scale=function(n,c,f,t,a){for(var o=a?e.allBodies(n):n.bodies,h=0;h<o.length;h++){var m=o[h],M=m.position.x-t.x,w=m.position.y-t.y;v.setPosition(m,{x:t.x+M*c,y:t.y+w*f}),v.scale(m,c,f)}return n},e.bounds=function(n){for(var c=e.allBodies(n),f=[],t=0;t<c.length;t+=1){var a=c[t];f.push(a.bounds.min,a.bounds.max)}return r.create(f)}})()},function(d,P,u){var e={};d.exports=e;var l=u(4),s=u(5),r=u(0);(function(){e._motionWakeThreshold=.18,e._motionSleepThreshold=.08,e._minBias=.9,e.update=function(v,n){for(var c=n/r._baseDelta,f=e._motionSleepThreshold,t=0;t<v.length;t++){var a=v[t],o=l.getSpeed(a),h=l.getAngularSpeed(a),m=o*o+h*h;if(a.force.x!==0||a.force.y!==0){e.set(a,!1);continue}var M=Math.min(a.motion,m),w=Math.max(a.motion,m);a.motion=e._minBias*M+(1-e._minBias)*w,a.sleepThreshold>0&&a.motion<f?(a.sleepCounter+=1,a.sleepCounter>=a.sleepThreshold/c&&e.set(a,!0)):a.sleepCounter>0&&(a.sleepCounter-=1)}},e.afterCollisions=function(v){for(var n=e._motionSleepThreshold,c=0;c<v.length;c++){var f=v[c];if(f.isActive){var t=f.collision,a=t.bodyA.parent,o=t.bodyB.parent;if(!(a.isSleeping&&o.isSleeping||a.isStatic||o.isStatic)&&(a.isSleeping||o.isSleeping)){var h=a.isSleeping&&!a.isStatic?a:o,m=h===a?o:a;!h.isStatic&&m.motion>n&&e.set(h,!1)}}}},e.set=function(v,n){var c=v.isSleeping;n?(v.isSleeping=!0,v.sleepCounter=v.sleepThreshold,v.positionImpulse.x=0,v.positionImpulse.y=0,v.positionPrev.x=v.position.x,v.positionPrev.y=v.position.y,v.anglePrev=v.angle,v.speed=0,v.angularSpeed=0,v.motion=0,c||s.trigger(v,"sleepStart")):(v.isSleeping=!1,v.sleepCounter=0,c&&s.trigger(v,"sleepEnd"))}})()},function(d,P,u){var e={};d.exports=e;var l=u(3),s=u(9);(function(){var r=[],v={overlap:0,axis:null},n={overlap:0,axis:null};e.create=function(c,f){return{pair:null,collided:!1,bodyA:c,bodyB:f,parentA:c.parent,parentB:f.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},e.collides=function(c,f,t){if(e._overlapAxes(v,c.vertices,f.vertices,c.axes),v.overlap<=0||(e._overlapAxes(n,f.vertices,c.vertices,f.axes),n.overlap<=0))return null;var a=t&&t.table[s.id(c,f)],o;a?o=a.collision:(o=e.create(c,f),o.collided=!0,o.bodyA=c.id<f.id?c:f,o.bodyB=c.id<f.id?f:c,o.parentA=o.bodyA.parent,o.parentB=o.bodyB.parent),c=o.bodyA,f=o.bodyB;var h;v.overlap<n.overlap?h=v:h=n;var m=o.normal,M=o.tangent,w=o.penetration,E=o.supports,p=h.overlap,x=h.axis,S=x.x,y=x.y,A=f.position.x-c.position.x,C=f.position.y-c.position.y;S*A+y*C>=0&&(S=-S,y=-y),m.x=S,m.y=y,M.x=-y,M.y=S,w.x=S*p,w.y=y*p,o.depth=p;var T=e._findSupports(c,f,m,1),I=0;if(l.contains(c.vertices,T[0])&&(E[I++]=T[0]),l.contains(c.vertices,T[1])&&(E[I++]=T[1]),I<2){var B=e._findSupports(f,c,m,-1);l.contains(f.vertices,B[0])&&(E[I++]=B[0]),I<2&&l.contains(f.vertices,B[1])&&(E[I++]=B[1])}return I===0&&(E[I++]=T[0]),o.supportCount=I,o},e._overlapAxes=function(c,f,t,a){var o=f.length,h=t.length,m=f[0].x,M=f[0].y,w=t[0].x,E=t[0].y,p=a.length,x=Number.MAX_VALUE,S=0,y,A,C,T,I,B;for(I=0;I<p;I++){var R=a[I],D=R.x,F=R.y,L=m*D+M*F,O=w*D+E*F,k=L,N=O;for(B=1;B<o;B+=1)T=f[B].x*D+f[B].y*F,T>k?k=T:T<L&&(L=T);for(B=1;B<h;B+=1)T=t[B].x*D+t[B].y*F,T>N?N=T:T<O&&(O=T);if(A=k-O,C=N-L,y=A<C?A:C,y<x&&(x=y,S=I,y<=0))break}c.axis=a[S],c.overlap=x},e._findSupports=function(c,f,t,a){var o=f.vertices,h=o.length,m=c.position.x,M=c.position.y,w=t.x*a,E=t.y*a,p=o[0],x=p,S=w*(m-x.x)+E*(M-x.y),y,A,C;for(C=1;C<h;C+=1)x=o[C],A=w*(m-x.x)+E*(M-x.y),A<S&&(S=A,p=x);return y=o[(h+p.index-1)%h],S=w*(m-y.x)+E*(M-y.y),x=o[(p.index+1)%h],w*(m-x.x)+E*(M-x.y)<S?(r[0]=p,r[1]=x,r):(r[0]=p,r[1]=y,r)}})()},function(d,P,u){var e={};d.exports=e;var l=u(16);(function(){e.create=function(s,r){var v=s.bodyA,n=s.bodyB,c={id:e.id(v,n),bodyA:v,bodyB:n,collision:s,contacts:[l.create(),l.create()],contactCount:0,separation:0,isActive:!0,isSensor:v.isSensor||n.isSensor,timeCreated:r,timeUpdated:r,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return e.update(c,s,r),c},e.update=function(s,r,v){var n=r.supports,c=r.supportCount,f=s.contacts,t=r.parentA,a=r.parentB;s.isActive=!0,s.timeUpdated=v,s.collision=r,s.separation=r.depth,s.inverseMass=t.inverseMass+a.inverseMass,s.friction=t.friction<a.friction?t.friction:a.friction,s.frictionStatic=t.frictionStatic>a.frictionStatic?t.frictionStatic:a.frictionStatic,s.restitution=t.restitution>a.restitution?t.restitution:a.restitution,s.slop=t.slop>a.slop?t.slop:a.slop,s.contactCount=c,r.pair=s;var o=n[0],h=f[0],m=n[1],M=f[1];(M.vertex===o||h.vertex===m)&&(f[1]=h,f[0]=h=M,M=f[1]),h.vertex=o,M.vertex=m},e.setActive=function(s,r,v){r?(s.isActive=!0,s.timeUpdated=v):(s.isActive=!1,s.contactCount=0)},e.id=function(s,r){return s.id<r.id?s.id.toString(36)+":"+r.id.toString(36):r.id.toString(36)+":"+s.id.toString(36)}})()},function(d,P,u){var e={};d.exports=e;var l=u(3),s=u(2),r=u(7),v=u(1),n=u(11),c=u(0);(function(){e._warming=.4,e._torqueDampen=1,e._minLength=1e-6,e.create=function(f){var t=f;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var a=t.bodyA?s.add(t.bodyA.position,t.pointA):t.pointA,o=t.bodyB?s.add(t.bodyB.position,t.pointB):t.pointB,h=s.magnitude(s.sub(a,o));t.length=typeof t.length<"u"?t.length:h,t.id=t.id||c.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var m={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return t.length===0&&t.stiffness>.1?(m.type="pin",m.anchors=!1):t.stiffness<.9&&(m.type="spring"),t.render=c.extend(m,t.render),t},e.preSolveAll=function(f){for(var t=0;t<f.length;t+=1){var a=f[t],o=a.constraintImpulse;a.isStatic||o.x===0&&o.y===0&&o.angle===0||(a.position.x+=o.x,a.position.y+=o.y,a.angle+=o.angle)}},e.solveAll=function(f,t){for(var a=c.clamp(t/c._baseDelta,0,1),o=0;o<f.length;o+=1){var h=f[o],m=!h.bodyA||h.bodyA&&h.bodyA.isStatic,M=!h.bodyB||h.bodyB&&h.bodyB.isStatic;(m||M)&&e.solve(f[o],a)}for(o=0;o<f.length;o+=1)h=f[o],m=!h.bodyA||h.bodyA&&h.bodyA.isStatic,M=!h.bodyB||h.bodyB&&h.bodyB.isStatic,!m&&!M&&e.solve(f[o],a)},e.solve=function(f,t){var a=f.bodyA,o=f.bodyB,h=f.pointA,m=f.pointB;if(!(!a&&!o)){a&&!a.isStatic&&(s.rotate(h,a.angle-f.angleA,h),f.angleA=a.angle),o&&!o.isStatic&&(s.rotate(m,o.angle-f.angleB,m),f.angleB=o.angle);var M=h,w=m;if(a&&(M=s.add(a.position,h)),o&&(w=s.add(o.position,m)),!(!M||!w)){var E=s.sub(M,w),p=s.magnitude(E);p<e._minLength&&(p=e._minLength);var x=(p-f.length)/p,S=f.stiffness>=1||f.length===0,y=S?f.stiffness*t:f.stiffness*t*t,A=f.damping*t,C=s.mult(E,x*y),T=(a?a.inverseMass:0)+(o?o.inverseMass:0),I=(a?a.inverseInertia:0)+(o?o.inverseInertia:0),B=T+I,R,D,F,L,O;if(A>0){var k=s.create();F=s.div(E,p),O=s.sub(o&&s.sub(o.position,o.positionPrev)||k,a&&s.sub(a.position,a.positionPrev)||k),L=s.dot(F,O)}a&&!a.isStatic&&(D=a.inverseMass/T,a.constraintImpulse.x-=C.x*D,a.constraintImpulse.y-=C.y*D,a.position.x-=C.x*D,a.position.y-=C.y*D,A>0&&(a.positionPrev.x-=A*F.x*L*D,a.positionPrev.y-=A*F.y*L*D),R=s.cross(h,C)/B*e._torqueDampen*a.inverseInertia*(1-f.angularStiffness),a.constraintImpulse.angle-=R,a.angle-=R),o&&!o.isStatic&&(D=o.inverseMass/T,o.constraintImpulse.x+=C.x*D,o.constraintImpulse.y+=C.y*D,o.position.x+=C.x*D,o.position.y+=C.y*D,A>0&&(o.positionPrev.x+=A*F.x*L*D,o.positionPrev.y+=A*F.y*L*D),R=s.cross(m,C)/B*e._torqueDampen*o.inverseInertia*(1-f.angularStiffness),o.constraintImpulse.angle+=R,o.angle+=R)}}},e.postSolveAll=function(f){for(var t=0;t<f.length;t++){var a=f[t],o=a.constraintImpulse;if(!(a.isStatic||o.x===0&&o.y===0&&o.angle===0)){r.set(a,!1);for(var h=0;h<a.parts.length;h++){var m=a.parts[h];l.translate(m.vertices,o),h>0&&(m.position.x+=o.x,m.position.y+=o.y),o.angle!==0&&(l.rotate(m.vertices,o.angle,a.position),n.rotate(m.axes,o.angle),h>0&&s.rotateAbout(m.position,o.angle,a.position,m.position)),v.update(m.bounds,m.vertices,a.velocity)}o.angle*=e._warming,o.x*=e._warming,o.y*=e._warming}}},e.pointAWorld=function(f){return{x:(f.bodyA?f.bodyA.position.x:0)+(f.pointA?f.pointA.x:0),y:(f.bodyA?f.bodyA.position.y:0)+(f.pointA?f.pointA.y:0)}},e.pointBWorld=function(f){return{x:(f.bodyB?f.bodyB.position.x:0)+(f.pointB?f.pointB.x:0),y:(f.bodyB?f.bodyB.position.y:0)+(f.pointB?f.pointB.y:0)}},e.currentLength=function(f){var t=(f.bodyA?f.bodyA.position.x:0)+(f.pointA?f.pointA.x:0),a=(f.bodyA?f.bodyA.position.y:0)+(f.pointA?f.pointA.y:0),o=(f.bodyB?f.bodyB.position.x:0)+(f.pointB?f.pointB.x:0),h=(f.bodyB?f.bodyB.position.y:0)+(f.pointB?f.pointB.y:0),m=t-o,M=a-h;return Math.sqrt(m*m+M*M)}})()},function(d,P,u){var e={};d.exports=e;var l=u(2),s=u(0);(function(){e.fromVertices=function(r){for(var v={},n=0;n<r.length;n++){var c=(n+1)%r.length,f=l.normalise({x:r[c].y-r[n].y,y:r[n].x-r[c].x}),t=f.y===0?1/0:f.x/f.y;t=t.toFixed(3).toString(),v[t]=f}return s.values(v)},e.rotate=function(r,v){if(v!==0)for(var n=Math.cos(v),c=Math.sin(v),f=0;f<r.length;f++){var t=r[f],a;a=t.x*n-t.y*c,t.y=t.x*c+t.y*n,t.x=a}}})()},function(d,P,u){var e={};d.exports=e;var l=u(3),s=u(0),r=u(4),v=u(1),n=u(2);(function(){e.rectangle=function(c,f,t,a,o){o=o||{};var h={label:"Rectangle Body",position:{x:c,y:f},vertices:l.fromPath("L 0 0 L "+t+" 0 L "+t+" "+a+" L 0 "+a)};if(o.chamfer){var m=o.chamfer;h.vertices=l.chamfer(h.vertices,m.radius,m.quality,m.qualityMin,m.qualityMax),delete o.chamfer}return r.create(s.extend({},h,o))},e.trapezoid=function(c,f,t,a,o,h){h=h||{},o>=1&&s.warn("Bodies.trapezoid: slope parameter must be < 1."),o*=.5;var m=(1-o*2)*t,M=t*o,w=M+m,E=w+M,p;o<.5?p="L 0 0 L "+M+" "+-a+" L "+w+" "+-a+" L "+E+" 0":p="L 0 0 L "+w+" "+-a+" L "+E+" 0";var x={label:"Trapezoid Body",position:{x:c,y:f},vertices:l.fromPath(p)};if(h.chamfer){var S=h.chamfer;x.vertices=l.chamfer(x.vertices,S.radius,S.quality,S.qualityMin,S.qualityMax),delete h.chamfer}return r.create(s.extend({},x,h))},e.circle=function(c,f,t,a,o){a=a||{};var h={label:"Circle Body",circleRadius:t};o=o||25;var m=Math.ceil(Math.max(10,Math.min(o,t)));return m%2===1&&(m+=1),e.polygon(c,f,m,t,s.extend({},h,a))},e.polygon=function(c,f,t,a,o){if(o=o||{},t<3)return e.circle(c,f,a,o);for(var h=2*Math.PI/t,m="",M=h*.5,w=0;w<t;w+=1){var E=M+w*h,p=Math.cos(E)*a,x=Math.sin(E)*a;m+="L "+p.toFixed(3)+" "+x.toFixed(3)+" "}var S={label:"Polygon Body",position:{x:c,y:f},vertices:l.fromPath(m)};if(o.chamfer){var y=o.chamfer;S.vertices=l.chamfer(S.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete o.chamfer}return r.create(s.extend({},S,o))},e.fromVertices=function(c,f,t,a,o,h,m,M){var w=s.getDecomp(),E,p,x,S,y,A,C,T,I,B,R;for(E=!!(w&&w.quickDecomp),a=a||{},x=[],o=typeof o<"u"?o:!1,h=typeof h<"u"?h:.01,m=typeof m<"u"?m:10,M=typeof M<"u"?M:.01,s.isArray(t[0])||(t=[t]),B=0;B<t.length;B+=1)if(A=t[B],S=l.isConvex(A),y=!S,y&&!E&&s.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),S||!E)S?A=l.clockwiseSort(A):A=l.hull(A),x.push({position:{x:c,y:f},vertices:A});else{var D=A.map(function(H){return[H.x,H.y]});w.makeCCW(D),h!==!1&&w.removeCollinearPoints(D,h),M!==!1&&w.removeDuplicatePoints&&w.removeDuplicatePoints(D,M);var F=w.quickDecomp(D);for(C=0;C<F.length;C++){var L=F[C],O=L.map(function(H){return{x:H[0],y:H[1]}});m>0&&l.area(O)<m||x.push({position:l.centre(O),vertices:O})}}for(C=0;C<x.length;C++)x[C]=r.create(s.extend(x[C],a));if(o){var k=5;for(C=0;C<x.length;C++){var N=x[C];for(T=C+1;T<x.length;T++){var U=x[T];if(v.overlaps(N.bounds,U.bounds)){var b=N.vertices,$=U.vertices;for(I=0;I<N.vertices.length;I++)for(R=0;R<U.vertices.length;R++){var fe=n.magnitudeSquared(n.sub(b[(I+1)%b.length],$[R])),ee=n.magnitudeSquared(n.sub(b[I],$[(R+1)%$.length]));fe<k&&ee<k&&(b[I].isInternal=!0,$[R].isInternal=!0)}}}}}return x.length>1?(p=r.create(s.extend({parts:x.slice(0)},a)),r.setPosition(p,{x:c,y:f}),p):x[0]}})()},function(d,P,u){var e={};d.exports=e;var l=u(0),s=u(8);(function(){e.create=function(r){var v={bodies:[],collisions:[],pairs:null};return l.extend(v,r)},e.setBodies=function(r,v){r.bodies=v.slice(0)},e.clear=function(r){r.bodies=[],r.collisions=[]},e.collisions=function(r){var v=r.pairs,n=r.bodies,c=n.length,f=e.canCollide,t=s.collides,a=r.collisions,o=0,h,m;for(n.sort(e._compareBoundsX),h=0;h<c;h++){var M=n[h],w=M.bounds,E=M.bounds.max.x,p=M.bounds.max.y,x=M.bounds.min.y,S=M.isStatic||M.isSleeping,y=M.parts.length,A=y===1;for(m=h+1;m<c;m++){var C=n[m],T=C.bounds;if(T.min.x>E)break;if(!(p<T.min.y||x>T.max.y)&&!(S&&(C.isStatic||C.isSleeping))&&f(M.collisionFilter,C.collisionFilter)){var I=C.parts.length;if(A&&I===1){var B=t(M,C,v);B&&(a[o++]=B)}else for(var R=y>1?1:0,D=I>1?1:0,F=R;F<y;F++)for(var L=M.parts[F],w=L.bounds,O=D;O<I;O++){var k=C.parts[O],T=k.bounds;if(!(w.min.x>T.max.x||w.max.x<T.min.x||w.max.y<T.min.y||w.min.y>T.max.y)){var B=t(L,k,v);B&&(a[o++]=B)}}}}}return a.length!==o&&(a.length=o),a},e.canCollide=function(r,v){return r.group===v.group&&r.group!==0?r.group>0:(r.mask&v.category)!==0&&(v.mask&r.category)!==0},e._compareBoundsX=function(r,v){return r.bounds.min.x-v.bounds.min.x}})()},function(d,P,u){var e={};d.exports=e;var l=u(0);(function(){e.create=function(s){var r={};return s||l.log("Mouse.create: element was undefined, defaulting to document.body","warn"),r.element=s||document.body,r.absolute={x:0,y:0},r.position={x:0,y:0},r.mousedownPosition={x:0,y:0},r.mouseupPosition={x:0,y:0},r.offset={x:0,y:0},r.scale={x:1,y:1},r.wheelDelta=0,r.button=-1,r.pixelRatio=parseInt(r.element.getAttribute("data-pixel-ratio"),10)||1,r.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},r.mousemove=function(v){var n=e._getRelativeMousePosition(v,r.element,r.pixelRatio),c=v.changedTouches;c&&(r.button=0,v.preventDefault()),r.absolute.x=n.x,r.absolute.y=n.y,r.position.x=r.absolute.x*r.scale.x+r.offset.x,r.position.y=r.absolute.y*r.scale.y+r.offset.y,r.sourceEvents.mousemove=v},r.mousedown=function(v){var n=e._getRelativeMousePosition(v,r.element,r.pixelRatio),c=v.changedTouches;c?(r.button=0,v.preventDefault()):r.button=v.button,r.absolute.x=n.x,r.absolute.y=n.y,r.position.x=r.absolute.x*r.scale.x+r.offset.x,r.position.y=r.absolute.y*r.scale.y+r.offset.y,r.mousedownPosition.x=r.position.x,r.mousedownPosition.y=r.position.y,r.sourceEvents.mousedown=v},r.mouseup=function(v){var n=e._getRelativeMousePosition(v,r.element,r.pixelRatio),c=v.changedTouches;c&&v.preventDefault(),r.button=-1,r.absolute.x=n.x,r.absolute.y=n.y,r.position.x=r.absolute.x*r.scale.x+r.offset.x,r.position.y=r.absolute.y*r.scale.y+r.offset.y,r.mouseupPosition.x=r.position.x,r.mouseupPosition.y=r.position.y,r.sourceEvents.mouseup=v},r.mousewheel=function(v){r.wheelDelta=Math.max(-1,Math.min(1,v.wheelDelta||-v.detail)),v.preventDefault(),r.sourceEvents.mousewheel=v},e.setElement(r,r.element),r},e.setElement=function(s,r){s.element=r,r.addEventListener("mousemove",s.mousemove,{passive:!0}),r.addEventListener("mousedown",s.mousedown,{passive:!0}),r.addEventListener("mouseup",s.mouseup,{passive:!0}),r.addEventListener("wheel",s.mousewheel,{passive:!1}),r.addEventListener("touchmove",s.mousemove,{passive:!1}),r.addEventListener("touchstart",s.mousedown,{passive:!1}),r.addEventListener("touchend",s.mouseup,{passive:!1})},e.clearSourceEvents=function(s){s.sourceEvents.mousemove=null,s.sourceEvents.mousedown=null,s.sourceEvents.mouseup=null,s.sourceEvents.mousewheel=null,s.wheelDelta=0},e.setOffset=function(s,r){s.offset.x=r.x,s.offset.y=r.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y},e.setScale=function(s,r){s.scale.x=r.x,s.scale.y=r.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y},e._getRelativeMousePosition=function(s,r,v){var n=r.getBoundingClientRect(),c=document.documentElement||document.body.parentNode||document.body,f=window.pageXOffset!==void 0?window.pageXOffset:c.scrollLeft,t=window.pageYOffset!==void 0?window.pageYOffset:c.scrollTop,a=s.changedTouches,o,h;return a?(o=a[0].pageX-n.left-f,h=a[0].pageY-n.top-t):(o=s.pageX-n.left-f,h=s.pageY-n.top-t),{x:o/(r.clientWidth/(r.width||r.clientWidth)*v),y:h/(r.clientHeight/(r.height||r.clientHeight)*v)}}})()},function(d,P,u){var e={};d.exports=e;var l=u(0);(function(){e._registry={},e.register=function(s){if(e.isPlugin(s)||l.warn("Plugin.register:",e.toString(s),"does not implement all required fields."),s.name in e._registry){var r=e._registry[s.name],v=e.versionParse(s.version).number,n=e.versionParse(r.version).number;v>n?(l.warn("Plugin.register:",e.toString(r),"was upgraded to",e.toString(s)),e._registry[s.name]=s):v<n?l.warn("Plugin.register:",e.toString(r),"can not be downgraded to",e.toString(s)):s!==r&&l.warn("Plugin.register:",e.toString(s),"is already registered to different plugin object")}else e._registry[s.name]=s;return s},e.resolve=function(s){return e._registry[e.dependencyParse(s).name]},e.toString=function(s){return typeof s=="string"?s:(s.name||"anonymous")+"@"+(s.version||s.range||"0.0.0")},e.isPlugin=function(s){return s&&s.name&&s.version&&s.install},e.isUsed=function(s,r){return s.used.indexOf(r)>-1},e.isFor=function(s,r){var v=s.for&&e.dependencyParse(s.for);return!s.for||r.name===v.name&&e.versionSatisfies(r.version,v.range)},e.use=function(s,r){if(s.uses=(s.uses||[]).concat(r||[]),s.uses.length===0){l.warn("Plugin.use:",e.toString(s),"does not specify any dependencies to install.");return}for(var v=e.dependencies(s),n=l.topologicalSort(v),c=[],f=0;f<n.length;f+=1)if(n[f]!==s.name){var t=e.resolve(n[f]);if(!t){c.push("❌ "+n[f]);continue}e.isUsed(s,t.name)||(e.isFor(t,s)||(l.warn("Plugin.use:",e.toString(t),"is for",t.for,"but installed on",e.toString(s)+"."),t._warned=!0),t.install?t.install(s):(l.warn("Plugin.use:",e.toString(t),"does not specify an install function."),t._warned=!0),t._warned?(c.push("🔶 "+e.toString(t)),delete t._warned):c.push("✅ "+e.toString(t)),s.used.push(t.name))}c.length>0&&l.info(c.join("  "))},e.dependencies=function(s,r){var v=e.dependencyParse(s),n=v.name;if(r=r||{},!(n in r)){s=e.resolve(s)||s,r[n]=l.map(s.uses||[],function(f){e.isPlugin(f)&&e.register(f);var t=e.dependencyParse(f),a=e.resolve(f);return a&&!e.versionSatisfies(a.version,t.range)?(l.warn("Plugin.dependencies:",e.toString(a),"does not satisfy",e.toString(t),"used by",e.toString(v)+"."),a._warned=!0,s._warned=!0):a||(l.warn("Plugin.dependencies:",e.toString(f),"used by",e.toString(v),"could not be resolved."),s._warned=!0),t.name});for(var c=0;c<r[n].length;c+=1)e.dependencies(r[n][c],r);return r}},e.dependencyParse=function(s){if(l.isString(s)){var r=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return r.test(s)||l.warn("Plugin.dependencyParse:",s,"is not a valid dependency string."),{name:s.split("@")[0],range:s.split("@")[1]||"*"}}return{name:s.name,range:s.range||s.version}},e.versionParse=function(s){var r=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;r.test(s)||l.warn("Plugin.versionParse:",s,"is not a valid version or range.");var v=r.exec(s),n=Number(v[4]),c=Number(v[5]),f=Number(v[6]);return{isRange:!!(v[1]||v[2]),version:v[3],range:s,operator:v[1]||v[2]||"",major:n,minor:c,patch:f,parts:[n,c,f],prerelease:v[7],number:n*1e8+c*1e4+f}},e.versionSatisfies=function(s,r){r=r||"*";var v=e.versionParse(r),n=e.versionParse(s);if(v.isRange){if(v.operator==="*"||s==="*")return!0;if(v.operator===">")return n.number>v.number;if(v.operator===">=")return n.number>=v.number;if(v.operator==="~")return n.major===v.major&&n.minor===v.minor&&n.patch>=v.patch;if(v.operator==="^")return v.major>0?n.major===v.major&&n.number>=v.number:v.minor>0?n.minor===v.minor&&n.patch>=v.patch:n.patch===v.patch}return s===r||s==="*"}})()},function(d,P){var u={};d.exports=u,function(){u.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}}()},function(d,P,u){var e={};d.exports=e;var l=u(7),s=u(18),r=u(13),v=u(19),n=u(5),c=u(6),f=u(10),t=u(0),a=u(4);(function(){e._deltaMax=1e3/60,e.create=function(o){o=o||{};var h={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},m=t.extend(h,o);return m.world=o.world||c.create({label:"World"}),m.pairs=o.pairs||v.create(),m.detector=o.detector||r.create(),m.detector.pairs=m.pairs,m.grid={buckets:[]},m.world.gravity=m.gravity,m.broadphase=m.grid,m.metrics={},m},e.update=function(o,h){var m=t.now(),M=o.world,w=o.detector,E=o.pairs,p=o.timing,x=p.timestamp,S;h>e._deltaMax&&t.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",e._deltaMax.toFixed(3),"ms."),h=typeof h<"u"?h:t._baseDelta,h*=p.timeScale,p.timestamp+=h,p.lastDelta=h;var y={timestamp:p.timestamp,delta:h};n.trigger(o,"beforeUpdate",y);var A=c.allBodies(M),C=c.allConstraints(M);for(M.isModified&&(r.setBodies(w,A),c.setModified(M,!1,!1,!0)),o.enableSleeping&&l.update(A,h),e._bodiesApplyGravity(A,o.gravity),h>0&&e._bodiesUpdate(A,h),n.trigger(o,"beforeSolve",y),f.preSolveAll(A),S=0;S<o.constraintIterations;S++)f.solveAll(C,h);f.postSolveAll(A);var T=r.collisions(w);v.update(E,T,x),o.enableSleeping&&l.afterCollisions(E.list),E.collisionStart.length>0&&n.trigger(o,"collisionStart",{pairs:E.collisionStart,timestamp:p.timestamp,delta:h});var I=t.clamp(20/o.positionIterations,0,1);for(s.preSolvePosition(E.list),S=0;S<o.positionIterations;S++)s.solvePosition(E.list,h,I);for(s.postSolvePosition(A),f.preSolveAll(A),S=0;S<o.constraintIterations;S++)f.solveAll(C,h);for(f.postSolveAll(A),s.preSolveVelocity(E.list),S=0;S<o.velocityIterations;S++)s.solveVelocity(E.list,h);return e._bodiesUpdateVelocities(A),E.collisionActive.length>0&&n.trigger(o,"collisionActive",{pairs:E.collisionActive,timestamp:p.timestamp,delta:h}),E.collisionEnd.length>0&&n.trigger(o,"collisionEnd",{pairs:E.collisionEnd,timestamp:p.timestamp,delta:h}),e._bodiesClearForces(A),n.trigger(o,"afterUpdate",y),o.timing.lastElapsed=t.now()-m,o},e.merge=function(o,h){if(t.extend(o,h),h.world){o.world=h.world,e.clear(o);for(var m=c.allBodies(o.world),M=0;M<m.length;M++){var w=m[M];l.set(w,!1),w.id=t.nextId()}}},e.clear=function(o){v.clear(o.pairs),r.clear(o.detector)},e._bodiesClearForces=function(o){for(var h=o.length,m=0;m<h;m++){var M=o[m];M.force.x=0,M.force.y=0,M.torque=0}},e._bodiesApplyGravity=function(o,h){var m=typeof h.scale<"u"?h.scale:.001,M=o.length;if(!(h.x===0&&h.y===0||m===0))for(var w=0;w<M;w++){var E=o[w];E.isStatic||E.isSleeping||(E.force.y+=E.mass*h.y*m,E.force.x+=E.mass*h.x*m)}},e._bodiesUpdate=function(o,h){for(var m=o.length,M=0;M<m;M++){var w=o[M];w.isStatic||w.isSleeping||a.update(w,h)}},e._bodiesUpdateVelocities=function(o){for(var h=o.length,m=0;m<h;m++)a.updateVelocities(o[m])}})()},function(d,P,u){var e={};d.exports=e;var l=u(3),s=u(0),r=u(1);(function(){e._restingThresh=2,e._restingThreshTangent=Math.sqrt(6),e._positionDampen=.9,e._positionWarming=.8,e._frictionNormalMultiplier=5,e._frictionMaxStatic=Number.MAX_VALUE,e.preSolvePosition=function(v){var n,c,f,t=v.length;for(n=0;n<t;n++)c=v[n],c.isActive&&(f=c.contactCount,c.collision.parentA.totalContacts+=f,c.collision.parentB.totalContacts+=f)},e.solvePosition=function(v,n,c){var f,t,a,o,h,m,M,w,E=e._positionDampen*(c||1),p=s.clamp(n/s._baseDelta,0,1),x=v.length;for(f=0;f<x;f++)t=v[f],!(!t.isActive||t.isSensor)&&(a=t.collision,o=a.parentA,h=a.parentB,m=a.normal,t.separation=a.depth+m.x*(h.positionImpulse.x-o.positionImpulse.x)+m.y*(h.positionImpulse.y-o.positionImpulse.y));for(f=0;f<x;f++)t=v[f],!(!t.isActive||t.isSensor)&&(a=t.collision,o=a.parentA,h=a.parentB,m=a.normal,w=t.separation-t.slop*p,(o.isStatic||h.isStatic)&&(w*=2),o.isStatic||o.isSleeping||(M=E/o.totalContacts,o.positionImpulse.x+=m.x*w*M,o.positionImpulse.y+=m.y*w*M),h.isStatic||h.isSleeping||(M=E/h.totalContacts,h.positionImpulse.x-=m.x*w*M,h.positionImpulse.y-=m.y*w*M))},e.postSolvePosition=function(v){for(var n=e._positionWarming,c=v.length,f=l.translate,t=r.update,a=0;a<c;a++){var o=v[a],h=o.positionImpulse,m=h.x,M=h.y,w=o.velocity;if(o.totalContacts=0,m!==0||M!==0){for(var E=0;E<o.parts.length;E++){var p=o.parts[E];f(p.vertices,h),t(p.bounds,p.vertices,w),p.position.x+=m,p.position.y+=M}o.positionPrev.x+=m,o.positionPrev.y+=M,m*w.x+M*w.y<0?(h.x=0,h.y=0):(h.x*=n,h.y*=n)}}},e.preSolveVelocity=function(v){var n=v.length,c,f;for(c=0;c<n;c++){var t=v[c];if(!(!t.isActive||t.isSensor)){var a=t.contacts,o=t.contactCount,h=t.collision,m=h.parentA,M=h.parentB,w=h.normal,E=h.tangent;for(f=0;f<o;f++){var p=a[f],x=p.vertex,S=p.normalImpulse,y=p.tangentImpulse;if(S!==0||y!==0){var A=w.x*S+E.x*y,C=w.y*S+E.y*y;m.isStatic||m.isSleeping||(m.positionPrev.x+=A*m.inverseMass,m.positionPrev.y+=C*m.inverseMass,m.anglePrev+=m.inverseInertia*((x.x-m.position.x)*C-(x.y-m.position.y)*A)),M.isStatic||M.isSleeping||(M.positionPrev.x-=A*M.inverseMass,M.positionPrev.y-=C*M.inverseMass,M.anglePrev-=M.inverseInertia*((x.x-M.position.x)*C-(x.y-M.position.y)*A))}}}}},e.solveVelocity=function(v,n){var c=n/s._baseDelta,f=c*c,t=f*c,a=-e._restingThresh*c,o=e._restingThreshTangent,h=e._frictionNormalMultiplier*c,m=e._frictionMaxStatic,M=v.length,w,E,p,x;for(p=0;p<M;p++){var S=v[p];if(!(!S.isActive||S.isSensor)){var y=S.collision,A=y.parentA,C=y.parentB,T=y.normal.x,I=y.normal.y,B=y.tangent.x,R=y.tangent.y,D=S.inverseMass,F=S.friction*S.frictionStatic*h,L=S.contacts,O=S.contactCount,k=1/O,N=A.position.x-A.positionPrev.x,U=A.position.y-A.positionPrev.y,b=A.angle-A.anglePrev,$=C.position.x-C.positionPrev.x,fe=C.position.y-C.positionPrev.y,ee=C.angle-C.anglePrev;for(x=0;x<O;x++){var H=L[x],te=H.vertex,Z=te.x-A.position.x,Le=te.y-A.position.y,ie=te.x-C.position.x,re=te.y-C.position.y,q=N-Le*b,Xn=U+Z*b,$n=$-re*ee,Jn=fe+ie*ee,Wt=q-$n,bt=Xn-Jn,gt=T*Wt+I*bt,se=B*Wt+R*bt,zt=S.separation+gt,dt=Math.min(zt,1);dt=zt<0?0:dt;var Gt=dt*F;se<-Gt||se>Gt?(E=se>0?se:-se,w=S.friction*(se>0?1:-1)*t,w<-E?w=-E:w>E&&(w=E)):(w=se,E=m);var Kt=Z*I-Le*T,Qt=ie*I-re*T,Yt=k/(D+A.inverseInertia*Kt*Kt+C.inverseInertia*Qt*Qt),Ye=(1+S.restitution)*gt*Yt;if(w*=Yt,gt<a)H.normalImpulse=0;else{var qn=H.normalImpulse;H.normalImpulse+=Ye,H.normalImpulse>0&&(H.normalImpulse=0),Ye=H.normalImpulse-qn}if(se<-o||se>o)H.tangentImpulse=0;else{var jn=H.tangentImpulse;H.tangentImpulse+=w,H.tangentImpulse<-E&&(H.tangentImpulse=-E),H.tangentImpulse>E&&(H.tangentImpulse=E),w=H.tangentImpulse-jn}var Ze=T*Ye+B*w,Xe=I*Ye+R*w;A.isStatic||A.isSleeping||(A.positionPrev.x+=Ze*A.inverseMass,A.positionPrev.y+=Xe*A.inverseMass,A.anglePrev+=(Z*Xe-Le*Ze)*A.inverseInertia),C.isStatic||C.isSleeping||(C.positionPrev.x-=Ze*C.inverseMass,C.positionPrev.y-=Xe*C.inverseMass,C.anglePrev-=(ie*Xe-re*Ze)*C.inverseInertia)}}}}})()},function(d,P,u){var e={};d.exports=e;var l=u(9),s=u(0);(function(){e.create=function(r){return s.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},r)},e.update=function(r,v,n){var c=l.update,f=l.create,t=l.setActive,a=r.table,o=r.list,h=o.length,m=h,M=r.collisionStart,w=r.collisionEnd,E=r.collisionActive,p=v.length,x=0,S=0,y=0,A,C,T;for(T=0;T<p;T++)A=v[T],C=A.pair,C?(C.isActive&&(E[y++]=C),c(C,A,n)):(C=f(A,n),a[C.id]=C,M[x++]=C,o[m++]=C);for(m=0,h=o.length,T=0;T<h;T++)C=o[T],C.timeUpdated>=n?o[m++]=C:(t(C,!1,n),C.collision.bodyA.sleepCounter>0&&C.collision.bodyB.sleepCounter>0?o[m++]=C:(w[S++]=C,delete a[C.id]));o.length!==m&&(o.length=m),M.length!==x&&(M.length=x),w.length!==S&&(w.length=S),E.length!==y&&(E.length=y)},e.clear=function(r){return r.table={},r.list.length=0,r.collisionStart.length=0,r.collisionActive.length=0,r.collisionEnd.length=0,r}})()},function(d,P,u){var e=d.exports=u(21);e.Axes=u(11),e.Bodies=u(12),e.Body=u(4),e.Bounds=u(1),e.Collision=u(8),e.Common=u(0),e.Composite=u(6),e.Composites=u(22),e.Constraint=u(10),e.Contact=u(16),e.Detector=u(13),e.Engine=u(17),e.Events=u(5),e.Grid=u(23),e.Mouse=u(14),e.MouseConstraint=u(24),e.Pair=u(9),e.Pairs=u(19),e.Plugin=u(15),e.Query=u(25),e.Render=u(26),e.Resolver=u(18),e.Runner=u(27),e.SAT=u(28),e.Sleeping=u(7),e.Svg=u(29),e.Vector=u(2),e.Vertices=u(3),e.World=u(30),e.Engine.run=e.Runner.run,e.Common.deprecated(e.Engine,"run","Engine.run ➤ use Matter.Runner.run(engine) instead")},function(d,P,u){var e={};d.exports=e;var l=u(15),s=u(0);(function(){e.name="matter-js",e.version="0.20.0",e.uses=[],e.used=[],e.use=function(){l.use(e,Array.prototype.slice.call(arguments))},e.before=function(r,v){return r=r.replace(/^Matter./,""),s.chainPathBefore(e,r,v)},e.after=function(r,v){return r=r.replace(/^Matter./,""),s.chainPathAfter(e,r,v)}})()},function(d,P,u){var e={};d.exports=e;var l=u(6),s=u(10),r=u(0),v=u(4),n=u(12),c=r.deprecated;(function(){e.stack=function(f,t,a,o,h,m,M){for(var w=l.create({label:"Stack"}),E=f,p=t,x,S=0,y=0;y<o;y++){for(var A=0,C=0;C<a;C++){var T=M(E,p,C,y,x,S);if(T){var I=T.bounds.max.y-T.bounds.min.y,B=T.bounds.max.x-T.bounds.min.x;I>A&&(A=I),v.translate(T,{x:B*.5,y:I*.5}),E=T.bounds.max.x+h,l.addBody(w,T),x=T,S+=1}else E+=h}p+=A+m,E=f}return w},e.chain=function(f,t,a,o,h,m){for(var M=f.bodies,w=1;w<M.length;w++){var E=M[w-1],p=M[w],x=E.bounds.max.y-E.bounds.min.y,S=E.bounds.max.x-E.bounds.min.x,y=p.bounds.max.y-p.bounds.min.y,A=p.bounds.max.x-p.bounds.min.x,C={bodyA:E,pointA:{x:S*t,y:x*a},bodyB:p,pointB:{x:A*o,y:y*h}},T=r.extend(C,m);l.addConstraint(f,s.create(T))}return f.label+=" Chain",f},e.mesh=function(f,t,a,o,h){var m=f.bodies,M,w,E,p,x;for(M=0;M<a;M++){for(w=1;w<t;w++)E=m[w-1+M*t],p=m[w+M*t],l.addConstraint(f,s.create(r.extend({bodyA:E,bodyB:p},h)));if(M>0)for(w=0;w<t;w++)E=m[w+(M-1)*t],p=m[w+M*t],l.addConstraint(f,s.create(r.extend({bodyA:E,bodyB:p},h))),o&&w>0&&(x=m[w-1+(M-1)*t],l.addConstraint(f,s.create(r.extend({bodyA:x,bodyB:p},h)))),o&&w<t-1&&(x=m[w+1+(M-1)*t],l.addConstraint(f,s.create(r.extend({bodyA:x,bodyB:p},h))))}return f.label+=" Mesh",f},e.pyramid=function(f,t,a,o,h,m,M){return e.stack(f,t,a,o,h,m,function(w,E,p,x,S,y){var A=Math.min(o,Math.ceil(a/2)),C=S?S.bounds.max.x-S.bounds.min.x:0;if(!(x>A)){x=A-x;var T=x,I=a-1-x;if(!(p<T||p>I)){y===1&&v.translate(S,{x:(p+(a%2===1?1:-1))*C,y:0});var B=S?p*C:0;return M(f+B+p*h,E,p,x,S,y)}}})},e.newtonsCradle=function(f,t,a,o,h){for(var m=l.create({label:"Newtons Cradle"}),M=0;M<a;M++){var w=1.9,E=n.circle(f+M*(o*w),t+h,o,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),p=s.create({pointA:{x:f+M*(o*w),y:t},bodyB:E});l.addBody(m,E),l.addConstraint(m,p)}return m},c(e,"newtonsCradle","Composites.newtonsCradle ➤ moved to newtonsCradle example"),e.car=function(f,t,a,o,h){var m=v.nextGroup(!0),M=20,w=-a*.5+M,E=a*.5-M,p=0,x=l.create({label:"Car"}),S=n.rectangle(f,t,a,o,{collisionFilter:{group:m},chamfer:{radius:o*.5},density:2e-4}),y=n.circle(f+w,t+p,h,{collisionFilter:{group:m},friction:.8}),A=n.circle(f+E,t+p,h,{collisionFilter:{group:m},friction:.8}),C=s.create({bodyB:S,pointB:{x:w,y:p},bodyA:y,stiffness:1,length:0}),T=s.create({bodyB:S,pointB:{x:E,y:p},bodyA:A,stiffness:1,length:0});return l.addBody(x,S),l.addBody(x,y),l.addBody(x,A),l.addConstraint(x,C),l.addConstraint(x,T),x},c(e,"car","Composites.car ➤ moved to car example"),e.softBody=function(f,t,a,o,h,m,M,w,E,p){E=r.extend({inertia:1/0},E),p=r.extend({stiffness:.2,render:{type:"line",anchors:!1}},p);var x=e.stack(f,t,a,o,h,m,function(S,y){return n.circle(S,y,w,E)});return e.mesh(x,a,o,M,p),x.label="Soft Body",x},c(e,"softBody","Composites.softBody ➤ moved to softBody and cloth examples")})()},function(d,P,u){var e={};d.exports=e;var l=u(9),s=u(0),r=s.deprecated;(function(){e.create=function(v){var n={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return s.extend(n,v)},e.update=function(v,n,c,f){var t,a,o,h=c.world,m=v.buckets,M,w,E=!1;for(t=0;t<n.length;t++){var p=n[t];if(!(p.isSleeping&&!f)&&!(h.bounds&&(p.bounds.max.x<h.bounds.min.x||p.bounds.min.x>h.bounds.max.x||p.bounds.max.y<h.bounds.min.y||p.bounds.min.y>h.bounds.max.y))){var x=e._getRegion(v,p);if(!p.region||x.id!==p.region.id||f){(!p.region||f)&&(p.region=x);var S=e._regionUnion(x,p.region);for(a=S.startCol;a<=S.endCol;a++)for(o=S.startRow;o<=S.endRow;o++){w=e._getBucketId(a,o),M=m[w];var y=a>=x.startCol&&a<=x.endCol&&o>=x.startRow&&o<=x.endRow,A=a>=p.region.startCol&&a<=p.region.endCol&&o>=p.region.startRow&&o<=p.region.endRow;!y&&A&&A&&M&&e._bucketRemoveBody(v,M,p),(p.region===x||y&&!A||f)&&(M||(M=e._createBucket(m,w)),e._bucketAddBody(v,M,p))}p.region=x,E=!0}}}E&&(v.pairsList=e._createActivePairsList(v))},r(e,"update","Grid.update ➤ replaced by Matter.Detector"),e.clear=function(v){v.buckets={},v.pairs={},v.pairsList=[]},r(e,"clear","Grid.clear ➤ replaced by Matter.Detector"),e._regionUnion=function(v,n){var c=Math.min(v.startCol,n.startCol),f=Math.max(v.endCol,n.endCol),t=Math.min(v.startRow,n.startRow),a=Math.max(v.endRow,n.endRow);return e._createRegion(c,f,t,a)},e._getRegion=function(v,n){var c=n.bounds,f=Math.floor(c.min.x/v.bucketWidth),t=Math.floor(c.max.x/v.bucketWidth),a=Math.floor(c.min.y/v.bucketHeight),o=Math.floor(c.max.y/v.bucketHeight);return e._createRegion(f,t,a,o)},e._createRegion=function(v,n,c,f){return{id:v+","+n+","+c+","+f,startCol:v,endCol:n,startRow:c,endRow:f}},e._getBucketId=function(v,n){return"C"+v+"R"+n},e._createBucket=function(v,n){var c=v[n]=[];return c},e._bucketAddBody=function(v,n,c){var f=v.pairs,t=l.id,a=n.length,o;for(o=0;o<a;o++){var h=n[o];if(!(c.id===h.id||c.isStatic&&h.isStatic)){var m=t(c,h),M=f[m];M?M[2]+=1:f[m]=[c,h,1]}}n.push(c)},e._bucketRemoveBody=function(v,n,c){var f=v.pairs,t=l.id,a;n.splice(s.indexOf(n,c),1);var o=n.length;for(a=0;a<o;a++){var h=f[t(c,n[a])];h&&(h[2]-=1)}},e._createActivePairsList=function(v){var n,c=v.pairs,f=s.keys(c),t=f.length,a=[],o;for(o=0;o<t;o++)n=c[f[o]],n[2]>0?a.push(n):delete c[f[o]];return a}})()},function(d,P,u){var e={};d.exports=e;var l=u(3),s=u(7),r=u(14),v=u(5),n=u(13),c=u(10),f=u(6),t=u(0),a=u(1);(function(){e.create=function(o,h){var m=(o?o.mouse:null)||(h?h.mouse:null);m||(o&&o.render&&o.render.canvas?m=r.create(o.render.canvas):h&&h.element?m=r.create(h.element):(m=r.create(),t.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var M=c.create({label:"Mouse Constraint",pointA:m.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),w={type:"mouseConstraint",mouse:m,element:null,body:null,constraint:M,collisionFilter:{category:1,mask:4294967295,group:0}},E=t.extend(w,h);return v.on(o,"beforeUpdate",function(){var p=f.allBodies(o.world);e.update(E,p),e._triggerEvents(E)}),E},e.update=function(o,h){var m=o.mouse,M=o.constraint,w=o.body;if(m.button===0){if(M.bodyB)s.set(M.bodyB,!1),M.pointA=m.position;else for(var E=0;E<h.length;E++)if(w=h[E],a.contains(w.bounds,m.position)&&n.canCollide(w.collisionFilter,o.collisionFilter))for(var p=w.parts.length>1?1:0;p<w.parts.length;p++){var x=w.parts[p];if(l.contains(x.vertices,m.position)){M.pointA=m.position,M.bodyB=o.body=w,M.pointB={x:m.position.x-w.position.x,y:m.position.y-w.position.y},M.angleB=w.angle,s.set(w,!1),v.trigger(o,"startdrag",{mouse:m,body:w});break}}}else M.bodyB=o.body=null,M.pointB=null,w&&v.trigger(o,"enddrag",{mouse:m,body:w})},e._triggerEvents=function(o){var h=o.mouse,m=h.sourceEvents;m.mousemove&&v.trigger(o,"mousemove",{mouse:h}),m.mousedown&&v.trigger(o,"mousedown",{mouse:h}),m.mouseup&&v.trigger(o,"mouseup",{mouse:h}),r.clearSourceEvents(h)}})()},function(d,P,u){var e={};d.exports=e;var l=u(2),s=u(8),r=u(1),v=u(12),n=u(3);(function(){e.collides=function(c,f){for(var t=[],a=f.length,o=c.bounds,h=s.collides,m=r.overlaps,M=0;M<a;M++){var w=f[M],E=w.parts.length,p=E===1?0:1;if(m(w.bounds,o))for(var x=p;x<E;x++){var S=w.parts[x];if(m(S.bounds,o)){var y=h(S,c);if(y){t.push(y);break}}}}return t},e.ray=function(c,f,t,a){a=a||1e-100;for(var o=l.angle(f,t),h=l.magnitude(l.sub(f,t)),m=(t.x+f.x)*.5,M=(t.y+f.y)*.5,w=v.rectangle(m,M,h,a,{angle:o}),E=e.collides(w,c),p=0;p<E.length;p+=1){var x=E[p];x.body=x.bodyB=x.bodyA}return E},e.region=function(c,f,t){for(var a=[],o=0;o<c.length;o++){var h=c[o],m=r.overlaps(h.bounds,f);(m&&!t||!m&&t)&&a.push(h)}return a},e.point=function(c,f){for(var t=[],a=0;a<c.length;a++){var o=c[a];if(r.contains(o.bounds,f))for(var h=o.parts.length===1?0:1;h<o.parts.length;h++){var m=o.parts[h];if(r.contains(m.bounds,f)&&n.contains(m.vertices,f)){t.push(o);break}}}return t}})()},function(d,P,u){var e={};d.exports=e;var l=u(4),s=u(0),r=u(6),v=u(1),n=u(5),c=u(2),f=u(14);(function(){var t,a;typeof window<"u"&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(p){window.setTimeout(function(){p(s.now())},1e3/60)},a=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),e._goodFps=30,e._goodDelta=1e3/60,e.create=function(p){var x={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!p.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},S=s.extend(x,p);return S.canvas&&(S.canvas.width=S.options.width||S.canvas.width,S.canvas.height=S.options.height||S.canvas.height),S.mouse=p.mouse,S.engine=p.engine,S.canvas=S.canvas||m(S.options.width,S.options.height),S.context=S.canvas.getContext("2d"),S.textures={},S.bounds=S.bounds||{min:{x:0,y:0},max:{x:S.canvas.width,y:S.canvas.height}},S.controller=e,S.options.showBroadphase=!1,S.options.pixelRatio!==1&&e.setPixelRatio(S,S.options.pixelRatio),s.isElement(S.element)&&S.element.appendChild(S.canvas),S},e.run=function(p){(function x(S){p.frameRequestId=t(x),o(p,S),e.world(p,S),p.context.setTransform(p.options.pixelRatio,0,0,p.options.pixelRatio,0,0),(p.options.showStats||p.options.showDebug)&&e.stats(p,p.context,S),(p.options.showPerformance||p.options.showDebug)&&e.performance(p,p.context,S),p.context.setTransform(1,0,0,1,0,0)})()},e.stop=function(p){a(p.frameRequestId)},e.setPixelRatio=function(p,x){var S=p.options,y=p.canvas;x==="auto"&&(x=M(y)),S.pixelRatio=x,y.setAttribute("data-pixel-ratio",x),y.width=S.width*x,y.height=S.height*x,y.style.width=S.width+"px",y.style.height=S.height+"px"},e.setSize=function(p,x,S){p.options.width=x,p.options.height=S,p.bounds.max.x=p.bounds.min.x+x,p.bounds.max.y=p.bounds.min.y+S,p.options.pixelRatio!==1?e.setPixelRatio(p,p.options.pixelRatio):(p.canvas.width=x,p.canvas.height=S)},e.lookAt=function(p,x,S,y){y=typeof y<"u"?y:!0,x=s.isArray(x)?x:[x],S=S||{x:0,y:0};for(var A={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},C=0;C<x.length;C+=1){var T=x[C],I=T.bounds?T.bounds.min:T.min||T.position||T,B=T.bounds?T.bounds.max:T.max||T.position||T;I&&B&&(I.x<A.min.x&&(A.min.x=I.x),B.x>A.max.x&&(A.max.x=B.x),I.y<A.min.y&&(A.min.y=I.y),B.y>A.max.y&&(A.max.y=B.y))}var R=A.max.x-A.min.x+2*S.x,D=A.max.y-A.min.y+2*S.y,F=p.canvas.height,L=p.canvas.width,O=L/F,k=R/D,N=1,U=1;k>O?U=k/O:N=O/k,p.options.hasBounds=!0,p.bounds.min.x=A.min.x,p.bounds.max.x=A.min.x+R*N,p.bounds.min.y=A.min.y,p.bounds.max.y=A.min.y+D*U,y&&(p.bounds.min.x+=R*.5-R*N*.5,p.bounds.max.x+=R*.5-R*N*.5,p.bounds.min.y+=D*.5-D*U*.5,p.bounds.max.y+=D*.5-D*U*.5),p.bounds.min.x-=S.x,p.bounds.max.x-=S.x,p.bounds.min.y-=S.y,p.bounds.max.y-=S.y,p.mouse&&(f.setScale(p.mouse,{x:(p.bounds.max.x-p.bounds.min.x)/p.canvas.width,y:(p.bounds.max.y-p.bounds.min.y)/p.canvas.height}),f.setOffset(p.mouse,p.bounds.min))},e.startViewTransform=function(p){var x=p.bounds.max.x-p.bounds.min.x,S=p.bounds.max.y-p.bounds.min.y,y=x/p.options.width,A=S/p.options.height;p.context.setTransform(p.options.pixelRatio/y,0,0,p.options.pixelRatio/A,0,0),p.context.translate(-p.bounds.min.x,-p.bounds.min.y)},e.endViewTransform=function(p){p.context.setTransform(p.options.pixelRatio,0,0,p.options.pixelRatio,0,0)},e.world=function(p,x){var S=s.now(),y=p.engine,A=y.world,C=p.canvas,T=p.context,I=p.options,B=p.timing,R=r.allBodies(A),D=r.allConstraints(A),F=I.wireframes?I.wireframeBackground:I.background,L=[],O=[],k,N={timestamp:y.timing.timestamp};if(n.trigger(p,"beforeRender",N),p.currentBackground!==F&&E(p,F),T.globalCompositeOperation="source-in",T.fillStyle="transparent",T.fillRect(0,0,C.width,C.height),T.globalCompositeOperation="source-over",I.hasBounds){for(k=0;k<R.length;k++){var U=R[k];v.overlaps(U.bounds,p.bounds)&&L.push(U)}for(k=0;k<D.length;k++){var b=D[k],$=b.bodyA,fe=b.bodyB,ee=b.pointA,H=b.pointB;$&&(ee=c.add($.position,b.pointA)),fe&&(H=c.add(fe.position,b.pointB)),!(!ee||!H)&&(v.contains(p.bounds,ee)||v.contains(p.bounds,H))&&O.push(b)}e.startViewTransform(p),p.mouse&&(f.setScale(p.mouse,{x:(p.bounds.max.x-p.bounds.min.x)/p.options.width,y:(p.bounds.max.y-p.bounds.min.y)/p.options.height}),f.setOffset(p.mouse,p.bounds.min))}else O=D,L=R,p.options.pixelRatio!==1&&p.context.setTransform(p.options.pixelRatio,0,0,p.options.pixelRatio,0,0);!I.wireframes||y.enableSleeping&&I.showSleeping?e.bodies(p,L,T):(I.showConvexHulls&&e.bodyConvexHulls(p,L,T),e.bodyWireframes(p,L,T)),I.showBounds&&e.bodyBounds(p,L,T),(I.showAxes||I.showAngleIndicator)&&e.bodyAxes(p,L,T),I.showPositions&&e.bodyPositions(p,L,T),I.showVelocity&&e.bodyVelocity(p,L,T),I.showIds&&e.bodyIds(p,L,T),I.showSeparations&&e.separations(p,y.pairs.list,T),I.showCollisions&&e.collisions(p,y.pairs.list,T),I.showVertexNumbers&&e.vertexNumbers(p,L,T),I.showMousePosition&&e.mousePosition(p,p.mouse,T),e.constraints(O,T),I.hasBounds&&e.endViewTransform(p),n.trigger(p,"afterRender",N),B.lastElapsed=s.now()-S},e.stats=function(p,x,S){for(var y=p.engine,A=y.world,C=r.allBodies(A),T=0,I=55,B=44,R=0,D=0,F=0;F<C.length;F+=1)T+=C[F].parts.length;var L={Part:T,Body:C.length,Cons:r.allConstraints(A).length,Comp:r.allComposites(A).length,Pair:y.pairs.list.length};x.fillStyle="#0e0f19",x.fillRect(R,D,I*5.5,B),x.font="12px Arial",x.textBaseline="top",x.textAlign="right";for(var O in L){var k=L[O];x.fillStyle="#aaa",x.fillText(O,R+I,D+8),x.fillStyle="#eee",x.fillText(k,R+I,D+26),R+=I}},e.performance=function(p,x){var S=p.engine,y=p.timing,A=y.deltaHistory,C=y.elapsedHistory,T=y.timestampElapsedHistory,I=y.engineDeltaHistory,B=y.engineUpdatesHistory,R=y.engineElapsedHistory,D=S.timing.lastUpdatesPerFrame,F=S.timing.lastDelta,L=h(A),O=h(C),k=h(I),N=h(B),U=h(R),b=h(T),$=b/L||0,fe=Math.round(L/F),ee=1e3/L||0,H=4,te=12,Z=60,Le=34,ie=10,re=69;x.fillStyle="#0e0f19",x.fillRect(0,50,te*5+Z*6+22,Le),e.status(x,ie,re,Z,H,A.length,Math.round(ee)+" fps",ee/e._goodFps,function(q){return A[q]/L-1}),e.status(x,ie+te+Z,re,Z,H,I.length,F.toFixed(2)+" dt",e._goodDelta/F,function(q){return I[q]/k-1}),e.status(x,ie+(te+Z)*2,re,Z,H,B.length,D+" upf",Math.pow(s.clamp(N/fe||1,0,1),4),function(q){return B[q]/N-1}),e.status(x,ie+(te+Z)*3,re,Z,H,R.length,U.toFixed(2)+" ut",1-D*U/e._goodFps,function(q){return R[q]/U-1}),e.status(x,ie+(te+Z)*4,re,Z,H,C.length,O.toFixed(2)+" rt",1-O/e._goodFps,function(q){return C[q]/O-1}),e.status(x,ie+(te+Z)*5,re,Z,H,T.length,$.toFixed(2)+" x",$*$*$,function(q){return(T[q]/A[q]/$||0)-1})},e.status=function(p,x,S,y,A,C,T,I,B){p.strokeStyle="#888",p.fillStyle="#444",p.lineWidth=1,p.fillRect(x,S+7,y,1),p.beginPath(),p.moveTo(x,S+7-A*s.clamp(.4*B(0),-2,2));for(var R=0;R<y;R+=1)p.lineTo(x+R,S+7-(R<C?A*s.clamp(.4*B(R),-2,2):0));p.stroke(),p.fillStyle="hsl("+s.clamp(25+95*I,0,120)+",100%,60%)",p.fillRect(x,S-7,4,4),p.font="12px Arial",p.textBaseline="middle",p.textAlign="right",p.fillStyle="#eee",p.fillText(T,x+y,S-5)},e.constraints=function(p,x){for(var S=x,y=0;y<p.length;y++){var A=p[y];if(!(!A.render.visible||!A.pointA||!A.pointB)){var C=A.bodyA,T=A.bodyB,I,B;if(C?I=c.add(C.position,A.pointA):I=A.pointA,A.render.type==="pin")S.beginPath(),S.arc(I.x,I.y,3,0,2*Math.PI),S.closePath();else{if(T?B=c.add(T.position,A.pointB):B=A.pointB,S.beginPath(),S.moveTo(I.x,I.y),A.render.type==="spring")for(var R=c.sub(B,I),D=c.perp(c.normalise(R)),F=Math.ceil(s.clamp(A.length/5,12,20)),L,O=1;O<F;O+=1)L=O%2===0?1:-1,S.lineTo(I.x+R.x*(O/F)+D.x*L*4,I.y+R.y*(O/F)+D.y*L*4);S.lineTo(B.x,B.y)}A.render.lineWidth&&(S.lineWidth=A.render.lineWidth,S.strokeStyle=A.render.strokeStyle,S.stroke()),A.render.anchors&&(S.fillStyle=A.render.strokeStyle,S.beginPath(),S.arc(I.x,I.y,3,0,2*Math.PI),S.arc(B.x,B.y,3,0,2*Math.PI),S.closePath(),S.fill())}}},e.bodies=function(p,x,S){var y=S;p.engine;var A=p.options,C=A.showInternalEdges||!A.wireframes,T,I,B,R;for(B=0;B<x.length;B++)if(T=x[B],!!T.render.visible){for(R=T.parts.length>1?1:0;R<T.parts.length;R++)if(I=T.parts[R],!!I.render.visible){if(A.showSleeping&&T.isSleeping?y.globalAlpha=.5*I.render.opacity:I.render.opacity!==1&&(y.globalAlpha=I.render.opacity),I.render.sprite&&I.render.sprite.texture&&!A.wireframes){var D=I.render.sprite,F=w(p,D.texture);y.translate(I.position.x,I.position.y),y.rotate(I.angle),y.drawImage(F,F.width*-D.xOffset*D.xScale,F.height*-D.yOffset*D.yScale,F.width*D.xScale,F.height*D.yScale),y.rotate(-I.angle),y.translate(-I.position.x,-I.position.y)}else{if(I.circleRadius)y.beginPath(),y.arc(I.position.x,I.position.y,I.circleRadius,0,2*Math.PI);else{y.beginPath(),y.moveTo(I.vertices[0].x,I.vertices[0].y);for(var L=1;L<I.vertices.length;L++)!I.vertices[L-1].isInternal||C?y.lineTo(I.vertices[L].x,I.vertices[L].y):y.moveTo(I.vertices[L].x,I.vertices[L].y),I.vertices[L].isInternal&&!C&&y.moveTo(I.vertices[(L+1)%I.vertices.length].x,I.vertices[(L+1)%I.vertices.length].y);y.lineTo(I.vertices[0].x,I.vertices[0].y),y.closePath()}A.wireframes?(y.lineWidth=1,y.strokeStyle=p.options.wireframeStrokeStyle,y.stroke()):(y.fillStyle=I.render.fillStyle,I.render.lineWidth&&(y.lineWidth=I.render.lineWidth,y.strokeStyle=I.render.strokeStyle,y.stroke()),y.fill())}y.globalAlpha=1}}},e.bodyWireframes=function(p,x,S){var y=S,A=p.options.showInternalEdges,C,T,I,B,R;for(y.beginPath(),I=0;I<x.length;I++)if(C=x[I],!!C.render.visible)for(R=C.parts.length>1?1:0;R<C.parts.length;R++){for(T=C.parts[R],y.moveTo(T.vertices[0].x,T.vertices[0].y),B=1;B<T.vertices.length;B++)!T.vertices[B-1].isInternal||A?y.lineTo(T.vertices[B].x,T.vertices[B].y):y.moveTo(T.vertices[B].x,T.vertices[B].y),T.vertices[B].isInternal&&!A&&y.moveTo(T.vertices[(B+1)%T.vertices.length].x,T.vertices[(B+1)%T.vertices.length].y);y.lineTo(T.vertices[0].x,T.vertices[0].y)}y.lineWidth=1,y.strokeStyle=p.options.wireframeStrokeStyle,y.stroke()},e.bodyConvexHulls=function(p,x,S){var y=S,A,C,T;for(y.beginPath(),C=0;C<x.length;C++)if(A=x[C],!(!A.render.visible||A.parts.length===1)){for(y.moveTo(A.vertices[0].x,A.vertices[0].y),T=1;T<A.vertices.length;T++)y.lineTo(A.vertices[T].x,A.vertices[T].y);y.lineTo(A.vertices[0].x,A.vertices[0].y)}y.lineWidth=1,y.strokeStyle="rgba(255,255,255,0.2)",y.stroke()},e.vertexNumbers=function(p,x,S){var y=S,A,C,T;for(A=0;A<x.length;A++){var I=x[A].parts;for(T=I.length>1?1:0;T<I.length;T++){var B=I[T];for(C=0;C<B.vertices.length;C++)y.fillStyle="rgba(255,255,255,0.2)",y.fillText(A+"_"+C,B.position.x+(B.vertices[C].x-B.position.x)*.8,B.position.y+(B.vertices[C].y-B.position.y)*.8)}}},e.mousePosition=function(p,x,S){var y=S;y.fillStyle="rgba(255,255,255,0.8)",y.fillText(x.position.x+"  "+x.position.y,x.position.x+5,x.position.y-5)},e.bodyBounds=function(p,x,S){var y=S;p.engine;var A=p.options;y.beginPath();for(var C=0;C<x.length;C++){var T=x[C];if(T.render.visible)for(var I=x[C].parts,B=I.length>1?1:0;B<I.length;B++){var R=I[B];y.rect(R.bounds.min.x,R.bounds.min.y,R.bounds.max.x-R.bounds.min.x,R.bounds.max.y-R.bounds.min.y)}}A.wireframes?y.strokeStyle="rgba(255,255,255,0.08)":y.strokeStyle="rgba(0,0,0,0.1)",y.lineWidth=1,y.stroke()},e.bodyAxes=function(p,x,S){var y=S;p.engine;var A=p.options,C,T,I,B;for(y.beginPath(),T=0;T<x.length;T++){var R=x[T],D=R.parts;if(R.render.visible)if(A.showAxes)for(I=D.length>1?1:0;I<D.length;I++)for(C=D[I],B=0;B<C.axes.length;B++){var F=C.axes[B];y.moveTo(C.position.x,C.position.y),y.lineTo(C.position.x+F.x*20,C.position.y+F.y*20)}else for(I=D.length>1?1:0;I<D.length;I++)for(C=D[I],B=0;B<C.axes.length;B++)y.moveTo(C.position.x,C.position.y),y.lineTo((C.vertices[0].x+C.vertices[C.vertices.length-1].x)/2,(C.vertices[0].y+C.vertices[C.vertices.length-1].y)/2)}A.wireframes?(y.strokeStyle="indianred",y.lineWidth=1):(y.strokeStyle="rgba(255, 255, 255, 0.4)",y.globalCompositeOperation="overlay",y.lineWidth=2),y.stroke(),y.globalCompositeOperation="source-over"},e.bodyPositions=function(p,x,S){var y=S;p.engine;var A=p.options,C,T,I,B;for(y.beginPath(),I=0;I<x.length;I++)if(C=x[I],!!C.render.visible)for(B=0;B<C.parts.length;B++)T=C.parts[B],y.arc(T.position.x,T.position.y,3,0,2*Math.PI,!1),y.closePath();for(A.wireframes?y.fillStyle="indianred":y.fillStyle="rgba(0,0,0,0.5)",y.fill(),y.beginPath(),I=0;I<x.length;I++)C=x[I],C.render.visible&&(y.arc(C.positionPrev.x,C.positionPrev.y,2,0,2*Math.PI,!1),y.closePath());y.fillStyle="rgba(255,165,0,0.8)",y.fill()},e.bodyVelocity=function(p,x,S){var y=S;y.beginPath();for(var A=0;A<x.length;A++){var C=x[A];if(C.render.visible){var T=l.getVelocity(C);y.moveTo(C.position.x,C.position.y),y.lineTo(C.position.x+T.x,C.position.y+T.y)}}y.lineWidth=3,y.strokeStyle="cornflowerblue",y.stroke()},e.bodyIds=function(p,x,S){var y=S,A,C;for(A=0;A<x.length;A++)if(x[A].render.visible){var T=x[A].parts;for(C=T.length>1?1:0;C<T.length;C++){var I=T[C];y.font="12px Arial",y.fillStyle="rgba(255,255,255,0.5)",y.fillText(I.id,I.position.x+10,I.position.y-10)}}},e.collisions=function(p,x,S){var y=S,A=p.options,C,T,I,B;for(y.beginPath(),I=0;I<x.length;I++)if(C=x[I],!!C.isActive)for(T=C.collision,B=0;B<C.contactCount;B++){var R=C.contacts[B],D=R.vertex;y.rect(D.x-1.5,D.y-1.5,3.5,3.5)}for(A.wireframes?y.fillStyle="rgba(255,255,255,0.7)":y.fillStyle="orange",y.fill(),y.beginPath(),I=0;I<x.length;I++)if(C=x[I],!!C.isActive&&(T=C.collision,C.contactCount>0)){var F=C.contacts[0].vertex.x,L=C.contacts[0].vertex.y;C.contactCount===2&&(F=(C.contacts[0].vertex.x+C.contacts[1].vertex.x)/2,L=(C.contacts[0].vertex.y+C.contacts[1].vertex.y)/2),T.bodyB===T.supports[0].body||T.bodyA.isStatic===!0?y.moveTo(F-T.normal.x*8,L-T.normal.y*8):y.moveTo(F+T.normal.x*8,L+T.normal.y*8),y.lineTo(F,L)}A.wireframes?y.strokeStyle="rgba(255,165,0,0.7)":y.strokeStyle="orange",y.lineWidth=1,y.stroke()},e.separations=function(p,x,S){var y=S,A=p.options,C,T,I,B,R;for(y.beginPath(),R=0;R<x.length;R++)if(C=x[R],!!C.isActive){T=C.collision,I=T.bodyA,B=T.bodyB;var D=1;!B.isStatic&&!I.isStatic&&(D=.5),B.isStatic&&(D=0),y.moveTo(B.position.x,B.position.y),y.lineTo(B.position.x-T.penetration.x*D,B.position.y-T.penetration.y*D),D=1,!B.isStatic&&!I.isStatic&&(D=.5),I.isStatic&&(D=0),y.moveTo(I.position.x,I.position.y),y.lineTo(I.position.x+T.penetration.x*D,I.position.y+T.penetration.y*D)}A.wireframes?y.strokeStyle="rgba(255,165,0,0.5)":y.strokeStyle="orange",y.stroke()},e.inspector=function(p,x){p.engine;var S=p.selected,y=p.render,A=y.options,C;if(A.hasBounds){var T=y.bounds.max.x-y.bounds.min.x,I=y.bounds.max.y-y.bounds.min.y,B=T/y.options.width,R=I/y.options.height;x.scale(1/B,1/R),x.translate(-y.bounds.min.x,-y.bounds.min.y)}for(var D=0;D<S.length;D++){var F=S[D].data;switch(x.translate(.5,.5),x.lineWidth=1,x.strokeStyle="rgba(255,165,0,0.9)",x.setLineDash([1,2]),F.type){case"body":C=F.bounds,x.beginPath(),x.rect(Math.floor(C.min.x-3),Math.floor(C.min.y-3),Math.floor(C.max.x-C.min.x+6),Math.floor(C.max.y-C.min.y+6)),x.closePath(),x.stroke();break;case"constraint":var L=F.pointA;F.bodyA&&(L=F.pointB),x.beginPath(),x.arc(L.x,L.y,10,0,2*Math.PI),x.closePath(),x.stroke();break}x.setLineDash([]),x.translate(-.5,-.5)}p.selectStart!==null&&(x.translate(.5,.5),x.lineWidth=1,x.strokeStyle="rgba(255,165,0,0.6)",x.fillStyle="rgba(255,165,0,0.1)",C=p.selectBounds,x.beginPath(),x.rect(Math.floor(C.min.x),Math.floor(C.min.y),Math.floor(C.max.x-C.min.x),Math.floor(C.max.y-C.min.y)),x.closePath(),x.stroke(),x.fill(),x.translate(-.5,-.5)),A.hasBounds&&x.setTransform(1,0,0,1,0,0)};var o=function(p,x){var S=p.engine,y=p.timing,A=y.historySize,C=S.timing.timestamp;y.delta=x-y.lastTime||e._goodDelta,y.lastTime=x,y.timestampElapsed=C-y.lastTimestamp||0,y.lastTimestamp=C,y.deltaHistory.unshift(y.delta),y.deltaHistory.length=Math.min(y.deltaHistory.length,A),y.engineDeltaHistory.unshift(S.timing.lastDelta),y.engineDeltaHistory.length=Math.min(y.engineDeltaHistory.length,A),y.timestampElapsedHistory.unshift(y.timestampElapsed),y.timestampElapsedHistory.length=Math.min(y.timestampElapsedHistory.length,A),y.engineUpdatesHistory.unshift(S.timing.lastUpdatesPerFrame),y.engineUpdatesHistory.length=Math.min(y.engineUpdatesHistory.length,A),y.engineElapsedHistory.unshift(S.timing.lastElapsed),y.engineElapsedHistory.length=Math.min(y.engineElapsedHistory.length,A),y.elapsedHistory.unshift(y.lastElapsed),y.elapsedHistory.length=Math.min(y.elapsedHistory.length,A)},h=function(p){for(var x=0,S=0;S<p.length;S+=1)x+=p[S];return x/p.length||0},m=function(p,x){var S=document.createElement("canvas");return S.width=p,S.height=x,S.oncontextmenu=function(){return!1},S.onselectstart=function(){return!1},S},M=function(p){var x=p.getContext("2d"),S=window.devicePixelRatio||1,y=x.webkitBackingStorePixelRatio||x.mozBackingStorePixelRatio||x.msBackingStorePixelRatio||x.oBackingStorePixelRatio||x.backingStorePixelRatio||1;return S/y},w=function(p,x){var S=p.textures[x];return S||(S=p.textures[x]=new Image,S.src=x,S)},E=function(p,x){var S=x;/(jpg|gif|png)$/.test(x)&&(S="url("+x+")"),p.canvas.style.background=S,p.canvas.style.backgroundSize="contain",p.currentBackground=x}})()},function(d,P,u){var e={};d.exports=e;var l=u(5),s=u(17),r=u(0);(function(){e._maxFrameDelta=1e3/15,e._frameDeltaFallback=1e3/60,e._timeBufferMargin=1.5,e._elapsedNextEstimate=1,e._smoothingLowerBound=.1,e._smoothingUpperBound=.9,e.create=function(n){var c={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},f=r.extend(c,n);return f.fps=0,f},e.run=function(n,c){return n.timeBuffer=e._frameDeltaFallback,function f(t){n.frameRequestId=e._onNextFrame(n,f),t&&n.enabled&&e.tick(n,c,t)}(),n},e.tick=function(n,c,f){var t=r.now(),a=n.delta,o=0,h=f-n.timeLastTick;if((!h||!n.timeLastTick||h>Math.max(e._maxFrameDelta,n.maxFrameTime))&&(h=n.frameDelta||e._frameDeltaFallback),n.frameDeltaSmoothing){n.frameDeltaHistory.push(h),n.frameDeltaHistory=n.frameDeltaHistory.slice(-n.frameDeltaHistorySize);var m=n.frameDeltaHistory.slice(0).sort(),M=n.frameDeltaHistory.slice(m.length*e._smoothingLowerBound,m.length*e._smoothingUpperBound),w=v(M);h=w||h}n.frameDeltaSnapping&&(h=1e3/Math.round(1e3/h)),n.frameDelta=h,n.timeLastTick=f,n.timeBuffer+=n.frameDelta,n.timeBuffer=r.clamp(n.timeBuffer,0,n.frameDelta+a*e._timeBufferMargin),n.lastUpdatesDeferred=0;var E=n.maxUpdates||Math.ceil(n.maxFrameTime/a),p={timestamp:c.timing.timestamp};l.trigger(n,"beforeTick",p),l.trigger(n,"tick",p);for(var x=r.now();a>0&&n.timeBuffer>=a*e._timeBufferMargin;){l.trigger(n,"beforeUpdate",p),s.update(c,a),l.trigger(n,"afterUpdate",p),n.timeBuffer-=a,o+=1;var S=r.now()-t,y=r.now()-x,A=S+e._elapsedNextEstimate*y/o;if(o>=E||A>n.maxFrameTime){n.lastUpdatesDeferred=Math.round(Math.max(0,n.timeBuffer/a-e._timeBufferMargin));break}}c.timing.lastUpdatesPerFrame=o,l.trigger(n,"afterTick",p),n.frameDeltaHistory.length>=100&&(n.lastUpdatesDeferred&&Math.round(n.frameDelta/a)>E?r.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):n.lastUpdatesDeferred&&r.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof n.isFixed<"u"&&r.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(n.deltaMin||n.deltaMax)&&r.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),n.fps!==0&&r.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},e.stop=function(n){e._cancelNextFrame(n)},e._onNextFrame=function(n,c){if(typeof window<"u"&&window.requestAnimationFrame)n.frameRequestId=window.requestAnimationFrame(c);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return n.frameRequestId},e._cancelNextFrame=function(n){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(n.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var v=function(n){for(var c=0,f=n.length,t=0;t<f;t+=1)c+=n[t];return c/f||0}})()},function(d,P,u){var e={};d.exports=e;var l=u(8),s=u(0),r=s.deprecated;(function(){e.collides=function(v,n){return l.collides(v,n)},r(e,"collides","SAT.collides ➤ replaced by Collision.collides")})()},function(d,P,u){var e={};d.exports=e,u(1);var l=u(0);(function(){e.pathToVertices=function(s,r){typeof window<"u"&&!("SVGPathSeg"in window)&&l.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var v,n,c,f,t,a,o,h,m,M,w=[],E,p,x=0,S=0,y=0;r=r||15;var A=function(T,I,B){var R=B%2===1&&B>1;if(!m||T!=m.x||I!=m.y){m&&R?(E=m.x,p=m.y):(E=0,p=0);var D={x:E+T,y:p+I};(R||!m)&&(m=D),w.push(D),S=E+T,y=p+I}},C=function(T){var I=T.pathSegTypeAsLetter.toUpperCase();if(I!=="Z"){switch(I){case"M":case"L":case"T":case"C":case"S":case"Q":S=T.x,y=T.y;break;case"H":S=T.x;break;case"V":y=T.y;break}A(S,y,T.pathSegType)}};for(e._svgPathToAbsolute(s),c=s.getTotalLength(),a=[],v=0;v<s.pathSegList.numberOfItems;v+=1)a.push(s.pathSegList.getItem(v));for(o=a.concat();x<c;){if(M=s.getPathSegAtLength(x),t=a[M],t!=h){for(;o.length&&o[0]!=t;)C(o.shift());h=t}switch(t.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":f=s.getPointAtLength(x),A(f.x,f.y,0);break}x+=r}for(v=0,n=o.length;v<n;++v)C(o[v]);return w},e._svgPathToAbsolute=function(s){for(var r,v,n,c,f,t,a=s.pathSegList,o=0,h=0,m=a.numberOfItems,M=0;M<m;++M){var w=a.getItem(M),E=w.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(E))"x"in w&&(o=w.x),"y"in w&&(h=w.y);else switch("x1"in w&&(n=o+w.x1),"x2"in w&&(f=o+w.x2),"y1"in w&&(c=h+w.y1),"y2"in w&&(t=h+w.y2),"x"in w&&(o+=w.x),"y"in w&&(h+=w.y),E){case"m":a.replaceItem(s.createSVGPathSegMovetoAbs(o,h),M);break;case"l":a.replaceItem(s.createSVGPathSegLinetoAbs(o,h),M);break;case"h":a.replaceItem(s.createSVGPathSegLinetoHorizontalAbs(o),M);break;case"v":a.replaceItem(s.createSVGPathSegLinetoVerticalAbs(h),M);break;case"c":a.replaceItem(s.createSVGPathSegCurvetoCubicAbs(o,h,n,c,f,t),M);break;case"s":a.replaceItem(s.createSVGPathSegCurvetoCubicSmoothAbs(o,h,f,t),M);break;case"q":a.replaceItem(s.createSVGPathSegCurvetoQuadraticAbs(o,h,n,c),M);break;case"t":a.replaceItem(s.createSVGPathSegCurvetoQuadraticSmoothAbs(o,h),M);break;case"a":a.replaceItem(s.createSVGPathSegArcAbs(o,h,w.r1,w.r2,w.angle,w.largeArcFlag,w.sweepFlag),M);break;case"z":case"Z":o=r,h=v;break}(E=="M"||E=="m")&&(r=o,v=h)}}})()},function(d,P,u){var e={};d.exports=e;var l=u(6);u(0),function(){e.create=l.create,e.add=l.add,e.remove=l.remove,e.clear=l.clear,e.addComposite=l.addComposite,e.addBody=l.addBody,e.addConstraint=l.addConstraint}()}])})})(Zn);var W=Zn.exports,pr=(i,g,d)=>{K(g,le(i.layerX)),K(d,le(i.layerY))},mr=De("<br>"),xr=De('<span class="svelte-1pj93fu"> </span>'),yr=De("<!> <!>",1),Sr=De('<figure class="svelte-1pj93fu"><!></figure>');function wr(i,g){ct(g,!0);let d=de(g,"text",7),P=de(g,"element",7),u=de(g,"trimTop",3,.3),e=de(g,"trimBottom",3,.15),l=de(g,"canvas",3,!1),s=X(!1),r=X(void 0),v=X(void 0),n,c,f,t=tt(()=>P().getBoundingClientRect()),a=X(void 0);const o="gjqpy",h="lidtfjkb";Ut(()=>{d().style.display="none",P().style.position="relative";const w=getComputedStyle(P()),E=Number(w.padding.replace("px",""))||60;P().style.padding="0",n=W.Engine.create({enableSleeping:!0}),c=l()?W.Render.create({element:P(),engine:n,options:{pixelRatio:window.devicePixelRatio,width:V(t).width,height:V(t).height,wireframes:!1,background:"transparent"}}):void 0;const p=Array.from(V(a).querySelectorAll("span").values()).map((R,D)=>{const F=R.innerText,L=h.includes(F),O=o.includes(F),{x:k,y:N,w:U,h:b}={x:R.offsetLeft,w:R.offsetWidth,y:R.offsetTop+R.offsetHeight*(L?.12:u()),h:R.offsetHeight*(1-(L?.12:u())-(O?0:e()))};return{ascending:L,descending:O,x:k,y:N,w:U,h:b,adjustX:R.offsetWidth/2,adjustY:R.offsetHeight/2,span:R,body:W.Body.create({slop:0,restitution:.1,parts:[W.Bodies.rectangle(k+U/2,R.offsetTop+R.offsetHeight/2,U,R.offsetHeight,{isSensor:!0,render:{fillStyle:"black",opacity:.5}}),W.Bodies.rectangle(k+U/2,N+b/2,U,b,{chamfer:{radius:U/4},density:0,render:{opacity:.5}})]})}}),x=5e3,S=W.Bodies.rectangle(V(t).width/2,-x,V(t).width,E+x*2,{isStatic:!0,friction:0}),y=W.Bodies.rectangle(V(t).width+x,V(t).height/2,E+x*2,V(t).height,{isStatic:!0,friction:0}),A=W.Bodies.rectangle(V(t).width/2,V(t).height+x,V(t).width,E+x*2,{isStatic:!0,friction:0}),C=W.Bodies.rectangle(-x,V(t).height/2,E+x*2,V(t).height,{isStatic:!0,friction:0}),T=W.Bodies.circle(0,0,100,{isStatic:!0,slop:0,render:{fillStyle:"green",opacity:.5}});W.Composite.add(n.world,[...p.map(R=>R.body),T,S,y,A,C]);const I=It.subscribe(R=>{!R||!R.w||(W.Body.scale(T,R.w/220,R.h/220),I())});It.subscribe(R=>{!R||!R.x||!V(r)||(W.Body.setPosition(T,{x:V(r),y:V(v)},!0),p.forEach(D=>{W.Sleeping.set(D.body,!1)}))}),K(s,!0),c&&W.Render.run(c),f=W.Runner.create(),W.Runner.run(f,n);function B(){p.forEach(({span:R,body:D})=>{!D.isSleeping&&D.position.x&&(R.style.transform=`translate3d(${D.position.x}px, ${D.position.y}px, 0) rotate(${D.angle}rad)`)})}return p.forEach(({span:R,adjustX:D,adjustY:F,w:L,h:O,ascending:k,descending:N})=>{R.style.left=D*-1+"px",R.style.top=F*-1+"px"}),W.Events.on(n,"afterUpdate",B),()=>{W.Render.stop(c),W.Runner.stop(f),W.Events.off(n,"afterUpdate",B),W.World.clear(n.world,!1),W.Engine.clear(n),c&&(c.canvas.remove(),c.canvas=null,c.context=null,c.textures={})}});var m=Sr();m.__pointermove=[pr,r,v];var M=nt(m);tr(M,()=>d().tagName,!1,(w,E)=>{ur(w,y=>K(a,le(y)),()=>V(a));let p;Ve(()=>p=ar(w,p,{class:d().className},"svelte-1pj93fu"));var x=Qn(),S=Et(x);un(S,65,()=>d().innerHTML.trim().split("<br>"),fn,(y,A,C)=>{var T=yr(),I=Et(T);Kn(I,()=>xt(C)!==0,R=>{var D=mr();ce(R,D)});var B=an(an(I,!0));un(B,65,()=>Array.from(xt(A)).filter((R,D)=>D<12),fn,(R,D,F)=>{var L=xr(),O=nt(L);Ve(()=>Zi(O,xt(D))),ce(R,L)}),ce(y,T)}),ce(E,x)}),Ve(()=>lr(m,"ready",V(s))),ce(i,m),vt()}zn(["pointermove"]);var Pr=De('<figure class="svelte-sh25vc"><img alt="Doodle" class="svelte-sh25vc"></figure>');function Cr(i,g){ct(g,!0);let d=de(g,"element",7);Ut(()=>{d().style.position="relative"});var P=Pr(),u=nt(P);Ve(()=>{_e(P,"left",`${g.left}%`),_e(P,"top",`${g.top}%`),_e(P,"width",`${g.size}vw`),ht(u,"src",g.src)}),ce(i,P),vt()}console.log("Gourmando");document.querySelectorAll("[data-cursor]").forEach(i=>{Nt(dr,{target:i,props:{src:i.getAttribute("data-cursor"),element:i}})});document.querySelectorAll("[data-doodle]").forEach(i=>{const g=i.parentElement.nextElementSibling;Nt(Cr,{target:g,props:{src:i.getAttribute("data-doodle"),top:Number(i.getAttribute("data-doodle-top")),left:Number(i.getAttribute("data-doodle-left")),size:Number(i.getAttribute("data-doodle-size")),element:g}})});document.querySelectorAll("[data-physics]").forEach(i=>{Nt(wr,{target:i,props:{text:i.querySelector("[data-physics-text]"),element:i}})});
